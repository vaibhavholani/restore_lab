(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3168],{3168:function(e,t,n){"use strict";n.d(t,{vQ:function(){return $},qG:function(){return W}});var r=n(67294),o=n(85893);function i(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{s(r.next(e))}catch(t){i(t)}}function a(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}s((r=r.apply(e,t||[])).next())}))}Object.create;Object.create;var c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.create;Object.create;function a(e,t){var n=[];return function(e,t){var n,r,o=(r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],c=0,a=i.length;c<a;c++,o++)r[o]=i[c];return r}(e),{current:function(){return r[0]},postpone:function(){var e=r.shift();void 0!==e&&r.push(e)},exclude:function(){r.shift()}}),i=(100,3e3,n=0,function(){return Math.random()*Math.min(3e3,100*Math.pow(2,n++))}),c=o.current();if(void 0===c)return Promise.reject(new TypeError("The list of script URL patterns is empty"));var a=function(e,n){return t(e).catch((function(e){if(n+1>=5)throw e;!function(e){if(!(e instanceof Error))return!1;var t=e.message;return"Blocked by CSP"===t||"9319"===t}(e)?o.postpone():o.exclude();var t,r=o.current();if(void 0===r)throw e;return(t=i(),new Promise((function(e){return setTimeout(e,t)}))).then((function(){return a(r,n+1)}))}))};return a(c,0)}(e,(function(e){var r=new Date,o=function(){return n.push({url:e,startedAt:r,finishedAt:new Date})},i=t(e);return i.then(o,o),i})).then((function(e){return[e,{attempts:n}]}))}var s="https://fpnpmcdn.net/v<version>/<apiKey>/loader_v<loaderVersion>.js",u="Failed to load the JS script of the agent";function l(e){var t;e.scriptUrlPattern;var n=e.token,r=e.apiKey,o=void 0===r?n:r,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["scriptUrlPattern","token","apiKey"]),u=null!==(t=function(e,t){return function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,t)?e[t]:void 0}(e,"scriptUrlPattern"))&&void 0!==t?t:s;return Promise.resolve().then((function(){if(!o||"string"!=typeof o)throw new Error("API key required");return a(function(e,t){return(Array.isArray(e)?e:[e]).map((function(e){return function(e,t){var n=encodeURIComponent;return e.replace(/<[^<>]+>/g,(function(e){return"<version>"===e?"3":"<apiKey>"===e?n(t):"<loaderVersion>"===e?n("3.8.1"):e}))}(String(e),t)}))}(u,o),f).catch(d)})).then((function(e){var t=e[0],n=e[1];return t.load(c(c({},i),{ldi:n}))}))}function f(e){return function(e,t,n,r){var o,i=document,c="securitypolicyviolation",a=function(t){var n=new URL(e,location.href),r=t.blockedURI;r!==n.href&&r!==n.protocol.slice(0,-1)&&r!==n.origin||(o=t,s())};i.addEventListener(c,a);var s=function(){return i.removeEventListener(c,a)};return Promise.resolve().then(t).then((function(e){return s(),e}),(function(e){return new Promise((function(e){return setTimeout(e)})).then((function(){if(s(),o)return function(){throw new Error("Blocked by CSP")}();throw e}))}))}(e,(function(){return function(e){return new Promise((function(t,n){var r=document.createElement("script"),o=function(){var e;return null===(e=r.parentNode)||void 0===e?void 0:e.removeChild(r)},i=document.head||document.getElementsByTagName("head")[0];r.onload=function(){o(),t()},r.onerror=function(){o(),n(new Error(u))},r.async=!0,r.src=e,i.appendChild(r)}))}(e)})).then(h)}function h(){var e=window,t="__fpjs_p_l_b",n=e[t];if(function(e,t){var n,r=null===(n=Object.getOwnPropertyDescriptor)||void 0===n?void 0:n.call(Object,e,t);(null==r?void 0:r.configurable)?delete e[t]:r&&!r.writable||(e[t]=void 0)}(e,t),"function"!=typeof(null==n?void 0:n.load))throw new Error("9319");return n}function d(e){throw e instanceof Error&&"9319"===e.message?new Error(u):e}const p=()=>Date.now();class v{constructor(e){var t;this.tag=e.tag||null,this.linkedId=e.linkedId||null,this.extendedResult=null!==(t=e.extendedResult)&&void 0!==t&&t}toKey(){return`${JSON.stringify(this.tag)}__${JSON.stringify(this.linkedId)}__${this.extendedResult}`}}function y(e,t){return`${t}__${e}`}function g(e,t){return e.replace(`${t}__`,"")}class w{constructor(e="@fpjs@client@"){this.prefix=e}set(e,t){window.localStorage.setItem(y(e,this.prefix),JSON.stringify(t))}get(e){const t=window.localStorage.getItem(y(e,this.prefix));if(t)try{return JSON.parse(t)}catch(n){return}}remove(e){window.localStorage.removeItem(y(e,this.prefix))}allKeys(){return Object.keys(window.localStorage).filter((e=>e.startsWith(this.prefix))).map((e=>g(e,this.prefix)))}}class m{constructor(e="@fpjs@client@"){this.prefix=e}set(e,t){window.sessionStorage.setItem(y(e,this.prefix),JSON.stringify(t))}get(e){const t=window.sessionStorage.getItem(y(e,this.prefix));if(t)try{return JSON.parse(t)}catch(n){return}}remove(e){window.sessionStorage.removeItem(y(e,this.prefix))}allKeys(){return Object.keys(window.sessionStorage).filter((e=>e.startsWith(this.prefix))).map((e=>g(e,this.prefix)))}}class b{constructor(e,t=3600,n){this.cache=e,this.cacheTime=t,this.nowProvider=n||p}get(e){return i(this,void 0,void 0,(function*(){const t=yield this.cache.get(e.toKey());if(!t)return;const n=yield this.nowProvider(),r=Math.floor(n/1e3);if(!(t.expiresAt<r))return t.body;yield this.cache.remove(e.toKey())}))}set(e,t){return i(this,void 0,void 0,(function*(){const n=yield this.wrapCacheEntry(t);yield this.cache.set(e.toKey(),n)}))}clearCache(){return i(this,void 0,void 0,(function*(){const e=yield this.cache.allKeys();yield Promise.all(e.map((e=>this.cache.remove(e))))}))}wrapCacheEntry(e){return i(this,void 0,void 0,(function*(){const t=yield this.nowProvider(),n=Math.floor(t/1e3)+this.cacheTime;return{body:e,expiresAt:n}}))}}class O{constructor(){this.enclosedCache=function(){const e={};return{set(t,n){e[t]=n},get(t){const n=e[t];if(n)return n},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}}()}}class x{set(){}get(){}remove(){}allKeys(){return[]}}var S;!function(e){e.Memory="memory",e.LocalStorage="localstorage",e.SessionStorage="sessionstorage",e.NoCache="nocache"}(S||(S={}));const j={[S.Memory]:()=>(new O).enclosedCache,[S.LocalStorage]:e=>new w(e),[S.SessionStorage]:e=>new m(e),[S.NoCache]:()=>new x},P=e=>j[e];class E{constructor(e){var t;let n;if(this.options=e,this.inFlightRequests=new Map,this.agentPromise=null,this.agent={get:()=>{throw new Error("FPJSAgent hasn't loaded yet. Make sure to call the init() method first.")}},this.loadOptions=Object.assign(Object.assign({},e.loadOptions),{integrationInfo:[...e.loadOptions.integrationInfo||[],"fingerprintjs-pro-spa/0.6.0"]}),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the FpjsClient configuration; ignoring `cacheLocation` and using `cache`."),e.cache)n=e.cache;else{if(this.cacheLocation=e.cacheLocation||S.SessionStorage,!P(this.cacheLocation))throw new Error(`Invalid cache location "${this.cacheLocation}"`);n=P(this.cacheLocation)(e.cachePrefix)}if(e.cacheTimeInSeconds&&e.cacheTimeInSeconds>86400)throw new Error("Cache time cannot exceed 86400 seconds (24 hours)");const r=null!==(t=e.cacheTimeInSeconds)&&void 0!==t?t:3600;this.cacheManager=new b(n,r)}init(){return i(this,void 0,void 0,(function*(){return this.agentPromise||(this.agentPromise=l(this.loadOptions).then((e=>(this.agent=e,e))).catch((e=>{throw this.agentPromise=null,e}))),this.agentPromise}))}getVisitorData(e={},t=!1){return i(this,void 0,void 0,(function*(){const n=E.makeCacheKey(e).toKey();if(!this.inFlightRequests.has(n)){const r=this._identify(e,t).finally((()=>{this.inFlightRequests.delete(n)}));this.inFlightRequests.set(n,r)}return yield this.inFlightRequests.get(n)}))}clearCache(){return i(this,void 0,void 0,(function*(){yield this.cacheManager.clearCache()}))}static makeCacheKey(e){return new v(e)}_identify(e,t=!1){return i(this,void 0,void 0,(function*(){const n=E.makeCacheKey(e);if(!t){const e=yield this.cacheManager.get(n);if(e)return e}const r=yield this.agent.get(e);return yield this.cacheManager.set(n,r),r}))}}var C=n(64063),k=n.n(C),_=function(){throw new Error("You forgot to wrap your component in <FpjsProvider>.")},I={getVisitorData:_,clearCache:_},R=(0,r.createContext)(I),A=function(e,t){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};var L=function(){return(L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function T(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{s(r.next(e))}catch(t){i(t)}}function a(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}s((r=r.apply(e,t||[])).next())}))}function K(e,t){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function M(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function N(e){var t=e.checkCondition,n=e.intervalMs,r=void 0===n?250:n,o=e.timeoutMs,i=void 0===o?2e3:o;return new Promise((function(e,n){var o=setTimeout((function(){clearInterval(c),n(new Error("Timeout"))}),i),c=setInterval((function(){t()&&(clearTimeout(o),clearInterval(c),e())}),r)}))}var D;function F(){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if("undefined"===typeof window)return!1;for(var n=0,r=e;n<r.length;n++){if((0,r[n])())return!0}return!1}((function(){return"next"in window&&Boolean(window.next)}),(function(){return document.querySelector("script[id=__NEXT_DATA__]")}))}function J(){var e;return null===(e=null===window||void 0===window?void 0:window.next)||void 0===e?void 0:e.version}function U(e){try{var t=JSON.parse('{"name":"next","version":"10.1.3"}');if("object"===typeof t)return t}catch(n){}return function(e){var t=e.context;return F()?{name:D.Next,version:J()}:function(e){return e.classRenderReceivesAnyArguments}(t)?{name:D.Preact}:function(e){return!e.classRenderReceivesAnyArguments}(t)?{name:D.React}:{name:D.Unknown}}(e)}!function(e){e.React="react",e.Preact="preact",e.Next="next",e.Unknown="unknown"}(D||(D={}));var q=function(e){function t(t){return e.call(this,t)||this}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.render=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this.detectedEnv){var n=e.length>0,o={context:{classRenderReceivesAnyArguments:n}};this.detectedEnv=U(o)}return(0,r.cloneElement)(this.props.children,{env:this.detectedEnv})},t}(r.Component),V="@fingerprintjs/fingerprintjs-pro-react".split("/")[1];function $(e){var t=e;return(0,o.jsx)(q,{children:(0,o.jsx)(B,L({},t))})}function B(e){var t=this,n=e.children,i=e.forceRebuild,c=e.cache,a=e.cacheTimeInSeconds,s=e.cachePrefix,u=e.cacheLocation,l=e.loadOptions,f=e.env,h=(0,r.useRef)(),d=(0,r.useRef)(),p=(0,r.useMemo)((function(){return{cache:c,cacheTimeInSeconds:a,cachePrefix:s,cacheLocation:u,loadOptions:l}}),[l,c,a,s,u]),v=(0,r.useCallback)((function(){var e="".concat(V,"/").concat("2.1.1");if(f){var t=f.version?"".concat(f.name,"/").concat(f.version):f.name;e+="/".concat(t)}var n=L(L({},p),{loadOptions:L(L({},l),{integrationInfo:M(M([],l.integrationInfo||[],!0),[e],!1)})}),r=new E(n);return d.current=r.init(),r}),[p,f,l]),y=(0,r.useCallback)((function(){return T(t,void 0,void 0,(function(){var e=this;return K(this,(function(t){switch(t.label){case 0:if("undefined"===typeof window||"undefined"===typeof window.document)throw new Error("FpjsProvider client cannot be used in SSR");return h.current?[3,2]:[4,N({checkCondition:function(){return Boolean(h.current)}}).catch((function(){return T(e,void 0,void 0,(function(){return K(this,(function(e){return v(),[2]}))}))}))];case 1:t.sent(),t.label=2;case 2:return[2,h.current]}}))}))}),[v]),g=(0,r.useCallback)((function(e,n){return T(t,void 0,void 0,(function(){var t;return K(this,(function(r){switch(r.label){case 0:return[4,y()];case 1:return t=r.sent(),[4,d.current];case 2:return r.sent(),[2,t.getVisitorData(e,n)]}}))}))}),[y]),w=(0,r.useCallback)((function(){return T(t,void 0,void 0,(function(){return K(this,(function(e){switch(e.label){case 0:return[4,y()];case 1:return[4,e.sent().clearCache()];case 2:return e.sent(),[2]}}))}))}),[y]),m=(0,r.useMemo)((function(){return{clearCache:w,getVisitorData:g}}),[w,g]);return(0,r.useEffect)((function(){h.current&&!i||(h.current=v())}),[i,p,v]),(0,o.jsx)(R.Provider,L({value:m},{children:n}))}function G(e,t){if(!e)throw new TypeError("".concat(t," must not be null or undefined"))}function W(e,t){var n=this;void 0===e&&(e={}),void 0===t&&(t=Q),G(e,"getOptions");var o=function(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){t.current=e}),[e]),t.current}(e),i=t.immediate,c=(0,r.useContext)(R).getVisitorData,a=(0,r.useState)({isLoading:!1}),s=a[0],u=a[1],l=(0,r.useCallback)((function(t){return void 0===t&&(t={}),T(n,void 0,void 0,(function(){var n,r,o,i,a,s;return K(this,(function(l){switch(l.label){case 0:G(t,"getDataParams"),n=t.ignoreCache,l.label=1;case 1:return l.trys.push([1,3,4,5]),u((function(e){return L(L({},e),{isLoading:!0})})),r=e.ignoreCache,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["ignoreCache"]),[4,c(null!==o&&void 0!==o?o:{},"boolean"===typeof n?n:r)];case 2:return i=l.sent(),u((function(e){return L(L({},e),{data:i,isLoading:!1,error:void 0})})),[2,i];case 3:throw a=l.sent(),(s=function(e){return e instanceof Error?e:new Error(String(e))}(a)).name="FPJSAgentError",u((function(e){return L(L({},e),{data:void 0,error:s})})),s;case 4:return u((function(e){return e.isLoading?L(L({},e),{isLoading:!1}):e})),[7];case 5:return[2]}}))}))}),[e,c]);(0,r.useEffect)((function(){!i||o&&k()(e,o)||l().catch((function(e){console.error("Failed to fetch visitor data on mount: ".concat(e))}))}),[i,l,o,e]);var f=s.isLoading,h=s.data,d=s.error;return{getData:l,isLoading:f,data:h,error:d}}var Q={immediate:!0}},64063:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!==o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!==o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!==o--;){var c=i[o];if(!e(t[c],n[c]))return!1}return!0}return t!==t&&n!==n}}}]);