(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7948],{37361:function(e,t,n){"use strict";n.d(t,{y:function(){return r}});var r=["CA","US"]},1025:function(e,t,n){"use strict";n.d(t,{J:function(){return y}});var r=n(26265),o=n(94184),a=n.n(o),i=n(67294),u=n(54854),l=n(47554),c=n(54147),s=n(36623),d=n(95130),f=n(84248),m=n(37703),v=n(10315),p=i.createElement,y=(0,v.n)("allTerms",l.AllClarityTerms)((function(e){var t=e.offer,n=e.isInOneColumn,o=(0,m.useSelector)(s.fq),i=(0,d.fM)(o),v=(0,c._8)(c.jy),y=(0,c._8)(c.S1),T=(null===t||void 0===t?void 0:t.offerType)===f.R.TRIAL?t:i;if(null===T||void 0===T||!T.offerType)return null;var g={offerType:null===T||void 0===T?void 0:T.offerType,customerSegment:null===T||void 0===T?void 0:T.customerSegment,marketSegments:null===T||void 0===T?void 0:T.marketSegments,promotion:null===T||void 0===T?void 0:T.promotion,processingInstructions:null===T||void 0===T?void 0:T.processingInstructions};return p("div",{className:a()(u.Z.clarityTermsContainer,(0,r.Z)({},u.Z.paddingTop,n&&v&&!y))},p(l.ClarityTerms,g))}))},45633:function(e,t,n){"use strict";n.d(t,{w:function(){return re},x:function(){return ne}});var r,o=n(91229),a=n(809),i=n.n(a),u=n(92447),l=n(26265),c=n(67294),s=n(37244),d=n.n(s),f=n(50361),m=n.n(f),v="10010",p=function(e){var t=m()(e.getState());return t.digitalWallet={selected:{billingContact:{postalCode:"10010"}}},t},y=function(){var e=(0,u.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({billingContact:{postalCode:v}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=n(26075),g=n(42961),I=n(34937),h=n(33580),S=(0,I.defineContents)("DigitalWalletVariantContent",{commitment:{id:"commitment",type:"string",placeholderContent:"{commitment, select, MONTH {monthly} YEAR {yearly} other {}}"},plusTax:{id:"plusTax",type:"string",placeholderContent:"+ {taxLabel}"},subtotal:{id:"subtotal",type:"string",placeholderContent:"Subtotal"},taxRate:{id:"taxRate",type:"string",placeholderContent:"{taxRate}%"},taxLabel:{id:"taxLabel",type:"string",placeholderContent:"{taxTerm, select, GST {GST} TAX {Tax} VAT {VAT} other {Tax}}"},taxInclusive:{id:"taxInclusive",type:"string",placeholderContent:"incl. {taxLabel}"},taxExclusive:{id:"taxExclusive",type:"string",placeholderContent:"excl. {taxLabel}"},payNow:{id:"payNow",type:"string",placeholderContent:"now"},payOnDate:{id:"payOnDate",type:"string",placeholderContent:"Pay on {trialEndDate, date, ::MMMdd}"},payWhenTrialEnds:{id:"payWhenTrialEnds",type:"string",placeholderContent:"Pay when trial ends"},totalWhenTrialEnds:{id:"totalWhenTrialEnds",type:"string",placeholderContent:"Total when trial ends"},totalStartingOnDate:{id:"totalStartingOnDate",type:"string",placeholderContent:"Total starting {trialEndDate, date, ::MMMdd}"},afterDate:{id:"afterDate",type:"string",placeholderContent:"After {endDate, date, ::MMMddyyyy}"},afterOffer:{id:"afterOffer",type:"string",placeholderContent:"After offer"},afterTrial:{id:"afterTrial",type:"string",placeholderContent:"After trial"},afterTrialAndOffer:{id:"afterTrialAndOffer",type:"string",placeholderContent:"After trial and offer"},digitalWalletType:{id:"digitalWalletType",type:"string"}}),b=(0,I.defineContents)("DigitalWalletContent",{digitalWallets:{id:"digitalWallets",type:S,isArray:!0,placeholderContent:[{commitment:"{commitment, select, MONTH {monthly} YEAR {yearly} other {}}",plusTax:"+ {taxLabel}",subtotal:"Subtotal",taxRate:"{taxRate}%",taxLabel:"{taxTerm, select, GST {GST} TAX {Tax} VAT {VAT} other {Tax}}",taxInclusive:"incl. {taxLabel}",taxExclusive:"excl. {taxLabel}",totalWhenTrialEnds:"Total when trial ends",totalStartingOnDate:"Total starting {trialEndDate, date, ::MMMdd}",payNow:"now",payOnDate:"Pay on {trialEndDate, date, ::MMMdd}",payWhenTrialEnds:"Pay when trial ends",afterDate:"After {endDate, date, ::MMMddyyyy}",afterTrial:"After trial",afterOffer:"After offer",afterTrialAndOffer:"After trial and offer",digitalWalletType:"APPLE_PAY"},{commitment:"{commitment, select, MONTH {monthly} YEAR {yearly} other {}}",plusTax:"+ {taxLabel}",subtotal:"Subtotal",taxRate:"{taxRate}%",taxLabel:"{taxTerm, select, GST {GST} TAX {Tax} VAT {VAT} other {Tax}}",taxInclusive:"incl. {taxLabel}",taxExclusive:"excl. {taxLabel}",totalWhenTrialEnds:"Total when trial ends",totalStartingOnDate:"From {trialEndDate, date, ::MMMdd}",payNow:"Pay now",payOnDate:"Pay on {trialEndDate, date, ::MMMdd}",payWhenTrialEnds:"Pay when trial ends",afterDate:"After {endDate, date, ::MMMddyyyy}",afterTrial:"After trial",afterOffer:"After offer",afterTrialAndOffer:"After trial and offer",digitalWalletType:"GOOGLE_PAY"}]}}),E=n(87835),A=n(99246),O=n(20544),D=n(65455),P=n(46057),C=n(11367);function x(e){return function(e){var t={contentVariables:{learnMoreUrl:(0,D.dm)(e.getState()).learnMoreUrl}};return new P.g("DigitalWallet: Non Fatal Error",C.N.NON_FATAL,r.DEFAULT_NON_FATAL_ERROR,t)}(e)}!function(e){e.DEFAULT_NON_FATAL_ERROR="DIGITAL_WALLET:DEFAULT_NON_FATAL_ERROR"}(r||(r={}));var N=n(41681),L=n(67348),R=function(e,t,n){var r=(0,g.kf)(e),o=e.hasTrial,a=e.hasBuy;return w(r,t,n,o,a)},w=function(e,t,n,r,o){var a=k(e,t),i=_(e,t),u=W(e,t),l=[a,i];if(n&&e.dueNext){var c=S.afterOffer;o&&r&&!e.dueLater?c=S.afterTrialAndOffer:r&&(c=S.afterTrial);var s=M(e,t,e.dueNext,c);if(s&&l.push(s),e.dueLater){var d=M(e,t,e.dueLater,S.afterOffer);d&&l.push(d)}}else{var f=U(e,t);f&&l.push(f)}return{lineItems:l,total:u}},k=function(e,t){var n,r=e.commitment,o=e.subtotal,a=e.taxTerm,i=t.get(S.subtotal),u=Z(r,t),l=j(o.isTaxInclusive,a,t),c=null===(n=o.amount)||void 0===n?void 0:n.toString(),s=void 0!==o.amount?h.LineItemStatus.FINAL:h.LineItemStatus.PENDING;return{label:i="".concat(i).concat(l).concat(u),amount:c,status:s,type:h.LineItemType.SUBTOTAL}},_=function(e,t){var n,r=e.commitment,o=e.tax,a=e.taxRate,i=e.taxTerm,u=Z(r,t),l=null===(n=o.amount)||void 0===n?void 0:n.toString(),c=void 0!==o.amount?h.LineItemStatus.FINAL:h.LineItemStatus.PENDING,s=t.format(S.taxLabel,{taxTerm:i});if(a>0){var d=t.format(S.taxRate,{taxRate:a});s="".concat(s," ").concat(d)}return{label:s="".concat(s).concat(u),amount:l,status:c,type:h.LineItemType.TAX}},U=function(e,t){var n=e.commitment,r=e.endDate,o=e.endDateAmount,a=e.taxCalculated,i=e.taxTerm,u=e.total;if(void 0!==o.amount){var l=o.amount.toString(),c=Z(n,t),s=G(a,i,t),d=j(o.isTaxInclusive,i,t),f=B(r,t),m=H(r,t),v=u.amount>0&&"YEAR"===n?f:m;return{label:v="".concat(v).concat(d).concat(c).concat(s),amount:l,status:h.LineItemStatus.FINAL,type:h.LineItemType.LINE_ITEM}}},M=function(e,t,n,r){var o=e.commitment,a=e.taxCalculated,i=e.taxTerm,u=n||{},l=u.billingDate,c=u.amount,s=u.isTaxInclusive;if(void 0!==c&&null!==c){var d,f=Z(o,t),m=G(a,i,t),v=j(s,i,t);if(l){var p=new Date(l);d=t.format(S.afterDate,{endDate:p})}else d=t.get(r);return{label:"".concat(d).concat(v).concat(f).concat(m),amount:c.toString(),status:h.LineItemStatus.FINAL,type:h.LineItemType.LINE_ITEM}}},W=function(e,t){var n,r=e.commitment,o=e.taxCalculated,a=e.taxTerm,i=e.total,u=null===(n=i.amount)||void 0===n?void 0:n.toString(),l=j(i.isTaxInclusive,a,t),c=Z(r,t),s=G(o,a,t),d=t.get(S.payNow);return{label:"".concat(d).concat(l).concat(c).concat(s),amount:u,status:void 0!==i.amount?h.LineItemStatus.FINAL:h.LineItemStatus.PENDING}},Z=function(e,t){var n=t.format(S.commitment,{commitment:e});return n?" (".concat(n,")"):""},j=function(e,t,n){var r,o=n.format(S.taxLabel,{taxTerm:t});if(void 0!==e){var a=e?S.taxInclusive:S.taxExclusive;r=n.format(a,{taxLabel:o})}return r?" (".concat(r,")"):""},G=function(e,t,n){var r=n.format(S.taxLabel,{taxTerm:t}),o=n.format(S.plusTax,{taxLabel:r});return e?"":" ".concat(o)},B=function(e,t){if(e){var n=new Date(e);return t.format(S.payOnDate,{trialEndDate:n})}return t.get(S.payWhenTrialEnds)},H=function(e,t){if(e){var n=new Date(e);return t.format(S.totalStartingOnDate,{trialEndDate:n})}return t.get(S.totalWhenTrialEnds)},V=n(96029),F=n(36623),Y=n(77081),q=n(61792),K=n(52176),$=n(22544),X=n(23424),Q=n(63418),z=n(14157),J=n(37703),ee=n(10315),te=c.createElement,ne=(0,ee.n)("digitalWallets",b)((function(e){var t,n=e.digitalWalletRef,r=e.onCancel,o=e.onSubmit,a=e.onError,s=(0,J.useStore)(),f=s.getState(),m=(0,Y.Gg)(f).clientSessionId,P=(0,V.vl)(f)[d().app.CTX.name],C=(0,N.$M)(P),w=(0,Q.l)(),k=(0,D.mT)(f),_=(t={},(0,l.Z)(t,h.DigitalPaymentsTypes.APPLE_PAY,[h.PaymentTypes.AMEX,h.PaymentTypes.CUP,h.PaymentTypes.DISCOVER,h.PaymentTypes.ELO,h.PaymentTypes.JCB,h.PaymentTypes.MASTERCARD,h.PaymentTypes.VISA]),(0,l.Z)(t,h.DigitalPaymentsTypes.GOOGLE_PAY,[h.PaymentTypes.AMEX,h.PaymentTypes.DISCOVER,h.PaymentTypes.ELO,h.PaymentTypes.JCB,h.PaymentTypes.MASTERCARD,h.PaymentTypes.VISA]),t),U=(0,T.x)(),M=(0,X.g)([A.R.UC_APPLE_PAY,A.R.UC_FLEXIBLE_PROMOTIONS,A.R.UC_FLEXIBLE_PROMOTIONS_OVERRIDE]),W=(0,X.g)([A.R.UC_FLEXIBLE_PROMOTIONS])[A.R.UC_FLEXIBLE_PROMOTIONS],Z=(0,L.DR)(f)?h.DigitalPaymentsTypes.GOOGLE_PAY:h.DigitalPaymentsTypes.APPLE_PAY,j=function(e,t){var n;return null===(n=e.search(S).filter((function(e){return e.get(S.digitalWalletType)===t})))||void 0===n?void 0:n[0]}((0,I.useContentEntry)(b),Z),G=(0,c.useRef)(null),B=(0,c.useRef)(),H=(0,g.jD)().state,ee=(0,O.D)()===E.T.LOCAL,ne=(0,c.useState)(ee),re=ne[0],oe=ne[1],ae=(0,z.k)(),ie=(0,J.useSelector)((function(e){return re?v:null!==(t=null===e||void 0===e||null===(n=e.digitalWallet)||void 0===n||null===(r=n.selected)||void 0===r||null===(o=r.billingContact)||void 0===o?void 0:o.postalCode)&&void 0!==t?t:"";var t,n,r,o}));(0,c.useEffect)((function(){var e,t,n=null===H||void 0===H||null===(e=H.order)||void 0===e||null===(t=e.billingAddress)||void 0===t?void 0:t.postalCode;""!==n&&n===ie&&B.current&&ce(H)}),[H,ie,B]);(0,c.useImperativeHandle)(n,(function(){return{initDigitalPayment:function(e){var t,n=e.paymentType,r=n===h.DigitalPaymentsTypes.APPLE_PAY;oe(ee&&r);var o=s.getState(),a=(0,D.mT)(o),i=(0,F.jd)(o),u=null===i||void 0===i||null===(t=i.currency)||void 0===t?void 0:t.code,l=(0,q.gV)(o),c=function(e){return null===w||void 0===w?void 0:w.reduce((function(t,n){var r;return null!==(r=n.allowedDigitalWallets)&&void 0!==r&&r.includes(e)&&_[e].includes(n.type)?t.concat(n.type):t}),[])}(n),d=R(H,j,W),f={countryCode:a,currencyCode:u,supportedNetworks:c,billingContact:{emailAddress:l},lineItems:d.lineItems,total:d.total,requiredContactFields:["name","postalAddress"],supportedCountries:[a]};ee&&r||G.current.initDigitalPayment(n,f)},beginDigitalPayment:function(){re?function(e){setTimeout((function(){y(e)}),500)}(se):G.current.beginDigitalPayment()}}}));var ue=function(){var e=(0,u.Z)(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=le(),n={store:s,apolloClient:U,features:M,isChangePlan:ae},re&&(r=p(s),n.state=r),(0,$.Yz)(n),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e,t=new Promise((function(t){e=t}));return B.current=e,t},ce=function(e){B.current&&((0,B.current)(e),B.current=void 0)},se=function(){var e=(0,u.Z)(i().mark((function e(){var t,n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:return t=e.sent,n=R(t,j,W),r=n.lineItems,o=n.total,e.abrupt("return",{newLineItems:r,newTotal:o});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=(0,u.Z)(i().mark((function e(t,n){var r,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.success,u=n.failure,o({success:r,failure:function(e){var t;[K.k.TRIAL_INELIGIBLE].includes(null===e||void 0===e||null===(t=e.extensions)||void 0===t?void 0:t.orderCode)||a(x(s)),u()}});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return te("div",{"data-testid":"digital-wallet-adapter"},te(h.DigitalWalletAdapter,{clientId:C,clientSessionId:m,ref:G,onError:function(e){var t;[h.ErrorCode.CANCELLED_DURING_AUTHORIZATION,h.ErrorCode.CANCELLED_DURING_PAYMENT_METHOD_SELECTION].includes(null===e||void 0===e?void 0:e.code)||a(x(s)),null===(t=G.current)||void 0===t||t.abort()},onPaymentSelected:se,onPaymentAuthorized:de,onCancel:r,countryCode:k}))})),re=(0,c.forwardRef)((function(e,t){return te(ne,(0,o.Z)({},e,{digitalWalletRef:t}))}));re.displayName="DigitalWalletWithRef"},2071:function(e,t,n){"use strict";n.d(t,{l:function(){return T}});var r=n(67294),o=n(26075),a=n(99246),i=n(96029),u=n(67348),l=n(65455),c=n(41681),s=n(86695),d=n(11890),f=n(97094),m=n(23424),v=n(97501),p=n(37703),y=r.createElement,T=function(e){var t,n,T,g=e.paymentAuthRef,I=(0,v.g)().data,h=null===I||void 0===I||null===(t=I.order)||void 0===t?void 0:t.orderNumber,S=(0,o.x)(),b=(0,p.useSelector)(l.mT),E=(0,p.useSelector)(l.n$),A=(0,c.$M)((0,p.useSelector)(i.pP)),O=(0,p.useSelector)(u.fG),D=(0,p.useStore)().getState(),P=null===D||void 0===D||null===(n=D.digitalWallet)||void 0===n?void 0:n.submitted,C=null===P||void 0===P||null===(T=P.paymentInstrument)||void 0===T?void 0:T.cardSpan,x=(0,p.useSelector)(u.DR)?C:O,N=(0,m.g)([a.R.UC_ENABLE_CROSS_ORIGIN_ISOLATION]),L={storeSliceName:s.F,locale:E,trackingId:h,clientId:A,deviceCollectionBin:x,triggerRef:g,enableCrossOriginIsolation:N[a.R.UC_ENABLE_CROSS_ORIGIN_ISOLATION]};return(0,f.ah)(),y(r.Fragment,null,(0,f.BG)(S,b)&&h&&y(d.l,L))}},14793:function(e,t,n){"use strict";n.d(t,{SW:function(){return T},Ob:function(){return g}});var r=n(67294),o=n(36689),a=n(34937),i=n(87835),u=n(20544),l=n(36623),c=n(65455),s=n(67348),d=n(28361),f=n(12510),m=n(70500),v=n(37703),p=r.createElement,y=function(e){var t,n=e.onClose,r=(0,v.useSelector)(c.n$),o=(0,v.useSelector)(c.mT),a=(0,v.useSelector)(l.fq),i=null===a||void 0===a?void 0:a.map((function(e){return null===e||void 0===e?void 0:e.offerId})),u=(0,v.useSelector)(s.wr);switch(u){case d.cs.BANK_TRANSFER:case d.cs.BOLETO:case d.cs.CVS:case d.cs.DIRECT_DEBIT:case d.cs.PAYPAL:case d.cs.PO:t=u;break;default:t=void 0}return p(m.wW,{locale:r,country:o,offerIds:i,onClose:n,paymentType:t})},T=function(e){var t,n,r=e.onClose,l=e.control,c=null===(t=l[0])||void 0===t?void 0:t.client,s=null===(n=l[0])||void 0===n?void 0:n.store;return p(f.ReduxStoreProvider,{store:s},p(a.ContentEntryProvider,{value:{},usePlaceholderContent:(0,u.D)()!==i.T.PRODUCTION},p(o.e,{client:c},p(y,{onClose:r}))))},g=["Enter"," ","Spacebar"]},78254:function(e,t,n){"use strict";n.d(t,{h:function(){return v}});var r,o,a,i,u=n(26265),l=n(30403),c=n(67294);!function(e){e.PARAGRAPH="paragraph",e.HEADER="header",e.UNORDERED_LIST="unordered-list"}(r||(r={})),function(e){e.HEADING_ONE="h1",e.HEADING_TWO="h2",e.HEADING_THREE="h3"}(o||(o={})),function(e){e.TEXT="text",e.LINK="link",e.LIST_ITEM="list-item"}(a||(a={})),function(e){e.BOLD="bold",e.ITALIC="italic",e.UNDERLINE="underline"}(i||(i={}));var s,d,f=n(19291),m=c.createElement,v=function(e){var t,n,s,d,v=e.parentComponentName;function p(e){return null===e||void 0===e?void 0:e.map((function(e,t){return function(e,t){return I[e.nodeType](e,null,t)}(e,t)}))}function y(e,t){return"".concat(v,"_").concat(e,"_").concat(t)}var T=(t={},(0,u.Z)(t,r.PARAGRAPH,(function(e,t,n){return m("span",{key:y(r.PARAGRAPH,n)},t)})),(0,u.Z)(t,r.HEADER,(function(e,t,n){return g[e.style](e,t,n)})),(0,u.Z)(t,r.UNORDERED_LIST,(function(e,t,n){return m("ul",{key:y(r.UNORDERED_LIST,n)},t)})),t),g=(n={},(0,u.Z)(n,o.HEADING_ONE,(function(e,t,n){return m("h1",{key:y(o.HEADING_ONE,n)},t)})),(0,u.Z)(n,o.HEADING_TWO,(function(e,t,n){return m("h2",{key:y(o.HEADING_TWO,n)},t)})),(0,u.Z)(n,o.HEADING_THREE,(function(e,t,n){return m("h3",{key:y(o.HEADING_THREE,n)},t)})),n),I=(s={},(0,u.Z)(s,a.TEXT,(function(e,t,n){var r,o=S(e.value);return null===(r=e.format)||void 0===r||r.variants.map((function(t){return o=h[t](e,o,n)})),o})),(0,u.Z)(s,a.LINK,(function(e,t,n){var r,o,i,u,l;return S(decodeURIComponent(null===(r=e.data)||void 0===r?void 0:r.href))?m("a",{href:S(decodeURIComponent(null===(i=e.data)||void 0===i?void 0:i.href)),target:null===(u=e.data)||void 0===u?void 0:u.target,className:null===(l=e.data)||void 0===l?void 0:l.class,key:y(a.LINK,n)},S(e.value)):m("span",{key:y(a.LINK,n),className:null===(o=e.data)||void 0===o?void 0:o.class},S(e.value))})),(0,u.Z)(s,a.LIST_ITEM,(function(e,t,n){return m("li",{key:y(a.LIST_ITEM,n)},p(e.content))})),s),h=(d={},(0,u.Z)(d,i.BOLD,(function(e,t,n){return m("b",{key:y(i.BOLD,n)},t)})),(0,u.Z)(d,i.ITALIC,(function(e,t,n){return m("i",{key:y(i.ITALIC,n)},t)})),(0,u.Z)(d,i.UNDERLINE,(function(e,t,n){return m("u",{key:y(i.UNDERLINE,n)},t)})),d);function S(t){var n=new l.default(t,e.locale||"en-US").format(e.placeHolderContext);return(0,f.Xv)(n)}return m(c.Fragment,null," ",null!==e&&void 0!==e&&e.json?e.json.map((function(e,t){return function(e,t){return T[e.nodeType](e,p(e.content),t)}(e,t)})):e.plaintext," ")},p=(n(96168),n(44159),n(34937));!function(e){e.PARAGRAPH="paragraph",e.HEADING_ONE="heading-one",e.HEADING_TWO="heading-two"}(s||(s={})),function(e){e.BOLD="bold",e.ITALIC="italic",e.UNDERLINE="underline",e.HYPERLINK="hyperlink"}(d||(d={}));var y=(0,p.defineContents)("RichTextChild",{text:{id:"text",type:"string"},bold:{id:"bold",type:"string"},italic:{id:"italic",type:"string"},underline:{id:"underline",type:"string"},hyperlink:{id:"hyperlink",type:"string"},class:{id:"class",type:"string"},link:{id:"link",type:"string"},tooltip:{id:"tooltip",type:"string"}});(0,p.defineContents)("RichText",{type:{id:"type",type:"string"},children:{id:"children",type:y,isArray:!0}}),c.createElement},26268:function(e,t,n){"use strict";n.d(t,{u:function(){return v}});var r=n(67294),o=n(6250),a=n(88789),i=n(78254),u=n(6056),l=n(7119),c=n(61792),s=n(10145),d=n(34937),f=n(37703),m=r.createElement,v=function(e){var t,n=e.termsOfUseProps,v=e.explicitRenewalConfig,p=(0,u.Q5)().setBlockAutoRenewal,y=(0,d.useContentEntry)(s.$1),T=(0,f.useSelector)(u.ZR),g=(0,f.useSelector)(c.PQ),I=(0,f.useSelector)(u.Tm),h=(0,r.useState)(!1),S=h[0],b=h[1];var E=(0,l.Ah)(y.search(s.QH),n,v,T,g),A=!(null===E||void 0===E||null===(t=E.json)||void 0===t||!t.length);return(0,r.useEffect)((function(){b(A),p(A)}),[A,p]),S?m("div",{className:a.Z.renewalCheckboxContainer},m(o.default,{"data-testid":"renewal-optin-checkbox","aria-labelledby":"renewal-optin-checkbox",className:a.Z.renewalCheckbox,quiet:!0,onChange:function(e){p(!e)},checked:!I}),m("span",{className:a.Z.renewalCheckboxLabel,id:"renewal-optin-checkbox"},m(i.h,E))):null}},60707:function(e,t,n){"use strict";n.d(t,{N:function(){return E}});var r=n(67294),o=n(88789),a=n(26075),i=n(36623),u=n(10145),l=n(65455),c=n(6056),s=n(7119),d=n(61792),f=n(20534),m=n(14793),v=n(26268),p=n(34937),y=n(97501),T=n(37703),g=n(10315),I=n(73113),h=r.createElement,S=function(e){var t=(0,T.useSelector)(d.PQ),n=(0,p.useContentEntry)(u.$1),r=(0,T.useSelector)(i.f7),o=(0,T.useSelector)(i.SA),a=(0,T.useSelector)(i.Zw),l=(0,T.useSelector)(i.Mo),m=(0,T.useSelector)(c.Tm),v=(0,s.BQ)(n,e,m,t,r?u.yk.TRY:o?u.yk.TRYBUY:u.yk.BUY,a,l);return h(f.d,v)},b=(0,I.withDialog)(m.SW,{onClick:function(e){var t;return null===(t=e.target.className)||void 0===t?void 0:t.includes("payment-terms-link")}})((function(e){var t,n,i,u=(0,c.Q5)().setBillingStateCode,s=(0,a.x)(),d=(0,T.useStore)(),f=function(t){var n;null===e||void 0===e||null===(n=e.onClick)||void 0===n||n.call(e,{target:t.target,client:s,store:d})},p=(0,y.g)(),g=null===p||void 0===p||null===(t=p.data)||void 0===t||null===(n=t.order)||void 0===n||null===(i=n.billingAddress)||void 0===i?void 0:i.stateCode;(0,r.useEffect)((function(){u(g)}),[g,u]);var I=(0,T.useSelector)(l.E6);return h("div",{className:o.Z.termsContainer,"data-testid":"terms-of-use-container"},h(v.u,{termsOfUseProps:e,explicitRenewalConfig:I}),h("div",{role:"button","aria-describedby":"terms-of-use-disclaimer-text",onKeyDown:function(e){m.Ob.includes(e.key)&&f(e)},onClick:f},h("div",{id:"terms-of-use-disclaimer-text"},h(S,e))))})),E=(0,g.n)("paymentTerms",u.$1)(b)},7119:function(e,t,n){"use strict";n.d(t,{Ah:function(){return T},BQ:function(){return N}});var r=n(91229),o=n(26265),a=n(88963),i=n(67294),u=n(88789),l=n(10145),c=n(98916),s=n(97039),d=n(20534),f=n(2385),m=i.createElement;function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){return{json:e?e.json:[{nodeType:"paragraph",content:[{nodeType:"text",value:"Automatically renew your subscription annually. You can opt out anytime by contacting ",format:{variants:["bold"]}},{nodeType:"link",data:{href:"{customerSupportUrl}",target:"_blank"},value:"Customer Support"},{nodeType:"text",value:" or cancelling your subscription via ",format:{variants:["bold"]}},{nodeType:"link",data:{href:"{adobeAccountUrl}",target:"_blank"},value:"Adobe Account"},{nodeType:"text",value:". ",format:{variants:["bold"]}}]}],placeHolderContext:p({},t),locale:t.locale,parentComponentName:"TermsOfUse"}}function T(e,t,n,r){var o,a,i,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=[];if(null!==n&&void 0!==n&&null!==(o=n.requireOptIn)&&void 0!==o&&o.length&&(c=n.requireOptIn.filter((function(e){var n,o;return(null===e||void 0===e?void 0:e.stateCode)===r&&(null===e||void 0===e?void 0:e.offerCommitment)===(null===t||void 0===t||null===(n=t.offerDetails)||void 0===n?void 0:n.commitment)&&(null===e||void 0===e?void 0:e.offerTerm)===(null===t||void 0===t||null===(o=t.offerDetails)||void 0===o?void 0:o.term)}))),0!==c.length){var s=e.filter((function(e){var n,o,a,i,u,c=null!==(n=e.get(l.QH.states))&&void 0!==n?n:[],s=null!==(o=e.get(l.QH.offerCommitment))&&void 0!==o?o:"",d=null!==(a=e.get(l.QH.offerTerm))&&void 0!==a?a:"";return c.includes(r)&&s===(null===t||void 0===t||null===(i=t.offerDetails)||void 0===i?void 0:i.commitment)&&d===(null===t||void 0===t||null===(u=t.offerDetails)||void 0===u?void 0:u.term)})),d={adobeAccountUrl:u&&(null===t||void 0===t||null===(a=t.urls)||void 0===a?void 0:a.adobeAccountUrl)||"",customerSupportUrl:(null===t||void 0===t||null===(i=t.urls)||void 0===i?void 0:i.customerSupportUrl)||""};return y(s.length>0?s[0].get(l.QH.checkboxLabel):void 0,d)}}function g(e,t,n){var o={data:{price:t,formatString:e},options:{styles:a.Z,usePrecision:n}};return m(s.InlinePrice,(0,r.Z)({key:"disclaimer-formatted-price"},o))}function I(e,t){var n;return(null!==(n=e.get(l.Vd.offerCommitment))&&void 0!==n?n:"")===t}function h(e,t){var n;return(null!==(n=e.get(l.Vd.offerTerm))&&void 0!==n?n:"")===t}function S(e,t){var n;return(null!==(n=e.get(l.fK.cartTryBuyState))&&void 0!==n?n:"")===t.toString()}function b(e,t,n){var r=e.get(l.fK.countryOverride),o=r?r.split(","):[];return n?o.includes(t)||0===o.length:o.includes(t)}function E(e,t,n){var r,o=null!==(r=e.get(l.fK.offerCommitment))&&void 0!==r?r:"";return n?o===t||""===o:o===t}function A(e,t,n){var r,o=null!==(r=e.get(l.fK.offerTerm))&&void 0!==r?r:"";return n?o===t||""===o:o===t}function O(e,t,n){var r,o=null!==(r=e.get(l.fK.blockAutoRenewal))&&void 0!==r?r:null;return n?o===t||null===o:o===t}function D(e,t){var n;return(null!==(n=e.get(l.fK.customerSegments))&&void 0!==n?n:[]).includes(t)}function P(e,t){var n;return(null!==(n=e.get(l.fK.marketSegments))&&void 0!==n?n:[]).some((function(e){return(t||[]).indexOf(e)>=0}))}function C(e,t,n,o,a,i){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=a.find((function(e){var t;return(null===e||void 0===e||null===(t=e.appliedPromotionInfo)||void 0===t?void 0:t.length)>0}));if(s){var v=o,p=g(t,v,n),y=s.offerType===f.m_.Trial,T=e.filter((function(e){return e.get(l.Vd.isTrial)===y}))[0],I=T.get(l.Vd.priceInfoItem),h={json:I.json,variables:{additionalFormattedPrice:p,additionalPriceLabel:i},dataTestId:"termsofuse-applied-promotion-price-info-".concat(s.offerType.toLowerCase(),"-").concat(c)};return m("div",{className:u.Z.termsInline},m(d.d,(0,r.Z)({},h,{key:"termsofuse-applied-promotion-price-info-".concat(s.offerType.toLowerCase(),"-").concat(c)})))}}function x(e,t,n,o,a,s,v,p,y,T,I){var h,S,b,E,A,O,D,P,x,N,L,R,w,k,_,U,M=(t.cartDetails||{}).cartItems,W=void 0===M?[]:M,Z=function(e,t,n){var r=t?e.format(l.$1.taxInclusiveLabel,{taxTerm:n}):e.format(l.$1.taxExclusiveLabel,{taxTerm:n});return m(i.Fragment,null,r)}(e,p,y),j={trialTermUnit:null===W||void 0===W||null===(h=W[0])||void 0===h||null===(S=h.promotion)||void 0===S?void 0:S.promotionTerm,trialTerm:null===W||void 0===W||null===(b=W[0])||void 0===b||null===(E=b.promotion)||void 0===E?void 0:E.promotionTermValue,cancelDate:(0,c.Sd)(null===W||void 0===W||null===(A=W[0])||void 0===A?void 0:A.promotion,null===t||void 0===t||null===(O=t.offerDetails)||void 0===O||null===(D=O.cancellationTerm)||void 0===D?void 0:D.termRule),termsOfUseUrl:null===t||void 0===t||null===(P=t.urls)||void 0===P?void 0:P.termsOfUseUrl,customerSupportUrl:null===t||void 0===t||null===(x=t.urls)||void 0===x?void 0:x.customerSupportUrl,adobeAccountUrl:n?null===t||void 0===t||null===(N=t.urls)||void 0===N?void 0:N.adobeAccountUrl:"",country:null===t||void 0===t?void 0:t.country,ctaLabel:null===t||void 0===t?void 0:t.ctaLabel,priceLabel:Z,formattedPrice:g(null===t||void 0===t||null===(L=t.currencyDetails)||void 0===L?void 0:L.formatString,null===t||void 0===t||null===(R=t.cartDetails)||void 0===R?void 0:R.cartPrice,null===t||void 0===t||null===(w=t.currencyDetails)||void 0===w?void 0:w.precision),productNames:"",priceInfo:null,trialCancelInfo:null,cancelDateInfo:null};if(o===l.yk.TRYBUY){var G,B,H,V,F="";W.forEach((function(e,t){F+="".concat(t>0?" ".concat(v||""," "):"",'"').concat(e.productName,'"')})),j.productNames=F,j.priceInfo=function(e,t,n,o,a,i,c,s){var v=[];return e&&e.length&&a.forEach((function(a,u){var p,y,T,I;if((null===a||void 0===a||null===(p=a.appliedPromotionInfo)||void 0===p?void 0:p.length)>0&&null!==(y=a.offerOrderPrices)&&void 0!==y&&y.dueNext){var h,S=a.offerOrderPrices,b=S.dueNext,E=S.dueLater,A=S.discountedUnitPriceWithoutTax,O=S.discountedUnitPriceWithTax,D=b.totalWithTax,P=b.totalWithoutTax,x=E||{},N=x.totalWithTax,L=x.totalWithoutTax;a.offerType===f.m_.Trial?(T=i?D:P,h=i?N:L):(T=i?O:A,h=i?D:P),I=C(s,t,n,h,[a],c,u)}else T=i?a.displayUnitPriceWithTax:a.displayUnitPriceWithoutTax;var R=g(t,T,n),w=a.offerType===f.m_.Trial,k={json:e.filter((function(e){return e.get(l.Vd.isTrial)===w}))[0].get(l.Vd.priceInfoItem).json,variables:{productName:a.productName,country:o,formattedPrice:R,taxInclusive:i,priceLabel:c,appliedPromotionPriceInfo:I,index:u},dataTestId:"termsofuse-price-info-".concat(u)};v.push(m(d.d,(0,r.Z)({},k,{key:"termsofuse-price-info-".concat(u)})))})),0===v.length?null:m("div",{className:u.Z.termsInline},v)}(T,null===t||void 0===t||null===(G=t.currencyDetails)||void 0===G?void 0:G.formatString,null===t||void 0===t||null===(B=t.currencyDetails)||void 0===B?void 0:B.precision,null===t||void 0===t?void 0:t.country,W,p,Z,I),j.trialCancelInfo=function(e,t){var n=[];return e.json&&t.forEach((function(t,o){if(t.offerType===f.m_.Trial){var a={json:e.json,variables:{productName:t.productName},dataTestId:"termsofuse-trial-cancel-info-".concat(o)};n.push(m(d.d,(0,r.Z)({},a,{key:"termsofuse-trial-cancel-info-".concat(o)})))}})),0===n.length?null:m("div",{className:u.Z.termsInline},n)}(a,W),j.cancelDateInfo=function(e,t,n,o){var a=[];return e.json&&o.forEach((function(o,i){var u=(0,c.Sd)(o.promotion,n),l={json:e.json,variables:{productName:o.productName,cancelDate:u},dataTestId:"termsofuse-date-cancel-info-".concat(i)};i>0&&a.push(m("span",null," ",t," ")),a.push(m(d.d,(0,r.Z)({},l,{key:"termsofuse-date-cancel-info-".concat(i)})))})),0===a.length?null:m("div",{className:u.Z.termsInline},a)}(s,v,null===t||void 0===t||null===(H=t.offerDetails)||void 0===H||null===(V=H.cancellationTerm)||void 0===V?void 0:V.termRule,W)}return j.appliedPromotionPriceInfo=o!==l.yk.TRYBUY?C(I,null===t||void 0===t||null===(k=t.currencyDetails)||void 0===k?void 0:k.formatString,null===t||void 0===t||null===(_=t.currencyDetails)||void 0===_?void 0:_.precision,null===t||void 0===t||null===(U=t.cartDetails)||void 0===U?void 0:U.dueAfterCartPrice,W,Z):void 0,j}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l.yk.DEFAULT,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",u=(null===e||void 0===e?void 0:e.search(l.fK))||[],c=(null===e||void 0===e?void 0:e.search(l.Vd))||[],s=(null===e||void 0===e?void 0:e.search(l.sr))||[],d=t.offerDetails||{},f=d.commitment,m=d.term,v=d.customerSegment,y=d.marketSegments,T=u.filter((function(e){return S(e,o)&&b(e,null===t||void 0===t?void 0:t.country,!0)&&E(e,f,!0)&&A(e,m,!0)&&D(e,v)&&P(e,y)})),g=s.filter((function(e){return I(e,f)&&h(e,m)})),C=[];if(o===l.yk.TRYBUY&&(C=c.filter((function(e){return I(e,f)&&h(e,m)}))),T.length>1){var N=T.filter((function(e){return b(e,null===t||void 0===t?void 0:t.country,!1)}));N.length&&(T=N),T.length>1&&(T=T.filter((function(e){return A(e,m,!0)&&E(e,f,!1)}))),T.length>1&&(T=T.filter((function(e){return O(e,n,!0)})))}if(0===T.length&&(T=u.filter((function(e){return S(e,l.yk.DEFAULT)}))),T.length>0){var L=T[0].get(l.fK.cancelTrialItem),R=T[0].get(l.fK.cancelDateItem),w=T[0].get(l.fK.disclaimerSeparator),k=x(e,t,r,o,L,R,w,a,i,C,g),_=T[0].get(l.fK.disclaimerText);return{json:_.json,variables:p({},k),dataTestId:"termsofuse-disclaimer-text"}}}},13995:function(e,t,n){"use strict";n.d(t,{z:function(){return C},K:function(){return x}});var r=n(26265),o=n(809),a=n.n(o),i=n(92447),u=n(18446),l=n.n(u),c=n(26075),s=n(42961),d=n(99246),f=n(31549),m=n(26089),v=n(36623),p=n(96029),y=n(2385),T=n(65455),g=n(61792),I=n(67294),h=n(23424),S=n(61274),b=n(97501),E=n(12510);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(){var e=function(){var e=(0,E.useSelector)(T.mT),t=(0,E.useSelector)(T.n$),n=(0,c.x)();return{getSegmentationOffer:(0,I.useCallback)(function(){var r=(0,i.Z)(a().mark((function r(o,i,u,c){var s,d,f,v,p;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.query({query:m.M,variables:{offersInput:{code:o,country:e,locale:t,offerType:c}}});case 3:return f=r.sent,v=f.data.segmentationOffers.result,p=null===v||void 0===v||null===(s=v[0])||void 0===s?void 0:s.offers,r.abrupt("return",null===p||void 0===p||null===(d=p.find((function(e){return e.offer.productArrangementCode===o&&e.offer.customerSegment===i&&l()(e.offer.marketSegments,u)})))||void 0===d?void 0:d.offer);case 9:r.prev=9,r.t0=r.catch(0);case 11:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e,t,n,o){return r.apply(this,arguments)}}(),[n,e,t])}}().getSegmentationOffer;return{getBaseOfferIds:(0,I.useCallback)(function(){var t=(0,i.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(n.map(function(){var t=(0,i.Z)(a().mark((function t(n){var r,o,i,u,l;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.productArrangementCode,o=n.customerSegment,i=n.marketSegments,t.next=3,e(r,o,i,y.m_.Base);case 3:return u=t.sent,l=u.id,t.abrupt("return",O(O({},n),{},{baseOfferId:l}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e])}}function P(){var e=function(){var e,t=(0,c.x)(),n=(0,E.useSelector)(T.mT),r=(0,E.useSelector)(T.n$),o=null===(e=(0,E.useSelector)(g.et))||void 0===e?void 0:e.userId,u=(0,E.useSelector)(p.i2),l=(0,E.useSelector)(p.tD),s=(0,S.d0)(),m=(0,h.g)([d.R.P_UC_USE_TEST_CAMPAIGNS])[d.R.P_UC_USE_TEST_CAMPAIGNS];return{getCommitmentVariantsOffers:(0,I.useCallback)(function(){var e=(0,i.Z)(a().mark((function e(i){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.query({query:f.l,variables:(0,f.q)({country:n,locale:r,offerIds:[i],userId:o,clientId:u,svar:l,promotionCodes:s,useTestCampaign:m})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,s,u,n,r,l,m,o])}}().getCommitmentVariantsOffers;return{getBaseOffers:(0,I.useCallback)(function(){var t=(0,i.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(n.map(function(){var t=(0,i.Z)(a().mark((function t(n){var r,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n.baseOfferId);case 2:return r=t.sent,o=r.data,t.abrupt("return",O(O({},n),{},{baseOffer:o}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e])}}function C(){var e=((0,b.g)().data||{}).order,t=(0,E.useSelector)(v.fq),n=(0,I.useMemo)((function(){return function(e){var t,n;return(null===e||void 0===e||null===(t=e.cart)||void 0===t||null===(n=t.cartItems)||void 0===n?void 0:n.filter((function(e){var t=e.conflicts;return null===t||void 0===t?void 0:t.some((function(e){return"TRIAL_LIMIT_EXCEEDED"===e.reasonCode}))})).map((function(e){return e.offerId})))||[]}(e)}),[e]),r=(0,I.useMemo)((function(){return function(e,t){return e.filter((function(e){var n=e.offerId;return t.includes(n)})).map((function(e){var n=e.offerVariants.offers.find((function(e){var n=e.offer.id;return t.includes(n)})).offer,r=n.productArrangementCode,o=n.customerSegment,a=n.marketSegments;return{productArrangementCode:r,trialAbusedOfferId:n.id,customerSegment:o,marketSegments:a}}))}(t,n)}),[t,n]),o=D().getBaseOfferIds,u=P().getBaseOffers;return{getBaseOffers:(0,I.useCallback)((0,i.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>0)){e.next=5;break}return e.next=3,o(r);case 3:return t=e.sent,e.abrupt("return",u(t));case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e)}))),[o,u,r])}}function x(){var e=(0,s.jD)((0,E.useSelector)(v.V4));return{swapTrialWithBaseOffers:(0,I.useCallback)((function(t){t.forEach((function(t){var n=t.trialAbusedOfferId,r=t.baseOffer.commitmentVariantsOffers.result[0];e.swapItem(n,{offerVariants:r,quantity:1,nonRemovable:!0})}))}),[e])}}},90841:function(e,t,n){"use strict";n.d(t,{O:function(){return u}});var r=n(67348),o=n(57663),a=n(67294),i=n(37703),u=function(){var e=(0,i.useSelector)(r.ai),t=(0,i.useSelector)(o.l6),n=(0,i.useSelector)(r.e7),u=(0,a.useState)(!1),l=u[0],c=u[1];return(0,a.useEffect)((function(){c(e&&!t&&!n)}),[e,t,n]),{isPaypalRedirectRequired:l}}},5112:function(e,t,n){"use strict";n.d(t,{B:function(){return p}});var r=n(26075),o=n(28787),a=n(28479),i=n(65455),u=n(6056),l=n(36623),c=n(59180),s=n(57332),d=n(97501),f=n(67294),m=n(55988),v=n(12510);function p(e){var t,n,p=(0,r.x)(),y=(0,v.useSelector)(l.Zw),T=(0,v.useSelector)(u.Ct),g=(0,v.useSelector)(i.dm),I=g.termsOfUseUrl,h=g.adobeAccountUrl,S=g.customerSupportUrl,b=(0,d.g)().data,E=(0,u.zk)(null===b||void 0===b||null===(t=b.order)||void 0===t?void 0:t.cart,T),A=(0,v.useSelector)(l.Jm),O=(0,m.t)().currentRoute!==s.Z.ACADEMIC?a.lP:o.k,D=p.readFragment({id:"PersonalizedOffer:".concat(c.xb.COMMITMENT_VARIANTS,":").concat(A),fragment:O}).offer,P=(0,v.useSelector)(i.mT),C=(null===b||void 0===b||null===(n=b.order)||void 0===n?void 0:n.cartPrice)||{},x=C.dueNext,N=C.dueLater,L=C.discountedSubtotalWithTax,R=C.discountedSubtotalWithoutTax,w=C.subtotalWithTax,k=C.subtotalWithoutTax,_=y?null===x||void 0===x?void 0:x.totalWithTax:null===x||void 0===x?void 0:x.totalWithoutTax,U=y?null===N||void 0===N?void 0:N.totalWithTax:null===N||void 0===N?void 0:N.totalWithoutTax,M=y?null!==L&&void 0!==L?L:w:null!==R&&void 0!==R?R:k;return(0,f.useMemo)((function(){return{offerDetails:D,currencyDetails:null===D||void 0===D?void 0:D.currency,cartDetails:{cartItems:E,cartPrice:void 0!==_&&null!==_&&void 0!==U&&null!==U?_:M,dueAfterCartPrice:U||_},urls:{termsOfUseUrl:I,adobeAccountUrl:h,customerSupportUrl:S},country:P,ctaLabel:e()}}),[h,E,P,M,S,U,_,e,D,I])}},90162:function(e,t,n){"use strict";n.d(t,{D:function(){return I}});var r=n(809),o=n.n(r),a=n(92447),i=n(58147),u=n.n(i),l=n(36623),c=n(96029),s=n(13273),d=n(95130),f=n(53309),m=n(73864),v=n(67294),p=n(85475),y=n(12510),T=n(3168),g="Fingerprint JS getData API";function I(){var e=(0,p.w)(),t=(0,y.useStore)(),n=(0,y.useSelector)(l.fq),r=(0,y.useSelector)(c.i2),I=(0,T.qG)({tag:"subscription-form",extendedResult:!0},{immediate:!1}).getData;return(0,v.useCallback)((0,a.Z)(o().mark((function a(){var l,c,v;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(l=(0,d.fM)(n)){o.next=3;break}return o.abrupt("return");case 3:return o.prev=3,c=Date.now(),o.next=7,u()(I(),m.SHORT_HTTP_TIMEOUT);case 7:return v=o.sent,e.info({label:"network",duration:Date.now()-c,browserFingerprint:v,offer:{id:l.id,productArrangementCode:l.productArrangementCode},marketingCloudId:(0,s.x)(),clientId:r},"".concat(g)),t.dispatch((0,f.$d)(v)),o.abrupt("return",v.visitorId);case 13:if(o.prev=13,o.t0=o.catch(3),!(o.t0 instanceof i.TimeoutError)){o.next=18;break}return e.error("".concat(g," took more than ").concat(m.SHORT_HTTP_TIMEOUT)),o.abrupt("return");case 18:e.error({label:g,error:o.t0},"Error while getting browser fingerprint using getData");case 19:case"end":return o.stop()}}),a,null,[[3,13]])}))),[n,r,I,e,t])}},64726:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(54147),o=n(67294);function a(){var e=(0,r.VB)(r.yr);return(0,o.useCallback)((function(t){var n,r,o;e?null===(n=window)||void 0===n||n.scrollTo({top:50,behavior:"smooth"}):null===(r=t.current)||void 0===r||null===(o=r.querySelector("#main"))||void 0===o||o.scrollIntoView({behavior:"smooth",block:"start"})}),[e])}},63418:function(e,t,n){"use strict";n.d(t,{l:function(){return T},z:function(){return g}});var r=n(26265),o=n(41365),a=n(36623),i=n(65455),u=n(28479),l=n(96029),c=n(2385),s=n(67348),d=n(62782),f=n(14157);var m=n(93633),v=n(12510);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(){var e=(0,v.useSelector)(a.fq),t=(0,v.useSelector)(i.mT),n=(0,v.useSelector)(l.yq),r=e.map((function(e){return e.offerId})),s=(null===r||void 0===r?void 0:r.length)>0?r:n,d=(0,u.Tj)({country:t,offerIds:s}).paymentsInput,p=(0,f.k)()?{transaction:{transactionType:c.iU.SwitchPlan}}:{},T=(0,m.a)(o.U,{variables:{paymentsInput:y(y({},d),p)}}),g=T.data,I=T.loading,h=T.error,S=T.updateQuery,b=T.refetch,E=T.previousData,A=I?null===E||void 0===E?void 0:E.validPayments:null===g||void 0===g?void 0:g.validPayments;return h&&!A&&(A=[{__typename:"ValidPayment",category:c.DN.CreditCard,type:c.uG.Visa,allowedDigitalWallets:[]},{__typename:"ValidPayment",category:c.DN.CreditCard,type:c.uG.Mastercard,allowedDigitalWallets:[]}],S((function(e){return y(y({},e),{},{validPayments:A})})),b()),A}function g(){var e,t=T(),n=(0,v.useSelector)(s.uM),r=null===n||void 0===n||null===(e=n.paymentInstrument)||void 0===e?void 0:e.category;return!!(0,d.B)(t,r)}},47578:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var r=n(27261);function o(){var e=(0,r.Z)(["\n  fragment paymentCountryInfo on Country {\n    id\n    marketSegmentDetails {\n      marketSegmentId\n      taxSupported\n    }\n    stateProvinces {\n      code\n      name\n    }\n    postalCodeRequired\n  }\n"]);return o=function(){return e},e}var a=(0,n(76410).Ps)(o())},26089:function(e,t,n){"use strict";n.d(t,{M:function(){return a}});var r=n(27261);function o(){var e=(0,r.Z)(["\n  query GET_SEGMENTATION_OFFERS($offersInput: SegmentationOffersInput!) {\n    segmentationOffers(input: $offersInput) {\n      result {\n        offers {\n          offer {\n            id\n            offerType\n            productArrangementCode\n            customerSegment\n            marketSegments\n          }\n        }\n      }\n    }\n  }\n"]);return o=function(){return e},e}var a=(0,n(76410).Ps)(o())},88882:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});var r=n(27261);function o(){var e=(0,r.Z)(["\n  fragment WalletFragment on User {\n    id\n    wallet {\n      savedPaymentInstruments {\n        id\n        billingAddress {\n          city\n          countryCode\n          postalCode\n          stateCode\n          street1\n          street4\n        }\n        billingContact {\n          firstName\n          lastName\n          primaryEmail\n          primaryPhone\n          pronunciationFirstName\n          pronunciationLastName\n          taxId\n        }\n        lastBillingSuccessAt\n        lastBillingFailureAt\n        lastModifiedAt\n        paymentInstrument {\n          category\n          ... on CreditCardPaymentInstrument {\n            cardDisplayValue\n            cardExpirationMonth\n            cardExpirationYear\n            cardShortNumber\n            cardSpan\n            cardToken\n            cardType\n            category\n            digitalWallet\n          }\n          ... on PaypalPaymentInstrument {\n            billingAgreementId\n            cancelUrl\n            category\n            payerId\n            redirectUrl\n            returnUrl\n          }\n          ... on DirectDebitPaymentInstrument {\n            bankAccountDisplay\n            bankCountry\n          }\n        }\n        status\n      }\n    }\n  }\n"]);return o=function(){return e},e}var a=(0,n(76410).Ps)(o())},98916:function(e,t,n){"use strict";n.d(t,{Sd:function(){return u}});var r,o=n(2385);function a(e,t){var n=e||new Date;return n.setDate(n.getDate()+t),n}function i(e,t){var n=e||new Date;return n.setMonth(n.getMonth()+t),n}function u(e,t){var n=e||{},u=n.promotionTerm,l=n.promotionTermValue,c=void 0===l?0:l,s=n.promotionTermEndDate,d=t||{},f=d.etfUnit,m=d.etfPeriod;return function(e){if(f&&m&&!isNaN(parseInt(m))){if(f===r.DAYS)return a(e,parseInt(m));if(f===r.MONTHS)return i(e,parseInt(m))}return e}(function(e,t,n){if(n)return new Date(n);if(e&&t){if(e===o.f5.Day)return a(new Date,t);if(e===o.f5.Week)return a(new Date,7*t);if(e===o.f5.Month)return i(new Date,t)}return new Date}(u,c,s))}!function(e){e.DAYS="DAYS",e.MONTHS="MONTHS"}(r||(r={}))},28787:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var r=n(27261);function o(){var e=(0,r.Z)(["\n  fragment AcademicRepresentativeOffer on PersonalizedOffer {\n    offer {\n      analytics {\n        actionBlockId\n        campaignId\n        containerId\n        controlGroupId\n        treatmentId\n        variationId\n      }\n      cancellationTerm {\n        termRule {\n          etfUnit\n          etfPeriod\n        }\n      }\n      commitment\n      currency {\n        code\n        formatString\n        precision\n      }\n      id\n      offerType\n      marketSegments\n      customerSegment\n      promotion {\n        promotionTerm\n        promotionTermValue\n      }\n      processingInstructions {\n        trial {\n          trialReminderEnabled\n          trialReminderDays\n        }\n        checkout {\n          productArrangementPrimaryType\n        }\n      }\n      offerPriceDisplay {\n        displayUnitPrice\n      }\n      productArrangement {\n        cloud\n        code\n        family\n      }\n      term\n      tncCode\n    }\n  }\n"]);return o=function(){return e},e}var a=(0,n(76410).Ps)(o())},28479:function(e,t,n){"use strict";n.d(t,{nk:function(){return f},N4:function(){return m},Tq:function(){return v},Tj:function(){return p},lP:function(){return y}});var r=n(27261),o=n(76410),a=n(47578),i=n(98983),u=n(2385),l=n(88882);function c(){var e=(0,r.Z)(["\n  fragment PaymentRepresentativeOffer on PersonalizedOffer {\n    offer {\n      analytics {\n        actionBlockId\n        campaignId\n        containerId\n        controlGroupId\n        treatmentId\n        variationId\n      }\n      cancellationTerm {\n        termRule {\n          etfUnit\n          etfPeriod\n        }\n      }\n      commitment\n      currency {\n        code\n        formatString\n        precision\n      }\n      customerSegment\n      marketSegments\n      id\n      offerPriceDisplay {\n        displayUnitPrice\n      }\n      offerType\n      productArrangement {\n        cloud\n        code\n        family\n      }\n      promotion {\n        promotionTerm\n        promotionTermValue\n      }\n      processingInstructions {\n        trial {\n          trialReminderEnabled\n          trialReminderDays\n        }\n      }\n      term\n      tncCode\n    }\n  }\n"]);return c=function(){return e},e}function s(){var e=(0,r.Z)(["\n  query GET_PAYMENT_PAGE_DATA_AFTER_AUTH(\n    $paymentsInput: ValidPaymentsInput!\n    $isAuthenticated: Boolean!\n  ) {\n    validPayments(input: $paymentsInput) {\n      ...validPaymentInstruments\n    }\n    user @include(if: $isAuthenticated) {\n      ...WalletFragment\n    }\n  }\n  ","\n  ","\n"]);return s=function(){return e},e}function d(){var e=(0,r.Z)(["\n  query GET_PAYMENT_PAGE_DATA($country: ID!) {\n    country(id: $country) {\n      ...paymentCountryInfo\n      strongCustomerAuthenticationLive\n      strongCustomerAuthenticationRequired\n    }\n  }\n  ","\n"]);return d=function(){return e},e}var f=(0,o.Ps)(d(),a.q),m=(0,o.Ps)(s(),l.a,i.N);function v(e){return{country:e.country}}function p(e){var t=e.country,n=e.offerIds,r=e.currency,o=e.isAuthenticated,a=e.isI2T,i={countryCode:t,offerIds:n};return r&&(i.transaction={currency:r}),a&&(i.transaction={transactionType:u.iU.SwitchPlan}),{paymentsInput:i,isAuthenticated:o}}var y=(0,o.Ps)(c())},48290:function(e,t,n){"use strict";n.d(t,{Q:function(){return o},n:function(){return a}});var r=n(20573),o="companyInfo",a=(0,r.P1)((function(e){return null===e||void 0===e?void 0:e.companyInfo}),(function(e){return!!e&&Object.values(e).some((function(e){if("string"!==typeof e)return!(null===e||void 0===e||!e.touched||null===e||void 0===e||!e.error)}))}))}}]);