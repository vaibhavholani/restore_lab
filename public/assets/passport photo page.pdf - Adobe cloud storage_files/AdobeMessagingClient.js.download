!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AdobeMessagingClient=t():e.AdobeMessagingClient=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=23)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=d(n(7)),r=d(n(24)),s=d(n(25)),l=d(n(1));d(n(11)),d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}var u={DOCKED:"docked",POPOUT:"popout"},c=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getAppVersion=function(){return t.appver},this.setMessagingWindowState=function(e){t.messagingWindowState=e},this.getMessagingWindowState=function(){return t.messagingWindowState},this.IsCookiesEnabled=function(){return t.initJson.cookiesEnabled},this.getMessagingUIURL=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?t.serverInitResponse.releaseControl.zeonURL:t.serverInitResponse.releaseControl.adobeMessagingClientURL},this.updateInitContext=function(e){t.initJson.validateAndModifyContext(e)},this.updateUITheme=function(e){t.initJson.updateUITheme(e)},this.updateAccessToken=function(e){t.initJson.updateAccessToken(e)},this.handleInitData=function(e){t.initJson.validateAndInitContext(e),t.msgdebug=e.msgdebug,t.env=t.initJson.env},this.handleInitResponse=function(e){e.userProfileInfo&&(t.userProfile=e.userProfileInfo),t.serverInitResponse.setResponse(e),t.messagingWindowState=t.serverInitResponse.messagingState.windowState},this.getCtaToolTipDelay=function(){return t.serverInitResponse.ctaToolTipDelay},this.setOnReadyStateAndTriggerPendingCallbacks=function(){t.isAdobeMessagingClientReady=!0,i.default.sendMessageToHost(i.default.hostCallbacks.TRIGGER_ON_READY_CALLBACKS)},this.getContextInfo=function(){var e=a({},t.initJson);return delete e.callbacks,e.context.conversationExists=t.serverInitResponse.messagingState.conversationExists,e.context.uiFallbackLocale=t.serverInitResponse.uiFallbackLocale,e.context.agentFallbackLocale=t.serverInitResponse.agentFallbackLocale,e.context.enterpriseTeamLocale=t.serverInitResponse.enterpriseTeamLocale,e.popOutEnabled=t.serverInitResponse.uiPolicy.popOutEnabled,e.soundEnabled=t.serverInitResponse.uiPolicy.soundEnabled,e.floodgateData=t.serverInitResponse.releaseControl.floodgateData,e.cookieGuid=t.serverInitResponse.cookieGuid,e.ipAddress=t.serverInitResponse.ipAddress,e.analyticsContext=t.serverInitResponse.tutorialPopUpModel?t.serverInitResponse.tutorialPopUpModel.analyticsInfo:void 0,e},this.setInitConfig=function(e){t.initConfig=e},this.getCommonAnalyticsParams=function(){return{"event.category":t.initJson.appType.toUpperCase(),"event.url":location.href,"event.referrer":document.referrer,"event.user_agent":navigator.userAgent,"source.version":t.initJson.appver,"source.platform":t.initJson.appType,"source.os_version":"","env.com.name":l.default.getClientAppId(),"env.com.version":l.default.getClientVersion(),"event.ip":t.serverInitResponse.ipAddress}},this.isAdobeMessagingClientReady=!1,this.isAdobeMessagingClientLoadStarted=!1,this.initJson=new r.default,this.serverInitResponse=new s.default,this.config={},this.appid="AdobeMessaging",this.appver="2.41.3",this.conversationActive=!1,this.env="prod",this.messagingWindowState=this.messagingWindowStateEnum.DOCKED,this.initStarted=!1,this.msgdebug=!1,this.userProfile={},this.leConversationId="",this.clientSessionId="",this.skillName="",this.initConfig={},this.zeonData={},this.mnmMode=!1,this.reinitializePhase=!1}return o(e,[{key:"messagingWindowStateEnum",get:function(){return u}}]),e}();t.default=new c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=s(n(0)),i=s(n(6)),r=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getRandomAvatarUrl=function(){var e=Math.floor(15*Math.random())+1;return t.getJarvisClientRootUrlByEnv()+"/assets/sales-avatar-"+e+".png"},this.getPopupNotification=function(){return t.getJarvisClientRootUrlByEnv()+"/assets/notification.wav"}}return a(e,[{key:"isEmpty",value:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return JSON.stringify(e)===JSON.stringify({})}},{key:"getClientAppId",value:function(){return o.default.appid}},{key:"getClientVersion",value:function(){return o.default.appver}},{key:"isHidden",value:function(e){return"none"===window.getComputedStyle(e).display}},{key:"getUUID",value:function(){var e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!=e&&12!=e&&16!=e&&20!=e||(n+="-"),n+=(12==e?4:16==e?3&t|8:t).toString(16);return n}},{key:"getJarvisClientRootUrlByEnv",value:function(){if("local"===o.default.env)return".";var e="";if("dev"===o.default.env)e=i.default.CLIENT_DEV_PATH;else if("devops"===o.default.env)e=i.default.CLIENT_DEVOPS_PATH;else if("qe"===o.default.env)e=i.default.CLIENT_QE_PATH;else if("integration"===o.default.env)e=i.default.CLIENT_INTEGRATION_PATH;else if("stage"===o.default.env)e=i.default.CLIENT_STAGE_PATH;else if("prod"===o.default.env)e=i.default.CLIENT_PROD_PATH;else{if("authoring"!==o.default.env)return void r.default.error("Wrong environment");e=i.default.CLIENT_AUTHORING_PATH}return e+"/"+this.getClientVersion()}}]),e}();t.default=new l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"debug",value:function(){if(o.default.msgdebug){var e=Array.prototype.slice.call(arguments);console.debug.apply(console,e)}}},{key:"error",value:function(){if(o.default.msgdebug){var e=Array.prototype.slice.call(arguments);console.error.apply(console,e)}}},{key:"warn",value:function(){if(o.default.msgdebug){var e=Array.prototype.slice.call(arguments);console.warn.apply(console,e)}}},{key:"log",value:function(){if(o.default.msgdebug){var e=Array.prototype.slice.call(arguments);console.info.apply(console,e)}}},{key:"info",value:function(){if(o.default.msgdebug){var e=Array.prototype.slice.call(arguments);console.info.apply(console,e)}}}]),e}();t.default=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.createElement=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=document.createElement(e);return t&&t.split(",").forEach(function(e){return a.classList.add(e)}),n&&n.appendChild(a),a}}return a(e,[{key:"addFocusRingHandling",value:function(e){e.addEventListener("focus",function(){e.classList.add("focus-ring")},!1),e.addEventListener("blur",function(){e.classList.remove("focus-ring")},!1)}}]),e}();t.default=new o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=h(n(0));n(29);var o=h(n(7)),i=h(n(1)),r=h(n(2)),s=h(n(12)),l=h(n(5)),d=h(n(11)),u=h(n(18)),c=h(n(13)),p=h(n(20)),f=h(n(22)),g=h(n(3));function h(e){return e&&e.__esModule?e:{default:e}}n(45),n(46);t.default=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getMessageUIInitPayload=function(){var e=window.location.origin;return a.default.initJson.appType&&"desktop"===a.default.initJson.appType.toLowerCase()&&(e="*"),{namespace:"adbmsg",window_origin:e,iframe_origin:a.default.getMessagingUIURL(),popped:a.default.getMessagingWindowState()===a.default.messagingWindowStateEnum.POPOUT,hostAnalyticsCallbackPresent:!!a.default.initJson.callbacks.analyticsCallback,openURLCallbackPresent:!!a.default.initJson.callbacks.openURLActionCallback,params:a.default.getCommonAnalyticsParams(),context:a.default.getContextInfo(),userProfile:a.default.userProfile}},this.getMessagingClientHashedUrl=function(){var e=window.location.origin;e||(e=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),a.default.initJson.appType&&"desktop"===a.default.initJson.appType.toLowerCase()&&(e="*");var t={window_origin:e,iframe_origin:a.default.getMessagingUIURL(a.default.mnmMode),popped:a.default.getMessagingWindowState()===a.default.messagingWindowStateEnum.POPOUT};return a.default.getMessagingUIURL(a.default.mnmMode)+"?lc="+a.default.initJson.language+"_"+a.default.initJson.region+"#"+encodeURIComponent(JSON.stringify(t))},this.isMobile=function(){return window.innerHeight<=610&&window.innerWidth<=414},this.loadIframeUI=function(){t.adbmsgContentIframe.setAttribute("frameBorder",0),t.adbmsgContentIframe.setAttribute("src",t.getMessagingClientHashedUrl())},this.addSpinner=function(){t.waitSpinner=g.default.createElement("div","spectrum,spectrum--light",t.adbmsgContentContainer);var e=g.default.createElement("div","spectrum-CircleLoader,spectrum-CircleLoader--indeterminate,spectrum-CircleLoader,react-spectrum-Wait--centered,spinnner",g.default.createElement("div","wait-wrapper",t.waitSpinner));g.default.createElement("div","spectrum-CircleLoader-track",e);var n=g.default.createElement("div","spectrum-CircleLoader-fills",e),a=g.default.createElement("div","spectrum-CircleLoader-fillMask1",n),o=g.default.createElement("div","spectrum-CircleLoader-fillMask2",n),i=g.default.createElement("div","spectrum-CircleLoader-fillSubMask1",a),r=g.default.createElement("div","spectrum-CircleLoader-fillSubMask2",o);g.default.createElement("div","spectrum-CircleLoader-fill",i),g.default.createElement("div","spectrum-CircleLoader-fill",r)},this.removeSpinner=function(){t.waitSpinner&&(t.waitSpinner.style.display="none",t.waitSpinner.parentNode.removeChild(t.waitSpinner))},this.showSpinner=function(){t.waitSpinner&&(t.waitSpinner.style.display="block")},this.hideCTA=function(){t.adbmsgCta.style.display="none",t.adbmsgCta.setAttribute("aria-expanded","true")},this.showCTA=function(e){t.adbmsgCta.style.display="block",t.adbmsgCta.setAttribute("aria-expanded","false"),e&&""!==e&&t.adbmsgCta.classList.add(e)},this.handleOpenMessagingWindow=function(e){var n=void 0;if(a.default.isAdobeMessagingClientLoadStarted||(n=o.default.sendMessageToHost(o.default.hostCallbacks.GET_CONTEXT_CALLBACK))&&("teamAdmin"===n.userRole&&a.default.serverInitResponse.agentFallbackLocale&&a.default.serverInitResponse.enterpriseTeamLocale&&a.default.serverInitResponse.agentFallbackLocale!=a.default.serverInitResponse.enterpriseTeamLocale&&(a.default.serverInitResponse.agentFallbackLocale=a.default.serverInitResponse.enterpriseTeamLocale),a.default.updateInitContext(n)),e&&e.sourceType){var i=e.componentid||a.default.initJson.componentid,r=(e.componentver||a.default.initJson.componentver,e.sourceType),s=e.sourceText||"",p={"event.workflow":"init","event.subcategory":"launch","event.type":"click"};"AdobeMessaging"===i?t.badgeVisible?p["event.subtype"]="unread":p["event.subtype"]="new":i&&(p["event.subtype"]=i.toLowerCase()),r&&s&&(p["content.name"]=(r+"-"+s).toLowerCase()),l.default.sendEvent(p)}n||(n={}),e&&e.customGreet&&(n.greetContext=e.customGreet,a.default.updateInitContext(n)),a.default.serverInitResponse.releaseControl.showAdobeMessaging&&(u.default.removeSalesPopUp(),c.default.removeEngagementPopUp(),f.default.removePopUp(),a.default.isAdobeMessagingClientLoadStarted?d.default.getLoadCompleteState()&&(t.hideCTA(),t.adbmsgContentContainer.style.display="block",d.default.sendMessageToMessagingUI(d.default.uiMessagesEnum.WINDOW_OPENED),t.badgeVisible&&d.default.sendMessageToMessagingUI(d.default.uiMessagesEnum.REFRESH_MESSAGE_UI)):(a.default.isAdobeMessagingClientLoadStarted=!0,a.default.initJson.lazyLoad?t.loadIframeUI():n?d.default.sendMessageToMessagingUI(d.default.uiMessagesEnum.START_SERVICE_CONNECTION,n):d.default.sendMessageToMessagingUI(d.default.uiMessagesEnum.START_SERVICE_CONNECTION),t.hideCTA(),t.adbmsgContentContainer.style.display="block"),t.adbmsgContentContainer.classList.remove("downwardAnimate"),t.adbmsgContentContainer.classList.add("upwardAnimate"),t.showConversationMarker(!1),t.isMobile()&&setTimeout(function(){window.onhashchange=null,location.hash+="#messaging",setTimeout(function(){window.onhashchange=function(){location.hash.includes("#messaging")||t.handleMinimizeMessagingWindow(!1,a.default.mnmMode)}},0)},0))},this.handleOpenZeonWindow=function(){t.hideCTA(),t.adbmsgContentContainerMnm.style.display="block",d.default.sendMessageToZeon(d.default.uiMessagesEnum.WINDOW_OPENED),t.adbmsgContentContainerMnm.classList.remove("downwardAnimate"),t.adbmsgContentContainerMnm.classList.add("upwardAnimate"),t.showConversationMarker(!1)},this.handleWSCreationForClientWindow=function(){r.default.log("Creating WS for host window"),s.default.info("Going to create session because of new session created in pop out for appid: ",a.default.initJson.appid," and client id: ",a.default.initJson.clientId),d.default.sendMessageToMessagingUI(d.default.uiMessagesEnum.START_SERVICE_CONNECTION,null,!1)},this.handleMinimizeMessagingWindow=function(e,n){e||d.default.sendMessageToMessagingUI(d.default.uiMessagesEnum.WINDOW_MINIMIZED),n?(t.adbmsgContentContainerMnm.classList.remove("upwardAnimate"),t.adbmsgContentContainerMnm.classList.add("downwardAnimate")):(t.adbmsgContentContainer.classList.remove("upwardAnimate"),t.adbmsgContentContainer.classList.add("downwardAnimate")),a.default.getMessagingWindowState()===a.default.messagingWindowStateEnum.POPOUT&&(a.default.setMessagingWindowState(a.default.messagingWindowStateEnum.DOCKED),clearInterval(t.timer)),setTimeout(function(){t.adbmsgContentContainer.style.display="none",n&&(t.adbmsgContentContainerMnm.style.display="none")},250);var o=a.default.serverInitResponse,i=o.authoredBotPopupModel,r=i&&i.controls.ctaImg?i.controls.ctaImg:"";a.default.conversationActive?o.uiPolicy.showButtonAfterClose?t.showCTA(r):t.hideCTA():o.uiPolicy.showCTA?t.showCTA(r):t.hideCTA(),t.showConversationMarker(!1),t.isMobile()&&location.hash.includes("#messaging")&&(location.hash=location.hash.replace("#messaging",""))},this.handleCloseMessagingWindow=function(e){t.handleMinimizeMessagingWindow(e),e&&(a.default.isAdobeMessagingClientLoadStarted=!1)},this.checkTabPress=function(e){var n=document.activeElement;if(null!==n)if(9===e.keyCode&&n.className.indexOf("adbmsgCta")>-1)-1===n.className.split(" ").indexOf("focus-ring")&&(n.className+=" focus-ring");else{n=t.adbmsgCta;var a=new RegExp("\\bfocus-ring\\b","g");n.className=n.className.replace(a,"")}},this.handleCtaClick=function(e){e.preventDefault(),e.stopPropagation(),a.default.mnmMode?t.handleOpenZeonWindow():t.handleOpenMessagingWindow({appid:a.default.initJson.appid,appver:a.default.initJson.appver,componentid:i.default.getClientAppId(),componentver:i.default.getClientVersion(),sourceType:"button",sourceText:"button"})},this.simulateCTAClick=function(){t.timeoutCta&&(clearTimeout(t.timeoutCta),t.timeoutCta=void 0),a.default.mnmMode?t.handleOpenZeonWindow():t.handleOpenMessagingWindow({appid:a.default.initJson.appid,appver:a.default.initJson.appver,componentid:i.default.getClientAppId(),componentver:i.default.getClientVersion(),sourceType:"auto",sourceText:"button"})},this.resizeDimension=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(u.default.handleResizeDimension(),c.default.handleResizeDimension(),window.innerWidth<=414?(t.adbmsgContentContainer.style.width=window.innerWidth+"px",t.adbmsgContentIframe.style.width=window.innerWidth+"px"):(t.adbmsgContentContainer.style.width="380px",t.adbmsgContentIframe.style.width="380px"),window.innerHeight<=190?(t.adbmsgContentContainer.style.height=window.innerHeight+"px",t.adbmsgContentIframe.style.height=window.innerHeight+"px"):window.innerHeight<=620&&window.innerWidth>=415?(t.adbmsgContentContainer.style.height=window.innerHeight-40+"px",t.adbmsgContentIframe.style.height=window.innerHeight-40+"px"):window.innerHeight<=610?(t.adbmsgContentContainer.style.height=window.innerHeight+"px",t.adbmsgContentIframe.style.height=window.innerHeight+"px"):(t.adbmsgContentContainer.style.height="580px",t.adbmsgContentIframe.style.height="580px"),setTimeout(function(){window.outerHeight===screen.height?(t.openedInFullScreenMode||a.default.isAdobeMessagingClientLoadStarted&&d.default.sendMessageToMessagingUI(d.default.uiMessagesEnum.POP_OUT_STATE,{canPopOut:!1}),t.openedInFullScreenMode=!0):(t.openedInFullScreenMode&&a.default.isAdobeMessagingClientLoadStarted&&d.default.sendMessageToMessagingUI(d.default.uiMessagesEnum.POP_OUT_STATE,{canPopOut:!0}),t.openedInFullScreenMode=!1)},100),!n){var o=Number(t.adbmsgContentContainer.style.width.substr(0,t.adbmsgContentContainer.style.width.length-2)),i=t.adbmsgContentContainer.offsetLeft,r=window.innerWidth-o-i;o+r>=420&&(i>0?t.adbmsgContentContainer.style.right=r+"px":"block"===t.adbmsgContentContainer.style.display&&(t.adbmsgContentContainer.style.right=window.innerWidth-o+"px"))}},this.removeJarvisElement=function(){var e=!0;try{t.adbMsgClientWrapper&&(t.adbMsgClientWrapper.parentNode.removeChild(t.adbMsgClientWrapper),d.default.setInitialServerPoliciesApplied(!1),d.default.setLoadCompletedState(!1),s.default.info("Successfully removed Jarvis element to re-render because of version change for appID: ",a.default.initJson.appid," and client id: ",a.default.initJson.clientId))}catch(t){e=!1,s.default.error("Exception in removing Jarvis Element with exception stack trace : ",t.stack," for appID: ",a.default.initJson.appid," and client id: ",a.default.initJson.clientId)}return e},this.closeZeon=function(){try{t.adbmsgContentContainerMnm&&(t.handleMinimizeMessagingWindow(!1,!0),t.adbmsgContentContainerMnm.parentNode.removeChild(t.adbmsgContentContainerMnm),s.default.info("Successfully removed Zeon element"))}catch(e){s.default.error("Exception in removing Zeon Element with exception stack trace : ",e.stack)}},this.renderZeonElement=function(){t.handleMinimizeMessagingWindow(!1,!1),t.adbmsgContentContainerMnm=g.default.createElement("div","adbmsgContentContainerMnm",t.adbmsgContainer),t.adbmsgContentContainerMnm.id="adbmsgContentContainerMnm",t.adbmsgContentIframeMnm=g.default.createElement("iframe","adbmsgContentIframeMnm",t.adbmsgContentContainerMnm),t.adbmsgContentIframeMnm.setAttribute("frameBorder",0),t.adbmsgContentIframeMnm.setAttribute("src",t.getMessagingClientHashedUrl()),t.hideCTA(),t.adbmsgContentContainerMnm.style.display="block",t.adbmsgContentIframeMnm.style.display="block",t.adbmsgContentContainer.style.display="none"},this.setThemeCSS=function(e){var t=document.getElementById("adbmsgCta");return t&&t.classList?("light"===e?t.classList.contains("adbmsgCtaDarkest")&&t.classList.remove("adbmsgCtaDarkest"):"darkest"===e&&(t.classList.contains("adbmsgCtaDarkest")||t.classList.add("adbmsgCtaDarkest")),!0):(r.default.warn("adbmsgCtaElem or adbmsgCtaElem classList not found"),!1)},this.showTooltip=function(e){return function(){clearTimeout(t.toolTipTimeout),t.toolTipTimeout=setTimeout(function(){e.style.display="block"},a.default.getCtaToolTipDelay())}},this.hideTooltip=function(e){return function(){clearTimeout(t.toolTipTimeout),e.style.display="none"}},this.renderJarvisElement=function(e){if(e.releaseControl.showAdobeMessaging){var n=a.default.getMessagingUIURL();if(a.default.handleInitResponse(e),!a.default.reinitializePhase&&n&&n===e.releaseControl.adobeMessagingClientURL)return r.default.info("Received same messaging UI URL, thereofore not reloading for appID: ",a.default.initJson.appid," and client id: ",a.default.initJson.clientId),s.default.info("Received same messaging UI URL, thereofore not reloading for appID: ",a.default.initJson.appid," and client id: ",a.default.initJson.clientId),void t.applyInitialServerPolicies();var o=a.default.serverInitResponse;if(t.removeJarvisElement()){var i=a.default.serverInitResponse,l=a.default.config.js_url;r.default.log("base_url : "+l),t.adbMsgClientWrapper=g.default.createElement("div","adbMsgClientWrapper",document.body),t.adbMsgClientWrapper.id="adbMsgClientWrapper",t.adbmsgContainer=g.default.createElement("div","adbmsgContainer",t.adbMsgClientWrapper),t.adbmsgContainer.id="adbmsgContainer",t.adbmsgCta=g.default.createElement("button","adbmsgCta",t.adbmsgContainer),t.adbmsgCta.id="adbmsgCta",t.adbmsgCta.setAttribute("aria-label",i.localizedData.ctaText),t.adbmsgCta.classList.add("outwardAnimate"),"darkest"===a.default.initJson.theme&&t.adbmsgCta.classList.add("adbmsgCtaDarkest"),t.adbmsgbadge=g.default.createElement("span","adbmsgbadge",t.adbmsgCta);var d=g.default.createElement("p","adbmsg-tooltip",t.adbmsgCta),u=document.createTextNode(i.localizedData.ctaText);d.appendChild(u),t.adbmsgCta.addEventListener?(t.adbmsgCta.addEventListener("click",t.handleCtaClick,!1),t.adbmsgCta.addEventListener("mouseover",t.showTooltip(d)),t.adbmsgCta.addEventListener("focus",t.showTooltip(d)),t.adbmsgCta.addEventListener("blur",t.hideTooltip(d)),t.adbmsgCta.addEventListener("mouseout",t.hideTooltip(d))):t.adbmsgCta.attachEvent&&(t.adbmsgCta.attachEvent("onclick",t.handleCtaClick),t.adbmsgCta.attachEvent("onmouseover",t.showTooltip(d)),t.adbmsgCta.attachEvent("onfocus",t.showTooltip(d)),t.adbmsgCta.attachEvent("onblur",t.hideTooltip(d)),t.adbmsgCta.attachEvent("onmouseout",t.hideTooltip(d))),t.adbmsgContentContainer=g.default.createElement("div","adbmsgContentContainer",t.adbmsgContainer),t.adbmsgContentContainer.id="adbmsgContentContainer",t.adbmsgContentHeader=g.default.createElement("div","adbmsgContentHeader",t.adbmsgContentContainer),t.adbmsgContentIframe=g.default.createElement("iframe","adbmsgContentIframe",t.adbmsgContentContainer),t.addPopUps(),o.uiPolicy.openMessagingWindow&&(a.default.initJson.lazyLoad=!1),a.default.initJson.lazyLoad?(t.addSpinner(),t.applyInitialServerPolicies()):t.loadIframeUI(),t.handleWindowClick(),t.handleWindowFocus(),t.resizeDimension(null,!0),window.addEventListener("resize",t.resizeDimension),t.handleDrag(),document.addEventListener("keyup",function(e){t.checkTabPress(e)},!1),document.addEventListener("mousedown",function(e){t.checkTabPress(e)},!1)}}},this.handleDragWidth=function(e){"INCREASE"===e?t.adbmsgContentHeader.setAttribute("style","width: -moz-calc(100% - 44px); width: -webkit-calc(100% - 44px); width: -o-calc(100% - 44px); width: calc(100% - 44px);"):t.adbmsgContentHeader.setAttribute("style","width: -moz-calc(100% - 118px); width: -webkit-calc(100% - 118px); width: -o-calc(100% - 118px); width: calc(100% - 118px);")},this.handleWindowFocus=function(){window.onfocus=function(){a.default.isAdobeMessagingClientLoadStarted&&d.default.sendMessageToMessagingUI(d.default.uiMessagesEnum.CLIENT_FOCUS_STATE,{isInFocus:!0})},window.onblur=function(){a.default.isAdobeMessagingClientLoadStarted&&d.default.sendMessageToMessagingUI(d.default.uiMessagesEnum.CLIENT_FOCUS_STATE,{isInFocus:!1})}},this.handleWindowClick=function(){document.addEventListener("click",function(e){t.dragged?t.dragged=!1:a.default.mnmMode?null!=document.getElementById("adbmsgContentContainerMnm")&&"block"==document.getElementById("adbmsgContentContainerMnm").style.display&&t.handleMinimizeMessagingWindow(!1,!0):null!=document.getElementById("adbmsgContentContainer")&&"block"==document.getElementById("adbmsgContentContainer").style.display&&t.handleMinimizeMessagingWindow(!1,!1)})},this.handleDrag=function(){var e=0,n=0,a=function(a){(a=a||window.event).preventDefault&&a.preventDefault();var o=n+e-a.clientX;o<0&&(o=0),o+380>window.innerWidth&&(o=window.innerWidth-380),t.adbmsgContentContainer.style.right=o+"px"},o=function o(){e=0,n=0,t.adbmsgContentIframe.classList.remove("ignoreMouse"),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",o),document.removeEventListener("mouseleave",o)};t.adbmsgContentHeader.addEventListener("mousedown",function(i){t.dragged=!0,(i=i||window.event).preventDefault&&i.preventDefault(),e=i.clientX,n=window.innerWidth-t.adbmsgContentContainer.offsetLeft-380,t.adbmsgContentIframe.classList.add("ignoreMouse"),document.addEventListener("mousemove",a),document.addEventListener("mouseup",o),document.addEventListener("mouseleave",o)})},this.addPopUps=function(){t.showConversationMarker(!1);var e=a.default.serverInitResponse;if("none"!=e.uiPolicy.ctaStyleOverride&&t.adbmsgCta.classList.add(e.uiPolicy.ctaStyleOverride),"none"!=e.uiPolicy.wndStyleOverride&&t.adbmsgContentContainer.classList.add(e.uiPolicy.wndStyleOverride),e.uiPolicy.yOffset){var n=e.uiPolicy.yOffset;!isNaN(n)&&n>0&&(t.adbmsgCta.style.bottom=n+"px")}e.messagingState.conversationExists||(e.tutorialPopUpModel&&p.default.addTutorialPopUpToDOM(e,e.tutorialPopUpModel,t.adbmsgCta,t.adbmsgContainer),e.authoredBotPopupModel&&f.default.addPopUpToDOM(e,e.authoredBotPopupModel,t.adbmsgCta,t.adbmsgContainer),e.engagementPopUpModel?c.default.addEngagementPopUpToDOM(e,e.engagementPopUpModel,t.adbmsgCta,t.adbmsgContainer):e.showPopUp&&u.default.addSalesPopUpToDOM(e,t.adbmsgCta,t.adbmsgContainer))},this.renderCTAasPerPolicy=function(e,n,a,o){e&&0!=e.uiPolicy.loadDelay?setTimeout(function(){t.showCTA(a),l.default.sendEvent({"event.workflow":"init","event.subcategory":"launch","event.type":"render","event.subtype":"read","content.name":"button","content.status":a},!1),t.showConversationMarker(n,o)},1e3*e.uiPolicy.loadDelay):(t.showCTA(a),t.showConversationMarker(n,o),l.default.sendEvent({"event.workflow":"init","event.subcategory":"launch","event.type":"render","event.subtype":"read","content.name":"button","content.status":a},!1))},this.applyInitialServerPolicies=function(){d.default.setInitialServerPoliciesApplied(!0),a.default.setOnReadyStateAndTriggerPendingCallbacks();var e=a.default.serverInitResponse;if(e.messagingState.conversationExists&&(a.default.conversationActive=!0),e.uiPolicy.openMessagingWindow)t.hideCTA(),e.viaUpdateAccessTokenPath?s.default.info("Not creating session for conversation exists as it is via UpdateAccessToken Path for appid: ",a.default.initJson.appid):t.handleOpenMessagingWindow({appid:a.default.initJson.appid,appver:a.default.initJson.appver,componentid:i.default.getClientAppId(),componentver:i.default.getClientVersion(),sourceType:"auto",sourceText:"button"});else if(e.messagingState.conversationExists){var n=e.authoredBotPopupModel,o=n&&n.controls.ctaImg?n.controls.ctaImg:"";e.uiPolicy.showCTA?t.renderCTAasPerPolicy(e,!0,o):t.showCTA(o)}else{var r=e.engagementPopUpModel,l=e.tutorialPopUpModel,g=e.authoredBotPopupModel;r?(t.showCtaForEngagementPopup(r,e),t.showEngagementPopup(r,c.default)):l?(t.showCtaForEngagementPopup(l,e),l.isTutorialPopupEnabled&&l.isTutorialPopupEligible?t.showEngagementPopup(l,p.default):t.renderCTAasPerPolicy(e)):g?(t.showCtaForEngagementPopup(g,e),t.showEngagementPopup(g,f.default)):(e.uiPolicy.showCTA?t.renderCTAasPerPolicy(e):t.hideCTA(),e.showPopUp&&e.popUpLoadDelay&&0!=e.popUpLoadDelay?setTimeout(function(){u.default.showSalesPopUp(!0)},1e3*e.popUpLoadDelay):u.default.showSalesPopUp(!0))}},this.showCtaForEngagementPopup=function(e,n){if(e.controls.showCtaWithPopUp)if(n.uiPolicy.showCTA){var a=e.controls.showConversationMarker?"adbmsgCustombadge":void 0;t.renderCTAasPerPolicy(n,e.controls.showConversationMarker,e.controls.ctaImg,a)}else t.hideCTA()},this.showEngagementPopup=function(e,t){var n=e.controls.loadDelay;n&&n>0?setTimeout(function(){t.showPopUp()},1e3*n):t.showPopUp()},this.showConversationMarker=function(e,n){var o={},r=a.default.serverInitResponse;e?a.default.serverInitResponse.uiPolicy.showDotAfterClose&&(i.default.isHidden(t.adbmsgCta)||(t.badgeVisible||(l.default.sendEvent({"event.workflow":"init","event.subcategory":"launch","event.type":"render","event.subtype":"unread","content.name":"button"}),o.badgeState=!0,t.adbmsgCta.setAttribute("aria-label",r.localizedData.newMessageFromAgentText),t.adbmsgCta.setAttribute("aria-live","polite")),t.badgeVisible=!0,t.adbmsgbadge.style.display="block",n&&""!=n&&(t.adbmsgbadge.classList.add(n),t.adbmsgbadge.textContent="1")),o.badgeState=!0,o.windowOpenState=i.default.isHidden(t.adbmsgCta),a.default.initJson.callbacks.badgeStateCallback&&a.default.initJson.callbacks.badgeStateCallback(o)):(t.badgeVisible=!1,t.adbmsgbadge.style.display="none",t.adbmsgbadge.classList.contains("adbmsgCustombadge")&&(t.adbmsgbadge.classList.remove("adbmsgCustombadge"),t.adbmsgbadge.textContent=""),o.badgeState=!1,t.adbmsgCta.setAttribute("aria-label",r.localizedData.ctaText),t.adbmsgCta.setAttribute("aria-live","off"),o.windowOpenState=!1,a.default.initJson.callbacks.badgeStateCallback&&a.default.initJson.callbacks.badgeStateCallback(o))},this.applyHostOverrides=function(e){if(e){if(e.hasOwnProperty("cta")){var n=e.cta,a=t.adbmsgCta;a.classList.contains(n)||a.classList.add(n)}if(e.hasOwnProperty("wnd")){var o=e.wnd,i=t.adbmsgContentContainer;i.classList.contains(o)||i.classList.add(o)}}},this.getMessagingExperienceState=function(){return{windowState:i.default.isHidden(t.adbmsgContentContainer)?"hidden":a.default.messagingWindowState,ctaState:i.default.isHidden(t.adbmsgCta)?"hidden":"visible"}},this.handlePopOut=function(){var e=t.adbmsgContentContainer.clientWidth,n=t.adbmsgContentContainer.clientHeight+22;(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")>0||0===navigator.platform.toLowerCase().indexOf("win"))&&(n=t.adbmsgContentContainer.clientHeight);var o=screen.width/2-e/2,i="titlebar = no, top = "+(screen.height/2-n/2)+" , left = "+o+", height = "+n+" , width = "+e,r=a.default.getMessagingWindowState();a.default.setMessagingWindowState(a.default.messagingWindowStateEnum.POPOUT);var s=window.open(t.getMessagingClientHashedUrl(),"",i);if(s){t.adbmsgContentContainer.style.display="none",t.hideCTA();var l=t.handleCloseMessagingWindow;t.poppedWindow=s,window.onbeforeunload=function(){t.poppedWindow&&(t.poppedWindow.close(),t.poppedWindow=null)};var d=setInterval(function(){s&&s.closed&&(clearInterval(d),t.poppedWindow=null,l())},100);t.timer=d}else a.default.setMessagingWindowState(r)},this.handlePopIn=function(){a.default.setMessagingWindowState(a.default.messagingWindowStateEnum.DOCKED),clearInterval(t.timer),t.poppedWindow.close(),t.poppedWindow=null,t.adbmsgContentContainer.style.display="block",t.hideCTA(),d.default.sendMessageToMessagingUI(d.default.uiMessagesEnum.WINDOW_OPENED)},this.poppedwindow,this.timer,this.adbmsgCta=void 0,this.adbmsgbadge=void 0,this.adbmsgContentContainer=void 0,this.adbmsgContentContainerMnm=void 0,this.adbmsgContentHeader=void 0,this.adbmsgContentIframe=void 0,this.adbmsgContentIframeMnm=void 0,this.openedInFullScreenMode=!1,this.timeoutCta=void 0,this.dragged=!1,this.toolTipTimeout=void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=d(n(0)),r=d(n(2)),s=d(n(30)),l=d(n(8));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"initialize",value:function(e,t,n){this.project=e,this.env=t,this.ingestType=n,this.timeZoneString="";var a=-(new Date).getTimezoneOffset();a>=0?this.timeZoneString="+":(this.timeZoneString="-",a*=-1),this.timeZoneString+=("0"+parseInt(a/60)).slice(-2)+("0"+a%60).slice(-2)}},{key:"setAuthorization",value:function(e,t){this.userGuid=e,this.auth=t}},{key:"pad",value:function(e){return e<10?"0"+e:e}},{key:"getDateTimeString",value:function(){var e=new Date;return e.getFullYear()+"-"+this.pad(e.getMonth()+1)+"-"+this.pad(e.getDate())+"T"+this.pad(e.getHours())+":"+this.pad(e.getMinutes())+":"+this.pad(e.getSeconds())+"."+(e.getMilliseconds()/1e3).toFixed(3).slice(2,5)+this.timeZoneString}},{key:"sendEvent",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!i.default.mnmMode&&i.default.IsCookiesEnabled())try{var n={events:[]},o=this.getDateTimeString(),d=s.default.v4(),u={};u.project=this.project,u.environment=this.env,u.ingesttype=this.ingestType,u.time=o,u.data=a({},i.default.getCommonAnalyticsParams(),e,{"event.dts_end":o,"event.guid":d}),i.default.analyticsInfo&&i.default.analyticsInfo["content.mimetype"]&&(u.data["content.mimetype"]=i.default.analyticsInfo["content.mimetype"]),i.default.analyticsInfo&&i.default.analyticsInfo["env.fw.name"]&&(u.data["env.fw.name"]=i.default.analyticsInfo["env.fw.name"]),i.default.analyticsInfo&&i.default.analyticsInfo["env.com.version"]&&(u.data["env.com.version"]=i.default.analyticsInfo["env.com.version"]),i.default.userProfile.userGuid&&(u.data["event.user_guid"]=i.default.userProfile.userGuid),i.default.userProfile.serviceCode&&(u.data["user.service_code"]=i.default.userProfile.serviceCode),i.default.userProfile.serviceLevel&&(u.data["user.service_level"]=i.default.userProfile.serviceLevel),i.default.leConversationId&&(u.data["event.context_guid"]=i.default.leConversationId),i.default.initJson.appid&&(u.data["source.name"]=i.default.initJson.appid),i.default.initJson.clientId&&(u.data["source.client_id"]=i.default.initJson.clientId),i.default.initJson.language&&i.default.initJson.region&&(u.data["event.language"]=i.default.initJson.language+"_"+i.default.initJson.region),i.default.clientSessionId&&(u.data["event.session_guid"]=i.default.clientSessionId),i.default.initJson.cookies&&i.default.initJson.cookies.mcid&&(u.data["event.visitor_guid"]=i.default.initJson.cookies.mcid),i.default.initJson.context&&i.default.initJson.context.orgId&&(u.data["event.org_guid"]=i.default.initJson.context.orgId),!u.data["content.status"]&&i.default.skillName&&(u.data["content.status"]=i.default.skillName),i.default.serverInitResponse&&i.default.serverInitResponse.cookieGuid&&(u.data["source.device"]=i.default.serverInitResponse.cookieGuid),n.events.push(u);var c=l.default.createXMLHttp();"prod"===this.env?c.open("post","https://cc-api-data.adobe.io/ingest/",!0):"prod"===i.default.initJson.analyticsServerEnv?(c.open("post","https://cc-api-data.adobe.io/ingest/",!0),u.environment="prod"):c.open("post","https://cc-api-data-stage.adobe.io/ingest/",!0),navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")>0&&(c.responseType="text"),c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("x-api-key","messaging-web-service"),i.default.initJson.accessToken&&c.setRequestHeader("Authorization",i.default.initJson.accessToken),c.timeout=5e3;var p=e["event.workflow"]+" - "+e["event.subcategory"]+" - "+e["event.type"]+" - "+e["event.subtype"];c.onload=function(){c.status>=200&&c.status<400?r.default.log("Successfully sent event: "+p):r.default.warn("Error in sending event: "+p+" status: "+c.status+" Response: "+c.responseText)},c.onerror=function(){r.default.warn("Some Network error occurred while sending event: "+p)},c.ontimeout=function(){r.default.warn("Time out while sending event: "+p)},c.send(JSON.stringify(n)),i.default.initJson.callbacks.analyticsCallback&&t&&i.default.initJson.callbacks.analyticsCallback(n)}catch(e){r.default.warn("Exception while sending analytics events",e)}}}]),e}();t.default=new u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.CLIENT_DEV_PATH="https://dev-client.messaging.adobe.com",this.CLIENT_DEVOPS_PATH="https://devops-client.messaging.adobe.com",this.CLIENT_QE_PATH="https://qe-client.messaging.adobe.com",this.CLIENT_STAGE_PATH="https://stage-client.messaging.adobe.com",this.CLIENT_INTEGRATION_PATH="https://integration-client.messaging.adobe.com",this.CLIENT_PROD_PATH="https://client.messaging.adobe.com",this.CLIENT_AUTHORING_PATH="https://authoring-client.messaging.adobe.com",this.DEFAULT_SERVER_URL="https://server.messaging.adobe.com",this.LOG_API_PATH="/core/v1/log",this.INIT_API_PATH="/core/v1/messaging/init",this.SET_POPUP_COOKIE_PATH="/core/v1/messaging/setPopUpCookie",this.MINIMIZE_POPUP_PATH="/core/v1/messaging/minimizePopup"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var i={INIT_SUCCESS_CALLBACK:"INIT_SUCCESS_CALLBACK",INIT_ERROR_CALLBACK:"INIT_ERROR_CALLBACK",SIGN_IN_CALLBACK:"SIGN_IN_CALLBACK",GET_CONTEXT_CALLBACK:"GET_CONTEXT_CALLBACK",TRIGGER_ON_READY_CALLBACKS:"TRIGGER_ON_READY_CALLBACKS",OPEN_URL_ACTION_CALLBACK:"OPEN_URL_ACTION_CALLBACK"},r=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sendMessageToHost=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{switch(e){case t.hostCallbacks.INIT_SUCCESS_CALLBACK:t.adbmsg_initSuccessCallback(n);break;case t.hostCallbacks.INIT_ERROR_CALLBACK:t.adbmsg_initErrorCallback(n);break;case t.hostCallbacks.SIGN_IN_CALLBACK:t.adbmsg_signCallback();break;case t.hostCallbacks.OPEN_URL_ACTION_CALLBACK:t.adbmsg_openURLActionCallback(n);break;case t.hostCallbacks.GET_CONTEXT_CALLBACK:return t.adbmsg_getContextCallback();case t.hostCallbacks.TRIGGER_ON_READY_CALLBACKS:for(var a=0;a<t.adbmsg_onReadyCallbacks.length;a++)t.adbmsg_onReadyCallbacks[a]()}}catch(e){}return null},this.initializeCallbacks=function(){t.adbmsg_initSuccessCallback=o.default.initJson.callbacks.initCallback||t.adbmsg_initSuccessCallback,t.adbmsg_initErrorCallback=o.default.initJson.callbacks.initErrorCallback||t.adbmsg_initErrorCallback,t.adbmsg_signCallback=o.default.initJson.callbacks.signInProvider||t.adbmsg_signCallback,t.adbmsg_getContextCallback=o.default.initJson.callbacks.getContextCallback||t.adbmsg_getContextCallback,t.adbmsg_onReadyCallbacks.push(o.default.initJson.callbacks.onReadyCallback||function(){}),t.adbmsg_openURLActionCallback=o.default.initJson.callbacks.openURLActionCallback||t.adbmsg_openURLActionCallback},this.registerForOnReadyCallback=function(e){e&&(o.default.isAdobeMessagingClientReady?e():t.adbmsg_onReadyCallbacks.push(e))},this.adbmsg_initSuccessCallback=function(){},this.adbmsg_initErrorCallback=function(){},this.adbmsg_signCallback=function(){},this.adbmsg_getContextCallback=function(){},this.adbmsg_openURLActionCallback=function(){},this.adbmsg_onReadyCallbacks=[]}return a(e,[{key:"hostCallbacks",get:function(){return i}}]),e}();t.default=new r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"createXMLHttp",value:function(){if(void 0!==("undefined"==typeof XMLHttpRequest?"undefined":a(XMLHttpRequest)))return new XMLHttpRequest;if(window.ActiveXObject)for(var e=["MSXML2.XMLHttp.5.0","MSXML2.XMLHttp.4.0","MSXML2.XMLHttp.3.0","MSXML2.XMLHttp","Microsoft.XMLHttp"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(e){}}},{key:"ajax",value:function(e,t,n){var a=this.createXMLHttp();for(var o in a.open(n.type,n.url,!0),n.headers)n.headers.hasOwnProperty(o)&&a.setRequestHeader(o,n.headers[o]);n.withCredentials&&(a.withCredentials=!0),i.default.initJson.accessToken&&""!==i.default.initJson.accessToken.trim()&&a.setRequestHeader("Authorization",i.default.initJson.accessToken),n.timeout?a.timeout=n.timeout:a.timeout=3e4,a.onload=function(){200===a.status?a.responseType&&""!==a.responseType?e&&e(a.response):e&&e(a.responseText):t&&t(a.status)},a.onerror=function(){t&&t(400)},a.ontimeout=function(){t&&t(408)},n.data?a.send(JSON.stringify(n.data)):a.send()}}]),e}();t.default=new r},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=d(n(0)),i=d(n(7)),r=d(n(2)),s=d(n(4)),l=d(n(12));function d(e){return e&&e.__esModule?e:{default:e}}var u={SIGNIN:"SIGNIN",SIGNOUT:"SIGNOUT",SET_CONTEXT:"SET_CONTEXT",HOST_DATA:"HOST_DATA",CUSTOMER_AUTH_DATA_RESPONSE:"CUSTOMER_AUTH_DATA_RESPONSE",UPDATE_ACCESS_TOKEN:"UPDATE_ACCESS_TOKEN",WINDOW_OPENED:"WINDOW_OPENED",WINDOW_MINIMIZED:"WINDOW_MINIMIZED",CLIENT_FOCUS_STATE:"CLIENT_FOCUS_STATE",UPDATE_USER_CONSENT:"UPDATE_USER_CONSENT",POP_OUT_STATE:"POP_OUT_STATE",START_SERVICE_CONNECTION:"START_SERVICE_CONNECTION",INITIAL_DATA:"INITIAL_DATA",REFRESH_MESSAGE_UI:"REFRESH_MESSAGE_UI",CHANGE_COOKIE_GUID:"CHANGE_COOKIE_GUID",UPDATE_UI_THEME:"UPDATE_UI_THEME"},c=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateUrlParameter=function(e,t,n){n||(n=window.location.href);var a,o=new RegExp("([?&])"+e+"=.*?(&|#|$)(.*)","gi");if(o.test(n))return void 0!==t&&null!==t?n.replace(o,"$1"+e+"="+t+"$2$3"):(n=(a=n.split("#"))[0].replace(o,"$1$3").replace(/(&|\?)$/,""),void 0!==a[1]&&null!==a[1]&&(n+="#"+a[1]),n);if(void 0!==t&&null!==t){var i=-1!==n.indexOf("?")?"&":"?";return n=(a=n.split("#"))[0]+i+e+"="+t,void 0!==a[1]&&null!==a[1]&&(n+="#"+a[1]),n}return n},this.addDataToObj=function(e,t,n){for(var a=e,o=t.split("."),i=o.length,r=0;r<i-1;r++){var s=o[r];a[s]||(a[s]={}),a=a[s]}a[o[i-1]]=n},this.receiveMessage=function(e){try{var n=e.origin||e.originalEvent.origin,a=o.default.getMessagingUIURL(o.default.mnmMode),d="";if(a.startsWith("https://")||a.startsWith("http://")){var u=a.split("/");d=u[0]+"//"+u[2]}if(d!==n)return void r.default.log("Ignoring message received as event origin : ",n," and expected origin: ",a," do not match");var c=e.data;try{if(0===!c.msgType.indexOf("adbmsg_"))return void r.default.log("Received data in post message that do not start with valid prefix, therefore ignoring")}catch(e){return void r.default.log("Exception in processing post Message received: ",e)}if(o.default.mnmMode)return void t.readZeonMessage(c);switch(c.msgType){case"adbmsg_POPOUT":s.default.handlePopOut();break;case"adbmsg_POPIN":s.default.handlePopIn();break;case"adbmsg_SIGNIN":var p=c.message,f=encodeURIComponent(JSON.stringify(p));window.adobeid&&window.adobeid.api_parameters&&window.adobeid.api_parameters.authorize&&window.adobeid.api_parameters.authorize.redirect_uri?t.addDataToObj(window,"adobeid.api_parameters.authorize.redirect_uri",t.updateUrlParameter("jarvisData",f,window.adobeid.api_parameters.authorize.redirect_uri)):window.adobeid&&window.adobeid.redirect_uri?t.addDataToObj(window,"adobeid.api_parameters.authorize.redirect_uri",t.updateUrlParameter("jarvisData",f,window.adobeid.redirect_uri)):t.addDataToObj(window,"adobeid.api_parameters.authorize.redirect_uri",t.updateUrlParameter("jarvisData",f,window.location.href)),i.default.sendMessageToHost(i.default.hostCallbacks.SIGN_IN_CALLBACK);break;case"adbmsg_MNM_SWITCH":o.default.mnmMode=!0;var g=c.message;o.default.zeonData=g,o.default.zeonData.imsUserProfile=JSON.parse(o.default.zeonData.imsUserProfile),o.default.zeonData.imsAccessToken=o.default.initJson.accessToken,s.default.renderZeonElement();break;case"adbmsg_NEW_MESSAGE":s.default.showConversationMarker(!0);break;case"adbmsg_LOAD_COMPLETE":r.default.log("Client message received: LOAD_COMPLETE or CONV_LOAD_COMPLETE"),t.handledLoadComplete=!0,t.sendMessageToMessagingUI(t.uiMessagesEnum.INITIAL_DATA,s.default.getMessageUIInitPayload());break;case"adbmsg_OPEN_URL_BY_HOST":r.default.log("Client message received: OPEN_URL_BY_HOST"),i.default.sendMessageToHost(i.default.hostCallbacks.OPEN_URL_ACTION_CALLBACK,c.message);break;case"adbmsg_INITIAL_DATA_HANDLED":r.default.log("Client message received: INITIAL_DATA_HANDLED"),s.default.removeSpinner(),t.initialServerPoliciesApplied?o.default.initJson.lazyLoad?(l.default.info("Going to create session because of lazy load functionality for appid: ",o.default.initJson.appid," and client id: ",o.default.initJson.clientId),o.default.initJson.lazyLoad=!1,s.default.adbmsgCta.style.display="none",s.default.adbmsgContentContainer.style.display="block",t.sendMessageToMessagingUI(t.uiMessagesEnum.START_SERVICE_CONNECTION)):l.default.error("Received invalid initial data handled for appid: ",o.default.initJson.appid," and client id: ",o.default.initJson.clientId):s.default.applyInitialServerPolicies();break;case"adbmsg_CONV_CLOSED":o.default.conversationActive=!1,o.default.leConversationId="",o.default.skillName="",s.default.showConversationMarker(!1),o.default.initJson.callbacks.chatStateCallback&&o.default.initJson.callbacks.chatStateCallback(c.message);break;case"adbmsg_MINIMIZE_WINDOW":s.default.handleMinimizeMessagingWindow();break;case"adbmsg_CLOSE_WINDOW":s.default.handleDragWidth("INCREASE"),s.default.handleCloseMessagingWindow(!0);break;case"adbmsg_SEND_ANALYTICS_TO_HOST":o.default.initJson.callbacks.analyticsCallback&&o.default.initJson.callbacks.analyticsCallback(c.message);break;case"adbmsg_CONVERSATION_ID":o.default.leConversationId=c.message;break;case"adbmsg_CLIENT_SESSION_ID":o.default.clientSessionId=c.message;break;case"adbmsg_CHAT_STATE":c&&c.message&&"open"===c.message.chatState&&(o.default.conversationActive=!0,s.default.handleDragWidth("DECREASE")),o.default.initJson.callbacks.chatStateCallback&&o.default.initJson.callbacks.chatStateCallback(c.message);break;case"adbmsg_OPEN_WINDOW_WS":s.default.handleWSCreationForClientWindow();break;case"adbmsg_HANDLE_DRAG_WIDTH":s.default.handleDragWidth(c.message);break;case"adbmsg_SKILL_NAME":o.default.skillName=c.message;break;case"adbmsg_ACCESS_TOKEN_FAILURE":o.default.initJson.appType&&"desktop"===o.default.initJson.appType.toLowerCase()&&i.default.sendMessageToHost(i.default.hostCallbacks.INIT_ERROR_CALLBACK,401)}}catch(e){r.default.error(e)}},this.readZeonMessage=function(e){try{switch(e.msgType){case"adbmsg_INITIAL_DATA_HANDLED":r.default.log("Zeon message received: INITIAL_DATA_HANDLED");break;case"adbmsg_CUSTOMER_AUTH_DATA_REQUEST":t.sendMessageToZeon(t.uiMessagesEnum.INITIAL_DATA,o.default.zeonData);break;case"adbmsg_CONV_STARTED":r.default.log("Zeon message received: CONV_STARTED"),o.default.conversationActive=!0;break;case"adbmsg_CONV_CLOSED":o.default.mnmMode=!1,o.default.conversationActive=!1,s.default.closeZeon();break;case"adbmsg_NEW_MESSAGE":s.default.showConversationMarker(!0);break;case"adbmsg_MINIMIZE_WINDOW":s.default.handleMinimizeMessagingWindow(!1,!0);break;case"adbmsg_ZEON_ERROR":o.default.mnmMode=!1,o.default.conversationActive=!1,s.default.closeZeon()}}catch(e){r.default.error(e)}},this.sendMessageToMessagingUI=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t.handledLoadComplete){var i=o.default.getMessagingUIURL(),l="adbmsgui_"+e;try{document.getElementsByClassName("adbmsgContentIframe")[0].contentWindow.postMessage({msgType:l,message:n},i),a&&s.default.poppedWindow&&s.default.poppedWindow.postMessage({msgType:l,message:n},i)}catch(e){r.default.log(e)}}else r.default.warn("Not sending message to msgUI as it is currently not loaded")},this.sendMessageToZeon=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=o.default.getMessagingUIURL(!0),a="adbmsgui_"+e;try{document.getElementsByClassName("adbmsgContentIframeMnm")[0].contentWindow.postMessage({msgType:a,message:t},n)}catch(e){r.default.log(e)}},this.startListening=function(){window.addEventListener("message",t.receiveMessage,!1)},this.stopListening=function(){},this.setInitialServerPoliciesApplied=function(e){t.initialServerPoliciesApplied=e},this.getInitialServerPoliciesApplied=function(){return t.initialServerPoliciesApplied},this.getLoadCompleteState=function(){return t.handledLoadComplete},this.setLoadCompletedState=function(e){t.handledLoadComplete=e},this.handledLoadComplete=!1,this.initialServerPoliciesApplied=!1}return a(e,[{key:"uiMessagesEnum",get:function(){return u}}]),e}();t.default=new c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=l(n(8)),r=l(n(0)),s=l(n(6));function l(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.publishToServer=function(e,n){var a={type:"post",url:r.default.initConfig.serverUrl?r.default.initConfig.serverUrl+s.default.LOG_API_PATH:s.default.DEFAULT_SERVER_URL+s.default.LOG_API_PATH,headers:{"Content-Type":"application/json","x-api-key":r.default.initJson.clientId}};a.data=t.getLog(e,n),i.default.ajax(null,null,a)},this.getLog=function(e,t){return{time:(new Date).getTime(),level:e,serverSessionGuid:r.default.serverSessionGuid,conversationId:r.default.conversationId,message:t}},this.maskKeys=["message","accessToken"]}return o(e,[{key:"processLog",value:function(e,t){try{var n=t.map(function(e){return JSON.stringify(e)}).join(" ");this.publishToServer(e,n)}catch(e){}}},{key:"log",value:function(){var e=Array.prototype.slice.call(arguments);this.processLog("INFO",e)}},{key:"info",value:function(){var e=Array.prototype.slice.call(arguments);this.processLog("INFO",e)}},{key:"debug",value:function(){var e=Array.prototype.slice.call(arguments);this.processLog("DEBUG",e)}},{key:"warn",value:function(){var e=Array.prototype.slice.call(arguments);this.processLog("WARN",e)}},{key:"error",value:function(){var e=Array.prototype.slice.call(arguments);this.processLog("ERROR",e)}},{key:"maskValues",value:function(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)t.push(this.maskValues(e[n]));return t}if("object"===(void 0===e?"undefined":a(e)))for(var o in e)if(e.hasOwnProperty(o))if("string"==typeof e[o]||"number"==typeof e[o]||"boolean"==typeof e[o])for(var i=0;i<this.maskKeys.length;i++){o===this.maskKeys[i]&&(e[o]="~masked~")}else e[o]=this.maskValues(e[o]);return e}},{key:"mask",value:function(e){try{var t=JSON.parse(JSON.stringify(e));return this.maskValues(t)}catch(e){return"Mask error on UI"}}}]),e}();t.default=new d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(0)),o=u(n(2)),i=u(n(8)),r=u(n(34)),s=u(n(1)),l=u(n(3)),d=u(n(6));function u(e){return e&&e.__esModule?e:{default:e}}t.default=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addEngagementPopUpToDOM=function(e,n,a,o){if(n){"jarvis"===n.theme?t.adbmsgEngagementPopUpContainer=l.default.createElement("div","adbmsgEngagementPopUpContainer,adbmsgEngagementPopUpContainerJarvisTheme,outwardAnimate",null):t.adbmsgEngagementPopUpContainer=l.default.createElement("div","adbmsgEngagementPopUpContainer,adbmsgEngagementPopUpContainerBackground,outwardAnimate",t.adbmsgEngagementPopUpContainer),a?o.insertBefore(t.adbmsgEngagementPopUpContainer,a):o.appendChild(t.adbmsgEngagementPopUpContainer);var i=e.uiPolicy.yOffset;!isNaN(i)&&i>0?t.adbmsgEngagementPopUpContainer.style.bottom=i+60+52+"px":t.adbmsgEngagementPopUpContainer.style.bottom="152px",r.default.addPopUpToDOM(n,t.adbmsgEngagementPopUpContainer)}},this.showPopUp=function(){t.adbmsgEngagementPopUpContainer&&!a.default.isAdobeMessagingClientLoadStarted&&(window.innerWidth<=414?t.adbmsgEngagementPopUpContainerHiddenForMobileWidth=!0:t.adbmsgEngagementPopUpContainer.style.display="block")},this.hideEngagementPopUp=function(){t.adbmsgEngagementPopUpContainer&&(t.adbmsgEngagementPopUpContainer.style.display="none"),t.adbmsgEngagementPopUpContainerHiddenForMobileWidth=!1},this.removeEngagementPopUp=function(){t.adbmsgEngagementPopUpContainer&&(t.adbmsgEngagementPopUpContainer.parentNode.removeChild(t.adbmsgEngagementPopUpContainer),t.adbmsgEngagementPopUpContainer=void 0)},this.handleResizeDimension=function(){window.innerWidth<=414?t.adbmsgEngagementPopUpContainer&&!s.default.isHidden(t.adbmsgEngagementPopUpContainer)&&(t.hideEngagementPopUp(),t.adbmsgEngagementPopUpContainerHiddenForMobileWidth=!0):t.adbmsgEngagementPopUpContainerHiddenForMobileWidth&&(t.showPopUp(),t.adbmsgEngagementPopUpContainerHiddenForMobileWidth=!1)},this.setCookieByServerForPopUpClicked=function(e){var t=i.default.createXMLHttp();t.open("post",a.default.initConfig.serverUrl+d.default.SET_POPUP_COOKIE_PATH,!0),t.setRequestHeader("Content-Type","application/json"),a.default.initJson.accessToken&&""!==a.default.initJson.accessToken.trim()&&t.setRequestHeader("Authorization",a.default.initJson.accessToken),t.setRequestHeader("x-api-key",a.default.initJson.clientId),t.withCredentials=!0,t.timeout=3e4,t.onload=function(){t.status>=200&&t.status<400?o.default.info("The call to server to set the cookie for pop up option selected succeeded"):o.default.info("The call to server to set the cookie for pop up option selected failed")},t.onerror=function(){o.default.info("The call to server to set the cookie for pop up option selected failed")},t.ontimeout=function(){o.default.info("The call to server to set the cookie for pop up option selected timed out")},t.send(e)},this.adbmsgEngagementPopUpContainer=void 0,this.adbmsgEngagementPopUpContainerHiddenForMobileWidth=!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.openLinkDirectly=function(e,t){t?window.open(e,t):window.open(e,"_blank")}}},function(e,t){},function(e,t,n){"use strict";var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(a){var o=new Uint8Array(16);e.exports=function(){return a(o),o}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t,n){"use strict";for(var a=[],o=0;o<256;++o)a[o]=(o+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,o=a;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=d(n(0)),o=d(n(7)),i=d(n(2)),r=d(n(5)),s=d(n(33)),l=d(n(1));function d(e){return e&&e.__esModule?e:{default:e}}t.default=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addSalesPopUpToDOM=function(e,n,a){if(s.default.init(e),s.default.validate()){t.adbmsgSalesPopUpContainer=document.createElement("div"),t.adbmsgSalesPopUpContainer.classList.add("adbmsgSalesPopUpContainer"),n?a.insertBefore(t.adbmsgSalesPopUpContainer,n):a.appendChild(t.adbmsgSalesPopUpContainer);var o=e.uiPolicy.yOffset;!isNaN(o)&&o>0?t.adbmsgSalesPopUpContainer.style.bottom=o+60+52+"px":t.adbmsgSalesPopUpContainer.style.bottom="152px",s.default.addToDom(t.adbmsgSalesPopUpContainer)}},this.handleShowPopUp=function(){var e=o.default.sendMessageToHost(o.default.hostCallbacks.GET_CONTEXT_CALLBACK);e&&e.companyName&&(a.default.updateInitContext(e),s.default.recreateDom(t.adbmsgSalesPopUpContainer))},this.showSalesPopUp=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s.default.validate()?t.adbmsgSalesPopUpContainer&&!a.default.isAdobeMessagingClientLoadStarted&&(e&&t.handleShowPopUp(),window.innerWidth<=414?t.adbmsgSalesPopUpContainerHiddenForMobileWidth=!0:(t.sentPopUpRenderAnalytics||(t.sentPopUpRenderAnalytics=!0,r.default.sendEvent({"event.workflow":"init","event.subcategory":"launch","event.type":"render","event.subtype":"pop-up","content.name":"button"})),t.adbmsgSalesPopUpContainer.style.display="block")):i.default.log("Pop up validation failed, not showing pop up.")},this.hideSalesPopUp=function(){t.adbmsgSalesPopUpContainer&&(t.adbmsgSalesPopUpContainer.style.display="none"),t.adbmsgSalesPopUpContainerHiddenForMobileWidth=!1},this.removeSalesPopUp=function(){t.adbmsgSalesPopUpContainer&&(t.adbmsgSalesPopUpContainer.parentNode.removeChild(t.adbmsgSalesPopUpContainer),t.adbmsgSalesPopUpContainer=void 0)},this.handleResizeDimension=function(){window.innerWidth<=414?t.adbmsgSalesPopUpContainer&&!l.default.isHidden(t.adbmsgSalesPopUpContainer)&&(t.hideSalesPopUp(),t.adbmsgSalesPopUpContainerHiddenForMobileWidth=!0):t.adbmsgSalesPopUpContainerHiddenForMobileWidth&&(t.showSalesPopUp(),t.adbmsgSalesPopUpContainerHiddenForMobileWidth=!1)},this.adbmsgSalesPopUpContainer=void 0,this.adbmsgSalesPopUpContainerHiddenForMobileWidth=!1,this.sentPopUpRenderAnalytics=!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(0)),o=s(n(6)),i=s(n(2)),r=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}t.default=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.minimizePopupClicked=function(e){var t=r.default.createXMLHttp(),n=a.default.initConfig.serverUrl;t.open("post",n+o.default.MINIMIZE_POPUP_PATH,!0),t.setRequestHeader("Content-Type","application/json"),a.default.initJson.accessToken&&""!==a.default.initJson.accessToken.trim()&&t.setRequestHeader("Authorization",a.default.initJson.accessToken),t.setRequestHeader("x-api-key",a.default.initJson.appid),t.withCredentials=!0,t.timeout=3e4,t.onload=function(){t.status>=200&&t.status<400?i.default.info("The call to server to minimize the popup succeeded"):i.default.info("The call to server to minimize the popup failed")},t.onerror=function(){i.default.info("The call to server to minimize the popup failed")},t.ontimeout=function(){i.default.info("The call to server to minimize the popup timed out")},t.send(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(0)),o=s(n(37)),i=s(n(1)),r=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}t.default=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addTutorialPopUpToDOM=function(e,n,a,i){n&&(t.adbmsgTutorialPopUpContainer=r.default.createElement("div","adbmsgTutorialPopUpContainer,outwardAnimate",null),a?i.insertBefore(t.adbmsgTutorialPopUpContainer,a):i.appendChild(t.adbmsgTutorialPopUpContainer),o.default.addPopUpToDOM(n,t.adbmsgTutorialPopUpContainer))},this.showPopUp=function(){t.adbmsgTutorialPopUpContainer&&!a.default.isAdobeMessagingClientLoadStarted&&(window.innerWidth<=414?t.adbmsgTutorialPopUpContainerHiddenForMobileWidth=!0:t.adbmsgTutorialPopUpContainer.style.display="block")},this.hideTutorialPopUp=function(){t.adbmsgTutorialPopUpContainer&&(t.adbmsgTutorialPopUpContainer.style.display="none"),t.adbmsgTutorialPopUpContainerHiddenForMobileWidth=!1},this.removeTutorialPopUp=function(){t.adbmsgTutorialPopUpContainer&&(t.adbmsgTutorialPopUpContainer.parentNode.removeChild(t.adbmsgTutorialPopUpContainer),t.adbmsgTutorialPopUpContainer=void 0)},this.handleResizeDimension=function(){window.innerWidth<=414?t.adbmsgTutorialPopUpContainer&&!i.default.isHidden(t.adbmsgTutorialPopUpContainer)&&(t.hideTutorialPopUp(),t.adbmsgTutorialPopUpContainerHiddenForMobileWidth=!0):t.adbmsgTutorialPopUpContainerHiddenForMobileWidth&&(t.showPopUp(),t.adbmsgTutorialPopUpContainerHiddenForMobileWidth=!1)},this.adbmsgTutorialPopUpContainer=void 0,this.adbmsgTutorialPopUpContainerHiddenForMobileWidth=!1}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var i=function(){function t(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.instance)return this.instance;this.instance=this,this.isMinimize=!1,this.localStorage=this.getLocalStorage(),void 0!=o.default&&(this.userId=this.getUserGuid())}return a(t,[{key:"getLocalStorage",value:function(){if(this.localStorage)return this.localStorage;try{if(window&&window.localStorage){return window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),window.localStorage}}catch(e){return!1}return!1}},{key:"getUserGuid",value:function(){if(this.userId)return this.userId;if(o.default.initJson.accessToken){var t=o.default.initJson.accessToken.split("."),n=void 0;if(t&&t.length>2)try{return(n=JSON.parse(new e(t[1],"base64").toString("utf8")))&&n.user_id}catch(e){return""}}return""}},{key:"getMinimizeKeyName",value:function(){return this.userId=this.getUserGuid(),this.userId?this.userId+"isMinimize":"isMinimize"}},{key:"setMinimize",value:function(){this.isMinimize=!0,this.localStorage=this.getLocalStorage(),this.localStorage&&this.localStorage.setItem(this.getMinimizeKeyName(),"true")}},{key:"setMaximize",value:function(){this.isMinimize=!1,this.localStorage=this.getLocalStorage(),this.localStorage&&this.localStorage.setItem(this.getMinimizeKeyName(),"false")}},{key:"getPreferences",value:function(){if(this.localStorage=this.getLocalStorage(),this.localStorage){var e=this.localStorage.getItem(this.getMinimizeKeyName());e&&(this.isMinimize=JSON.parse(e))}return{isMinimize:this.isMinimize}}}]),t}();t.default=new i}).call(t,n(38).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(n(0));var a=r(n(43)),o=(r(n(2)),r(n(1))),i=r(n(3));function r(e){return e&&e.__esModule?e:{default:e}}t.default=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addPopUpToDOM=function(e,n,o,r){n&&(t.adbmsgAuthoredBotPopUpContainer=i.default.createElement("div","adbmsgAuthoredBotPopUpContainer,outwardAnimate",null),o?r.insertBefore(t.adbmsgAuthoredBotPopUpContainer,o):r.appendChild(t.adbmsgAuthoredBotPopUpContainer),a.default.addPopUpToDOM(n,t.adbmsgAuthoredBotPopUpContainer))},this.showPopUp=function(){a.default.showPopUp(t.adbmsgAuthoredBotPopUpContainer)},this.hidePopUp=function(){t.adbmsgAuthoredBotPopUpContainer&&(t.adbmsgAuthoredBotPopUpContainer.style.display="none"),t.adbmsgAuthoredBotPopUpContainerHiddenForMobileWidth=!1},this.removePopUp=function(){t.adbmsgAuthoredBotPopUpContainer&&(t.adbmsgAuthoredBotPopUpContainer.parentNode.removeChild(t.adbmsgAuthoredBotPopUpContainer),t.adbmsgAuthoredBotPopUpContainer=void 0)},this.handleResizeDimension=function(){window.innerWidth<=414?t.adbmsgAuthoredBotPopUpContainer&&!o.default.isHidden(t.adbmsgAuthoredBotPopUpContainer)&&(t.hidePopUp(),t.adbmsgAuthoredBotPopUpContainerHiddenForMobileWidth=!0):t.adbmsgAuthoredBotPopUpContainerHiddenForMobileWidth&&(t.showPopUp(),t.adbmsgAuthoredBotPopUpContainerHiddenForMobileWidth=!1)},this.adbmsgAuthoredBotPopUpContainer=void 0,this.adbmsgAuthoredBotPopUpContainerHiddenForMobileWidth=!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=m(n(0)),r=m(n(4)),s=m(n(11)),l=m(n(7)),d=m(n(1)),u=m(n(2)),c=m(n(5)),p=m(n(47)),f=m(n(8)),g=m(n(12)),h=m(n(6));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleInitSuccess=function(e){try{u.default.log("got successful response from server for init call: ",e);var t=JSON.parse(e),n={};n.releaseControl=a({},t.releaseControl),i.default.serverInitResponse.setShowAdobeMessaging(n.releaseControl.showAdobeMessaging),l.default.sendMessageToHost(l.default.hostCallbacks.INIT_SUCCESS_CALLBACK,n),t.releaseControl.showAdobeMessaging?r.default.renderJarvisElement(t):r.default.removeJarvisElement(),i.default.reinitializePhase=!1,t.analyticsInfo&&(i.default.analyticsInfo=t.analyticsInfo),c.default.sendEvent({"event.workflow":"init","event.type":"response","event.subtype":"success"},!1)}catch(t){u.default.error("exception in handling init call response with response text: ",e,"and exception: ",t," and stack trace: ",t.stack),g.default.error("exception in handling init call response with response text: ",e,"and exception: ",t," and stack trace: ",t.stack)}},this.handleInitError=function(e){i.default.reinitializePhase=!1,r.default.removeJarvisElement(),l.default.sendMessageToHost(l.default.hostCallbacks.INIT_ERROR_CALLBACK,e),c.default.sendEvent({"event.workflow":"init","event.type":"response","event.subtype":"error","event.error_code":e},!1)},this.makeInitCallToServer=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.getContextForServerInitCall(e);u.default.log("Sending context object to server : "+JSON.stringify(n));var a={type:"post",url:i.default.initConfig.serverUrl+h.default.INIT_API_PATH,headers:{"Content-Type":"application/json","x-api-key":i.default.initJson.clientId,Accept:"application/json"},withCredentials:!0};a.data=n,a.timeout=12e4,f.default.ajax(t.handleInitSuccess,t.handleInitError,a)},this.initializeServer=function(e){e=JSON.parse(e),"local"===i.default.env&&(e=p.default),i.default.setInitConfig(e),s.default.startListening(),t.makeInitCallToServer()},this._getCookies=function(){},this.initialize=function(e){try{if(i.default.initStarted)u.default.log("Messaging already initialized");else{n(48);i.default.initStarted=!0,e.msgdebug=!(!e.msgdebug&&"true"!==t.getQueryStringValue("msgdebug")),e.theme=t.getQueryStringValue("jarvisUITheme")||e.theme;var a=e.analyticsServerEnv||t.getQueryStringValue("analyticsServerEnv");if(a&&(e.analyticsServerEnv=a),!e.accessToken){var o=t.getQueryStringValue("jarvisUserId");o&&(e.accessToken="Fake "+o)}i.default.handleInitData(e),l.default.initializeCallbacks(),u.default.log("Messaging Client version: "+i.default.getAppVersion()),c.default.initialize("messaging-web-service",i.default.env,"dunamis");var r={type:"get",url:d.default.getJarvisClientRootUrlByEnv()+"/initConfig.json",headers:{"Content-Type":"application/json"},withCredentials:!1};f.default.ajax(t.initializeServer,t.handleInitError,r),c.default.sendEvent({"event.workflow":"init","event.type":"request"},!1)}}catch(e){u.default.error(e)}},this.updateUITheme=function(e){var t=["light","darkest"];if(e&&t.includes(e)){if(r.default.setThemeCSS(e))return i.default.updateUITheme(e),s.default.sendMessageToMessagingUI(s.default.uiMessagesEnum.UPDATE_UI_THEME,e),!0;u.default.error("adbmsgCtaElem or adbmsgCtaElem classList not found")}else e?u.default.error("Theme provided is not from allowed theme "+t):u.default.error("Theme provided is null");return!1},this.updateAccessToken=function(e){u.default.log("Received updated access token from surface for appid: ",i.default.initJson.appid,"and client id: ",i.default.initJson.clientId),i.default.updateAccessToken(e),s.default.sendMessageToMessagingUI(s.default.uiMessagesEnum.UPDATE_ACCESS_TOKEN,e),i.default.isAdobeMessagingClientLoadStarted||i.default.initConfig&&i.default.initConfig.hasOwnProperty("callAfterUpdateAccessToken")&&"false"!==i.default.initConfig.callAfterUpdateAccessToken.toString().toLowerCase()&&(u.default.log("Session not started for user and therefore re-making init call"),l.default.sendMessageToHost(l.default.hostCallbacks.INIT_ERROR_CALLBACK,500),g.default.info("Going to make init call after update access token for client id: ",i.default.initJson.clientId," with url: ",location.href),t.makeInitCallToServer(!0))},this.reinitialize=function(e){u.default.log("Received reinitialize from surface for appid: ",i.default.initJson.appid,"and client id: ",i.default.initJson.clientId," with data: ",e),g.default.log("Received reinitialize from surface for appid: ",i.default.initJson.appid,"and client id: ",i.default.initJson.clientId," with data: ",g.default.mask(e)),e&&!i.default.isAdobeMessagingClientLoadStarted&&(i.default.reinitializePhase=!0,i.default.updateInitContext(e),t.makeInitCallToServer(!1))},this.updateSurfaceFeatures=function(e){Array.isArray(e)&&(i.default.initJson.surfaceFeatures=e)},this.openMessagingWindow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;i.default.isAdobeMessagingClientReady?setTimeout(function(){g.default.info("Received openMessagingWindow call from surface for appid: ",i.default.initJson.appid," and client id: ",i.default.initJson.clientId," with url: ",location.href),i.default.mnmMode?(g.default.log("MnM mode enabled, Opening Zeon Window"),r.default.handleOpenZeonWindow()):(g.default.log("Opening Jarvis Window"),r.default.handleOpenMessagingWindow(e))},500):(g.default.warn("Ignoring openMessagingWindow call from surface as Messaging is not ready."),u.default.warn("Ignoring openMessagingWindow call from surface as Messaging is not ready."))},this.closeMessageWindow=function(){i.default.isAdobeMessagingClientReady?r.default.handleCloseMessagingWindow():u.default.warn("Ignoring closeMessageWindow call from surface as Messaging is not ready.")},this.isConversationOpen=function(){return i.default.conversationActive},this.updateUserConsent=function(e){e.hasOwnProperty("cookiesEnabled")&&("true"===e.cookiesEnabled.toString().toLowerCase()?i.default.initJson.cookiesEnabled=!0:i.default.initJson.cookiesEnabled=!1,s.default.sendMessageToMessagingUI(s.default.uiMessagesEnum.UPDATE_USER_CONSENT,e))},this.applyExperienceOverride=function(e){r.default.applyHostOverrides(e)},this.registerForOnReadyCallback=function(e){l.default.registerForOnReadyCallback(e)},this.isAdobeMessagingClientInitialized=function(){return!!i.default.isAdobeMessagingClientReady},this.isAdobeMessagingClientEnabled=function(){return!!i.default.serverInitResponse&&i.default.serverInitResponse.releaseControl.showAdobeMessaging},this.handleSignIn=function(e){s.default.sendMessageToMessagingUI(s.default.uiMessagesEnum.SIGNIN,e)},this.handleSignOut=function(){s.default.sendMessageToMessagingUI(s.default.uiMessagesEnum.SIGNOUT)},this.getMessagingExperienceState=function(){return r.default.getMessagingExperienceState()}}return o(e,[{key:"getQueryStringValue",value:function(e){return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}},{key:"getContextForServerInitCall",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a({},i.default.initJson);return t.clientVersion=d.default.getClientVersion(),t.viaUpdateAccessTokenPath=e,t}},{key:"sendHostData",value:function(e){var t=!0;for(var n in e)if(e.hasOwnProperty(n)){t=!1;break}void 0!=e&&null!=e&&!1===t?s.default.sendMessageToMessagingUI(s.default.uiMessagesEnum.HOST_DATA,e):u.default.log("HostData is null")}}]),e}();t.default=v,e.exports=v,window.AdobeMessagingExperienceClient?u.default.error("Object AdobeMessagingExperienceClient already exists with url: ",location.href):window.AdobeMessagingExperienceClient=new v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appid,this.appver,this.appType="web",this.componentid,this.componentver,this.env="prod",this.surfaceFeatures=[],this.language,this.region,this.clientId="",this.accessToken,this.fontRequired=!1,this.cookiesEnabled=!1,this.theme="light",this.userRole="",this.cookies={},this.context={orgId:"",userData:{},companyName:"",greetContext:""},this.otherContext={},this.callbacks={signInProvider:null,initCallback:null,initErrorCallback:null,getContextCallback:null,onReadyCallback:null,analyticsCallback:null,chatStateCallback:null,badgeStateCallback:null,openURLActionCallback:null},this.userAgent,this.url,this.msgdebug=!1,this.lazyLoad=!1}return a(e,[{key:"validateAndModifyContext",value:function(e){void 0!=e&&null!=e&&(this.appid=e.appid||this.appid,this.appver=e.appver||this.appver,this.clientId=e.clientId||this.clientId,this.accessToken=e.accessToken||this.accessToken,this.cookiesEnabled=e.cookiesEnabled||this.cookiesEnabled,this.componentid=e.componentid||this.componentid,this.componentver=e.componentver||this.componentver,this.language=e.language||this.language,this.region=e.region||this.region,e.greetContext&&(this.context.greetContext=e.greetContext),e.userRole&&(this.userRole=e.userRole),e.companyName&&(this.context.companyName=e.companyName||this.context.companyName),e.hasOwnProperty("surfaceFeatures")&&Array.isArray(e.surfaceFeatures)&&(this.surfaceFeatures=e.surfaceFeatures),e.orgId&&(this.context.orgId=e.orgId))}},{key:"validateAndInitContext",value:function(e){if(!(e.appid&&e.appver&&e.language&&e.region&&e.clientId))throw"Missing context params";if(this.appid=e.appid,this.appver=e.appver,this.appType=e.appType||this.appType,this.componentid=e.componentid||this.appid,this.componentver=e.componentver||this.appver,this.env=e.env||this.env,this.language=e.language,this.region=e.region,this.clientId=e.clientId,this.hostContext=e.hostContext,this.hostId=e.hostId,this.accessToken=e.accessToken||"",this.accessToken&&0===!this.accessToken.toLowerCase().indexOf("bearer"))throw"Bearer accesstoken required";e.fontRequired&&(this.fontRequired=e.fontRequired),this.cookiesEnabled=e.cookiesEnabled||this.cookiesEnabled,this.cookies=e.cookies||{},this.theme=e.theme||this.theme,this.otherContext=e.otherContext||this.otherContext,e.context&&(this.context.orgId=e.context.orgId||"",this.context.userData=e.context.userData||{},this.context.companyName=e.context.companyName||""),e.callbacks&&(this.callbacks.signInProvider=e.callbacks.signInProvider,this.callbacks.initCallback=e.callbacks.initCallback,this.callbacks.initErrorCallback=e.callbacks.initErrorCallback,this.callbacks.onReadyCallback=e.callbacks.onReadyCallback,this.callbacks.getContextCallback=e.callbacks.getContextCallback,this.callbacks.analyticsCallback=e.callbacks.analyticsCallback,this.callbacks.chatStateCallback=e.callbacks.chatStateCallback,this.callbacks.badgeStateCallback=e.callbacks.badgeStateCallback,this.callbacks.openURLActionCallback=e.callbacks.openURLActionCallback),e.msgdebug&&(this.msgdebug=e.msgdebug),e.analyticsServerEnv&&(this.analyticsServerEnv=e.analyticsServerEnv),this.url=window.location.href,this.userAgent=navigator.userAgent,e.userRole&&(this.userRole=e.userRole),e.hasOwnProperty("lazyLoad")&&(this.lazyLoad="true"===e.lazyLoad.toString().toLowerCase()),e.hasOwnProperty("surfaceFeatures")&&Array.isArray(e.surfaceFeatures)&&(this.surfaceFeatures=e.surfaceFeatures)}},{key:"updateAccessToken",value:function(e){this.accessToken=e}},{key:"updateUITheme",value:function(e){this.theme=e}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=l(n(26)),r=l(n(27)),s=l(n(28));function l(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setShowAdobeMessaging=function(e){t.releaseControl.showAdobeMessaging=e},this.customerType="consumer",this.isAgentAvailable=!0,this.fallbackLocale="en_US",this.uiFallbackLocale="en_US",this.agentFallbackLocale="en_US",this.enterpriseTeamLocale="",this.cookieGuid="",this.messagingState={windowState:"docked",conversationExists:!1},this.localizedData={},this.uiPolicy={loadDelay:0,showCTA:!0,openMessagingWindow:!0,ctaStyleOverride:null,wndStyleOverride:null,ctaFadeInDelay:0,ctaFadeOutDelay:0,ctaTransparency:0,showButtonAfterClose:!0,showDotAfterClose:!0,popOutEnabled:!0,soundEnabled:!0,wndType:"full"},this.releaseControl={showLegacy:!1,showAdobeMessaging:!1,adobeMessagingClientURL:"",zeonURL:"",floodgateData:{}},this.showPopUp=!1,this.popUpLoadDelay=0,this.ipAddress="",this.engagementPopUpModel=null,this.viaUpdateAccessTokenPath=!1,this.ctaToolTipDelay=2e3}return o(e,[{key:"setResponse",value:function(e){this.customerType=e.customerType||this.customerType,this.isAgentAvailable=e.isAgentAvailable||this.isAgentAvailable,this.fallbackLocale=e.fallbackLocale||this.fallbackLocale,this.uiFallbackLocale=e.uiFallbackLocale||this.uiFallbackLocale,this.cookieGuid=e.cookieGuid||this.cookieGuid,this.ipAddress=e.ipAddress||this.ipAddress,e.agentFallbackLocale&&void 0!=e.agentFallbackLocale?this.agentFallbackLocale=e.agentFallbackLocale||this.agentFallbackLocale:this.agentFallbackLocale=this.fallbackLocale,this.messagingState=a({},this.messagingState,e.messagingState),this.localizedData=a({},this.localizedData,e.localizedData),this.uiPolicy=a({},this.uiPolicy,e.uiPolicy),this.releaseControl=a({},this.releaseControl,e.releaseControl),this.showPopUp=e.showPopUp||this.showPopUp,this.ctaToolTipDelay=parseInt(e.ctaToolTipDelay,10)||this.ctaToolTipDelay,this.popUpLoadDelay=e.popUpLoadDelay||this.popUpLoadDelay,e.enterpriseTeamLocale&&(this.enterpriseTeamLocale=e.enterpriseTeamLocale),e.engagementPopUp?this.engagementPopUpModel=new i.default(e.engagementPopUp):this.engagementPopUpModel=null,this.tutorialPopUpModel=e.tutorialPopUp?new r.default(e.tutorialPopUp):null,this.authoredBotPopupModel=e.genericbotpopup?new s.default(e.genericbotpopup):null,e.hasOwnProperty("viaUpdateAccessTokenPath")&&(this.viaUpdateAccessTokenPath=e.viaUpdateAccessTokenPath)}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1));function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function e(t){o(this,e),this.label="",this.action="",this.url="",this.key="",this.greetContext="",this.variant="primary",this.label=t.label,"openURL"===t.action&&(this.url=t.url),this.action=t.action,this.key=t.key,t.variant&&(this.variant=t.variant)};t.default=function e(t){if(o(this,e),this.viewType="",this.theme="",this.content="",this.body="",this.iconURL="",this.header="",this.controls={showCtaWithPopUp:!1,loadDelay:0},this.footer={buttons:[]},this.analyticsInfo={},this.viewType=t.viewType,this.content=t.content,t.body&&(this.body=t.body),t.iconURL&&(this.iconURL=t.iconURL),t.theme&&(this.theme=t.theme),t.header)this.header=t.header;else if(t.iconPath){var n=a.default.getJarvisClientRootUrlByEnv();this.iconURL=""+n+t.iconPath}else t.useRandomAgentIcon&&(this.iconURL=a.default.getRandomAvatarUrl());t.controls&&(t.controls.hasOwnProperty("showCtaWithPopUp")&&(this.controls.showCtaWithPopUp=t.controls.showCtaWithPopUp),t.controls.hasOwnProperty("loadDelay")&&(this.controls.loadDelay=t.controls.loadDelay)),t.footer&&(t.footer.buttons&&Array.isArray(t.footer.buttons)&&t.footer.buttons.length>0&&(this.footer.buttons=t.footer.buttons.map(function(e){return new i(e)})),t.footer.link&&(this.footer.link=new i(t.footer.link))),t.analyticsInfo&&(this.analyticsInfo=t.analyticsInfo)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e&&e.__esModule}(n(1));function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function e(t){a(this,e),this.label="",this.action="",this.url="",this.key="",this.variant="primary",this.label=t.label,"openURL"===t.action&&(this.url=t.url),this.action=t.action,this.key=t.key,t.variant&&(this.variant=t.variant)};t.default=function e(t){a(this,e),this.viewType="",this.content="",this.body="",this.header="",this.controls={showCtaWithPopUp:!1,loadDelay:0},this.footer={buttons:[]},this.analyticsInfo={},this.viewType=t.viewType,this.content=t.content,t.body&&(this.body=t.body),t.header&&(this.header=t.header),t.controls&&(t.controls.hasOwnProperty("showCtaWithPopUp")&&(this.controls.showCtaWithPopUp=t.controls.showCtaWithPopUp),t.controls.hasOwnProperty("loadDelay")&&(this.controls.loadDelay=t.controls.loadDelay)),t.footer&&(t.footer.buttons&&Array.isArray(t.footer.buttons)&&t.footer.buttons.length>0&&(this.footer.buttons=t.footer.buttons.map(function(e){return new o(e)})),t.footer.link&&(this.footer.link=new o(t.footer.link))),t.analyticsInfo&&(this.analyticsInfo=t.analyticsInfo),this.isTutorialPopupEnabled=t.isTutorialPopupEnabled,this.isTutorialPopupEligible=t.isTutorialPopupEligible,this.isTutorialPopupGethelpEnabled=t.isTutorialPopupGethelpEnabled}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e&&e.__esModule}(n(1));function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.default=function e(t){a(this,e),this.viewType="",this.content="",this.body="",this.header="",this.controls={showCtaWithPopUp:!0,loadDelay:0,showConversationMarker:!1},this.footer={buttons:[]},this.analyticsInfo={},this.viewType=t.viewType,this.content=t.content,t.body&&(this.body=t.body),t.header&&(this.header=t.header),t.controls&&(t.controls.hasOwnProperty("showCtaWithPopUp")&&(this.controls.showCtaWithPopUp=t.controls.showCtaWithPopUp),t.controls.hasOwnProperty("loadDelay")&&(this.controls.loadDelay=t.controls.loadDelay),t.controls.hasOwnProperty("ctaImg")&&""!==t.controls.ctaImg&&(this.controls.ctaImg=t.controls.ctaImg),t.controls.hasOwnProperty("showConversationMarker")&&(this.controls.showConversationMarker=t.controls.showConversationMarker),t.controls.hasOwnProperty("playAudio")&&(this.controls.playAudio=t.controls.playAudio),t.controls.hasOwnProperty("loadDelay")&&""!==t.controls.loadDelay&&(this.controls.loadDelay=parseInt(t.controls.loadDelay))),t.footer&&t.footer.buttons&&Array.isArray(t.footer.buttons)&&t.footer.buttons.length>0&&(this.footer.buttons=t.footer.buttons.map(function(e){return new function e(t){a(this,e),this.label="",this.action="",this.url="",this.key="",this.variant="primary",this.label=t.label,"openURL"===t.action&&(this.url=t.url),this.action=t.action,this.key=t.key,t.variant&&(this.variant=t.variant)}(e)})),t.analyticsInfo&&(this.analyticsInfo=t.analyticsInfo),this.isAuthoredBotPopupEligible=t.isAuthoredBotPopupEligible}},function(e,t){},function(e,t,n){"use strict";var a=n(31),o=n(32),i=o;i.v1=a,i.v4=o,e.exports=i},function(e,t,n){"use strict";var a,o,i=n(16),r=n(17),s=0,l=0;e.exports=function(e,t,n){var d=t&&n||0,u=t||[],c=(e=e||{}).node||a,p=void 0!==e.clockseq?e.clockseq:o;if(null==c||null==p){var f=i();null==c&&(c=a=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=o=16383&(f[6]<<8|f[7]))}var g=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:l+1,m=g-s+(h-l)/1e4;if(m<0&&void 0===e.clockseq&&(p=p+1&16383),(m<0||g>s)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=g,l=h,o=p;var v=(1e4*(268435455&(g+=122192928e5))+h)%4294967296;u[d++]=v>>>24&255,u[d++]=v>>>16&255,u[d++]=v>>>8&255,u[d++]=255&v;var b=g/4294967296*1e4&268435455;u[d++]=b>>>8&255,u[d++]=255&b,u[d++]=b>>>24&15|16,u[d++]=b>>>16&255,u[d++]=p>>>8|128,u[d++]=255&p;for(var y=0;y<6;++y)u[d+y]=c[y];return t||r(u)}},function(e,t,n){"use strict";var a=n(16),o=n(17);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var s=0;s<16;++s)t[i+s]=r[s];return t||o(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=c(n(0)),i=c(n(1)),r=c(n(4)),s=c(n(18)),l=c(n(13)),d=c(n(5)),u=c(n(3));n(36),n(9),n(10);c(n(6));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init=function(e){e&&e.localizedData&&(t.localizedData=e.localizedData)},this.handleGetStartedDXSalesPopUp=function(e){e.preventDefault(),e.stopPropagation(),s.default.hideSalesPopUp(),r.default.handleOpenMessagingWindow({appid:o.default.initJson.appid,appver:o.default.initJson.appver,componentid:i.default.getClientAppId(),componentver:i.default.getClientVersion(),sourceType:"auto",sourceText:"button"}),d.default.sendEvent({"event.workflow":"init","event.subcategory":"launch","event.type":"click","event.subtype":"get-started","content.name":"button-button"});l.default.setCookieByServerForPopUpClicked(JSON.stringify({engagementPopUpId:"DXSales"}))},this.handleNotNowDXSalesPopUp=function(){d.default.sendEvent({"event.workflow":"init","event.subcategory":"launch","event.type":"click","event.subtype":"not-now","content.name":"button-button"}),s.default.hideSalesPopUp();l.default.setCookieByServerForPopUpClicked(JSON.stringify({engagementPopUpId:"DXSales"}))},this.validate=function(){var e=!0;return t.localizedData&&t.localizedData.popUpTitle&&t.localizedData.popUpDescription&&t.localizedData.popUpGetStartedButton&&t.localizedData.popUpNotNowButton||(e=!1),e},this.localizedData=void 0}return a(e,[{key:"renderHeader",value:function(e){var t=u.default.createElement("div","adbmsgSalesPopUpLogo",e);u.default.createElement("div","adbmsgSalesPopUpLogoSvg",t)}},{key:"renderInnerContent",value:function(e){var t=u.default.createElement("div","adbmsgSalesPopUpBody",e);this.renderBody(t);var n=u.default.createElement("div","adbmsgSalesPopUpControlContainer",e);this.renderControls(n)}},{key:"renderTitleWithCompanyName",value:function(e,t){return e.replace(/\$\{\w+\}/i,t)}},{key:"renderPopUpTitle",value:function(e,t){var n=this.localizedData.companyPopUpTitle;return n&&e?this.renderTitleWithCompanyName(n,t):this.localizedData.popUpTitle}},{key:"renderPopUpDescription",value:function(e){var t=this.localizedData.companyPopUpDescription;return e&&t?t:this.localizedData.popUpDescription}},{key:"renderBody",value:function(e){var t=o.default.initJson.context.companyName,n=!!t,a=u.default.createElement("div","adbmsgSalesPopUpAvatar",e);u.default.createElement("img","adbmsgSalesPopUpAvatarImg",a).src=i.default.getRandomAvatarUrl();var r=u.default.createElement("div","adbmsgSalesPopUpBodyPara",e),s=u.default.createElement("div","adbmsgSalesPopUpBodyParaTitle",r),l=""+this.renderPopUpTitle(n,t);s.innerHTML=l,u.default.createElement("div","adbmsgSalesPopUpBodyParaDescription",r).innerHTML=""+this.renderPopUpDescription(n)}},{key:"renderControls",value:function(e){var t=u.default.createElement("div","adbmsgSalesPopUpControls",e),n=u.default.createElement("button","spectrum-Button,spectrum-Button--quiet,spectrum-Button--overBackground",t),a=u.default.createElement("span","spectrum-Button-label",n);u.default.addFocusRingHandling(n),a.innerHTML=this.localizedData.popUpNotNowButton,n.setAttribute("aria-label",this.localizedData.popUpNotNowButton),n.addEventListener&&n.addEventListener("click",this.handleNotNowDXSalesPopUp,!1);var o=u.default.createElement("button","spectrum-Button,spectrum-Button--overBackground",t),i=u.default.createElement("span","spectrum-Button-label",o);u.default.addFocusRingHandling(o),i.innerHTML=this.localizedData.popUpGetStartedButton,o.setAttribute("aria-label",this.localizedData.popUpGetStartedButton),o.addEventListener&&o.addEventListener("click",this.handleGetStartedDXSalesPopUp,!1)}},{key:"addToDom",value:function(e){this.adbmsgSalesPopUpContent=u.default.createElement("div","adbmsgSalesPopUpContent",e);var t=u.default.createElement("div","adbmsgSalesPopUpHeader",this.adbmsgSalesPopUpContent);this.renderHeader(t);var n=u.default.createElement("div","adbmsgSalesPopUpInnerContent",this.adbmsgSalesPopUpContent);this.renderInnerContent(n)}},{key:"removeFromDom",value:function(){this.adbmsgSalesPopUpContent&&this.adbmsgSalesPopUpContent.parentNode.removeChild(this.adbmsgSalesPopUpContent)}},{key:"recreateDom",value:function(e){this.removeFromDom(),this.addToDom(e)}}]),e}();t.default=new p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=p(n(0)),i=p(n(1)),r=p(n(4)),s=p(n(13)),l=p(n(14)),d=p(n(5)),u=p(n(3));n(35),n(15),n(9),n(10);var c=p(n(19));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addCampaignAnalyticsToEvent=function(e,t){t&&(t.variationId&&(e["exp.variation_id"]=t.variationId),t.actionBlockId&&(e["exp.action_block_id"]=t.actionBlockId),t.campaignId&&(e["exp.campaign_id"]=t.campaignId),t.responseGUID&&(e["exp.response_guid"]=t.responseGUID),t.surfaceId&&(e["exp.surface_id"]=t.surfaceId),t.containerId&&(e["exp.container_id"]=t.containerId),t.controlGroupId&&(e["exp.control_group_id"]=t.controlGroupId),t.treatmentId&&(e["exp.treatment_id"]=t.treatmentId))},this.handleButtonClick=function(e,n){e.preventDefault(),e.stopPropagation();var a={"event.workflow":"EngagementPopUP","event.type":"click","event.subtype":n.key,"content.name":t.engagementPopUpModel.analyticsInfo.analyticsId};if(t.addCampaignAnalyticsToEvent(a,t.engagementPopUpModel.analyticsInfo.campaignAnalyticsData),d.default.sendEvent(a),"closePopUp"===n.action){s.default.hideEngagementPopUp(),r.default.renderCTAasPerPolicy();var u={engagementPopUpId:t.engagementPopUpModel.analyticsInfo.analyticsId,type:"engagement"};s.default.setCookieByServerForPopUpClicked(JSON.stringify(u)),c.default.minimizePopupClicked(JSON.stringify(u))}else if("openURL"===n.action){r.default.renderCTAasPerPolicy();var p=n.url+"#sa_src=web-messaging";l.default.openLinkDirectly(p,"_blank");var f={engagementPopUpId:t.engagementPopUpModel.analyticsInfo.analyticsId};s.default.setCookieByServerForPopUpClicked(JSON.stringify(f))}else"openChat"===n.action?r.default.handleOpenMessagingWindow({appid:o.default.initJson.appid,appver:o.default.initJson.appver,componentid:i.default.getClientAppId(),componentver:i.default.getClientVersion(),sourceType:"engagementPopUp",sourceText:"button"}):"openCustomizedChat"===n.action&&r.default.handleOpenMessagingWindow({appid:o.default.initJson.appid,appver:o.default.initJson.appver,componentid:i.default.getClientAppId(),componentver:i.default.getClientVersion(),sourceType:"engagementPopUp",sourceText:"button",customGreet:"paymentUpdateRBI"})},this.renderBody=function(e,n){if(t.engagementPopUpModel.iconURL){var a=u.default.createElement("div","adbmsgEngagementPopUpAvatar",e);u.default.createElement("img","adbmsgEngagementPopUpAvatarImg",a).src=t.engagementPopUpModel.iconURL}var o=void 0;(o=n&&"jarvis"===n.theme?u.default.createElement("div","adbmsgEngagementPopUpBodyPara,adbmsgEngagementPopUpBodyParaWhiteColor",e):u.default.createElement("div","adbmsgEngagementPopUpBodyPara,adbmsgEngagementPopUpBodyParaBlackColor",e),(n&&"jarvis"===n.theme?u.default.createElement("div","adbmsgEngagementPopUpBodyParaTitleJarvis",o):u.default.createElement("div","adbmsgEngagementPopUpBodyParaTitle",o)).innerHTML=t.engagementPopUpModel.content,t.engagementPopUpModel.body)&&(u.default.createElement("div","adbmsgEngagementPopUpBodyParaDescription",o).innerHTML=t.engagementPopUpModel.body)},this.renderControls=function(e,n){var a=void 0;a=n&&"jarvis"===n.theme?u.default.createElement("div","adbmsgEngagementPopUpControlsJarvis,spectrum-ButtonGroup",e):u.default.createElement("div","adbmsgEngagementPopUpControls,spectrum-ButtonGroup",e);for(var o=function(e){var n=t.engagementPopUpModel.footer.buttons[e],o=null;o="primary"===n.variant?t.createPrimaryButton(a,t.engagementPopUpModel.theme):t.createSecondaryButton(a,t.engagementPopUpModel.theme);var i=u.default.createElement("span","spectrum-Button-label",o);u.default.addFocusRingHandling(o),i.innerHTML=n.label,o.setAttribute("aria-label",n.label),o.addEventListener&&o.addEventListener("click",function(e){t.handleButtonClick(e,n)})},i=0;i<t.engagementPopUpModel.footer.buttons.length;i++)o(i)},this.createPrimaryButton=function(e,t){return"jarvis"===t?u.default.createElement("button","spectrum-Button,spectrum-Button--primary,spectrum-ButtonGroup-item,adbmsgEngagement-button",e):u.default.createElement("button","spectrum-Button,spectrum-Button--primary,spectrum-ButtonGroup-item",e)},this.createSecondaryButton=function(e,t){return"jarvis"===t?u.default.createElement("button","spectrum-Button,spectrum-Button--secondary,spectrum-Button--quiet,spectrum-ButtonGroup-item,adbmsgEngagement-button",e):u.default.createElement("button","spectrum-Button,spectrum-Button--secondary,spectrum-Button--quiet,spectrum-ButtonGroup-item",e)},this.addPopUpToDOM=function(e,n){t.engagementPopUpModel=e,t.adbmsgEngagementPopUpContent=u.default.createElement("div","adbmsgEngagementPopUpContent",n),t.renderHeader(t.adbmsgEngagementPopUpContent,e);var a=u.default.createElement("div","adbmsgEngagementPopUpInnerContent",t.adbmsgEngagementPopUpContent);t.renderInnerContent(a,e);var o={"event.workflow":"EngagementPopUP","event.type":"render","content.name":t.engagementPopUpModel.analyticsInfo.analyticsId};t.addCampaignAnalyticsToEvent(o,t.engagementPopUpModel.analyticsInfo.campaignAnalyticsData),d.default.sendEvent(o)},this.engagementPopUpModel=null}return a(e,[{key:"renderHeader",value:function(e,t){var n=this;if("jarvis"===t.theme){var a=u.default.createElement("div","adbmsgEngagementHeader",e),o=(u.default.createElement("div","adbmsgEngagementPopUpLogoOldImg",a),u.default.createElement("div","adbmsgEngagementPopUpCloseDiv",a)),r=u.default.createElement("button","adbmsgEngagementPopUpCloseIcon",o),s=this.engagementPopUpModel.header,l=u.default.createElement("img","adbmsgEngagementPopUpCloseImg",r),d=i.default.getJarvisClientRootUrlByEnv()+"/assets/collapse.svg";l.src=d,r.addEventListener&&r.addEventListener("click",function(e){n.handleButtonClick(e,s)})}else u.default.createElement("div","adbmsgEngagementPopUpLogoImg",e)}},{key:"renderInnerContent",value:function(e,t){var n=u.default.createElement("div","adbmsgEngagementPopUpBody",e);this.renderBody(n,t),this.renderControls(e,t),this.renderFooter(e)}},{key:"renderFooter",value:function(e){var t=this;if(this.engagementPopUpModel.footer.link){var n=u.default.createElement("div","adbmsgEngagementPopUpLink",e),a=this.engagementPopUpModel.footer.link,o=u.default.createElement("u","adbmsgEngagementPopupAnchor",n);o.innerHTML=a.label,o.addEventListener&&o.addEventListener("click",function(e){t.handleButtonClick(e,a)});u.default.createElement("a","adbmsgEngagementDummy",n)}}},{key:"removeFromDom",value:function(){this.adbmsgEngagementPopUpContent&&this.adbmsgEngagementPopUpContent.parentNode.removeChild(this.adbmsgEngagementPopUpContent)}},{key:"recreateDom",value:function(e,t){this.removeFromDom(),this.addToDom(e,t)}}]),e}();t.default=new f},function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=p(n(0)),i=p(n(1)),r=p(n(4)),s=p(n(20)),l=p(n(14)),d=(p(n(21)),p(n(5))),u=p(n(3));n(42),n(15),n(9),n(10);var c=p(n(19));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addCampaignAnalyticsToEvent=function(e,t){t&&(t.variationId&&(e["exp.variation_id"]=t.variationId),t.actionBlockId&&(e["exp.action_block_id"]=t.actionBlockId),t.campaignId&&(e["exp.campaign_id"]=t.campaignId),t.responseGUID&&(e["exp.response_guid"]=t.responseGUID),t.surfaceId&&(e["exp.surface_id"]=t.surfaceId),t.containerId&&(e["exp.container_id"]=t.containerId),t.controlGroupId&&(e["exp.control_group_id"]=t.controlGroupId),t.treatmentId&&(e["exp.treatment_id"]=t.treatmentId))},this.handleButtonClick=function(e,n){e.preventDefault(),e.stopPropagation();var a={"event.workflow":"TutorialPopUp","event.type":"click","event.subtype":n.key,"content.name":t.tutorialPopUpModel.analyticsInfo.analyticsId,"content.status":t.tutorialPopUpModel.analyticsInfo.otherInfo};if(t.addCampaignAnalyticsToEvent(a,t.tutorialPopUpModel.analyticsInfo.campaignAnalyticsData),d.default.sendEvent(a),"closePopUp"===n.action){s.default.hideTutorialPopUp(),r.default.renderCTAasPerPolicy();var u={userId:t.tutorialPopUpModel.analyticsInfo.userId,type:"tutorial"};c.default.minimizePopupClicked(JSON.stringify(u))}else if("openURL"===n.action){var p=n.url+"#sa_src=web-messaging";l.default.openLinkDirectly(p,"_blank")}else"openChat"===n.action&&(s.default.hideTutorialPopUp(),r.default.handleOpenMessagingWindow({appid:o.default.initJson.appid,appver:o.default.initJson.appver,componentid:i.default.getClientAppId(),componentver:i.default.getClientVersion(),sourceType:"TutorialPopUp",sourceText:"button"}))},this.renderBody=function(e){var n=u.default.createElement("div","adbmsgTutorialPopUpBodyPara",e);(u.default.createElement("div","adbmsgTutorialPopUpBodyParaTitle",n).innerHTML=t.tutorialPopUpModel.content,t.tutorialPopUpModel.body)&&(u.default.createElement("div","adbmsgTutorialPopUpBodyParaDescription",n).innerHTML=t.tutorialPopUpModel.body)},this.renderControls=function(e){for(var n=u.default.createElement("div","adbmsgTutorialPopUpControls,spectrum-ButtonGroup",e),a=function(e){var a=t.tutorialPopUpModel.footer.buttons[e],o=null;o="primary"===a.variant?u.default.createElement("button","spectrum-Button,spectrum-Button--primary,spectrum-ButtonGroup-item,adbmsgTutorial-button",n):u.default.createElement("button","spectrum-Button,spectrum-Button--secondary,spectrum-Button--quiet,spectrum-ButtonGroup-item,adbmsgTutorial-button",n);var i=u.default.createElement("span","spectrum-Button-label",o);u.default.addFocusRingHandling(o),i.innerHTML=a.label,o.setAttribute("aria-label",a.label),o.addEventListener&&o.addEventListener("click",function(e){t.handleButtonClick(e,a)})},o=0;o<t.tutorialPopUpModel.footer.buttons.length;o++)a(o)},this.renderLink=function(e){if(t.tutorialPopUpModel.footer.link){var n=u.default.createElement("div","adbmsgTutorialPopUpLink",e),a=t.tutorialPopUpModel.footer.link,o=u.default.createElement("u","adbmsgTutorialPopupAnchor",n);o.innerHTML=a.label,o.addEventListener&&o.addEventListener("click",function(e){t.handleButtonClick(e,a)});u.default.createElement("a","adbmsgTutorialDummy",n)}},this.addPopUpToDOM=function(e,n){t.tutorialPopUpModel=e,t.adbmsgTutorialPopUpContent=u.default.createElement("div","adbmsgTutorialPopUpContent",n),t.renderHeader(t.adbmsgTutorialPopUpContent);var a=u.default.createElement("div","adbmsgTutorialPopUpInnerContent",t.adbmsgTutorialPopUpContent);if(t.renderInnerContent(a),t.tutorialPopUpModel.isTutorialPopupEnabled||t.tutorialPopUpModel.isTutorialPopupEligible){var o={"event.workflow":"TutorialPopUp","event.type":"render","content.name":t.tutorialPopUpModel.analyticsInfo.analyticsId,"content.status":t.tutorialPopUpModel.analyticsInfo.otherInfo,"env.fw.name":"tutorial-popup"};if(t.tutorialPopUpModel.isTutorialPopupEnabled){o["content.mimetype"]="tutorial-popup";var r={"event.workflow":"TutorialPopUp","event.type":"render","content.name":t.tutorialPopUpModel.analyticsInfo.analyticsId,"content.status":t.tutorialPopUpModel.analyticsInfo.otherInfo,"env.fw.name":"tutorial-popup-gethelp"};t.tutorialPopUpModel.isTutorialPopupGethelpEnabled?r["content.mimetype"]="tutorial-popup-gethelp":r["content.mimetype"]="tutorial-popup-gethelp_control",r["env.com.version"]=i.default.getClientVersion(),t.addCampaignAnalyticsToEvent(r,t.tutorialPopUpModel.analyticsInfo.campaignAnalyticsData),d.default.sendEvent(r)}else o["content.mimetype"]="tutorial-popup_control";o["env.com.version"]=i.default.getClientVersion(),t.addCampaignAnalyticsToEvent(o,t.tutorialPopUpModel.analyticsInfo.campaignAnalyticsData),d.default.sendEvent(o)}},this.tutorialPopUpModel=null}return a(e,[{key:"renderHeader",value:function(e){var t=this,n=u.default.createElement("div","adbmsgTutorialHeader",e),a=(u.default.createElement("div","adbmsgTutorialPopUpLogoImg",n),u.default.createElement("div","adbmsgTutorialPopUpCloseDiv",n)),o=u.default.createElement("button","adbmsgTutorialPopUpCloseIcon",a),r=this.tutorialPopUpModel.header,s=u.default.createElement("img","adbmsgTutorialPopUpCloseImg",o),l=i.default.getJarvisClientRootUrlByEnv()+"/assets/collapse.svg";s.src=l,o.addEventListener&&o.addEventListener("click",function(e){t.handleButtonClick(e,r)})}},{key:"renderInnerContent",value:function(e){var t=u.default.createElement("div","adbmsgTutorialPopUpBody",e);this.renderBody(t),this.renderControls(e),this.renderLink(e)}},{key:"removeFromDom",value:function(){this.adbmsgTutorialPopUpContent&&this.adbmsgTutorialPopUpContent.parentNode.removeChild(this.adbmsgTutorialPopUpContent)}},{key:"recreateDom",value:function(e,t){this.removeFromDom(),this.addToDom(e,t)}}]),e}();t.default=new f},function(e,t,n){"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var a=n(39),o=n(40),i=n(41);function r(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return d(this,e,t,n)}function d(e,t,n,a){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,a){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(a||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===a?new Uint8Array(t):void 0===a?new Uint8Array(t,n):new Uint8Array(t,n,a);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t);return e}(e,t,n,a):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var a=0|g(t,n),o=(e=s(e,a)).write(t,n);o!==a&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var a=0;a<n;a+=1)e[a]=255&t[a];return e}function f(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function g(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(e).length;default:if(a)return H(e).length;t=(""+t).toLowerCase(),a=!0}}function h(e,t,n){var a=e[t];e[t]=e[n],e[n]=a}function m(e,t,n,a,o){if(0===e.length)return-1;if("string"==typeof n?(a=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,a)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,a,o);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,a,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,a,o){var i,r=1,s=e.length,l=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;r=2,s/=2,l/=2,n/=2}function d(e,t){return 1===r?e[t]:e.readUInt16BE(t*r)}if(o){var u=-1;for(i=n;i<s;i++)if(d(e,i)===d(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*r}else-1!==u&&(i-=i-u),u=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var c=!0,p=0;p<l;p++)if(d(e,i+p)!==d(t,p)){c=!1;break}if(c)return i}return-1}function b(e,t,n,a){n=Number(n)||0;var o=e.length-n;a?(a=Number(a))>o&&(a=o):a=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");a>i/2&&(a=i/2);for(var r=0;r<a;++r){var s=parseInt(t.substr(2*r,2),16);if(isNaN(s))return r;e[n+r]=s}return r}function y(e,t,n,a){return z(H(t,e.length-n),e,n,a)}function C(e,t,n,a){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,a)}function w(e,t,n,a){return C(e,t,n,a)}function P(e,t,n,a){return z(J(t),e,n,a)}function E(e,t,n,a){return z(function(e,t){for(var n,a,o,i=[],r=0;r<e.length&&!((t-=2)<0);++r)n=e.charCodeAt(r),a=n>>8,o=n%256,i.push(o),i.push(a);return i}(t,e.length-n),e,n,a)}function T(e,t,n){return 0===t&&n===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,n))}function U(e,t,n){n=Math.min(e.length,n);for(var a=[],o=t;o<n;){var i,r,s,l,d=e[o],u=null,c=d>239?4:d>223?3:d>191?2:1;if(o+c<=n)switch(c){case 1:d<128&&(u=d);break;case 2:128==(192&(i=e[o+1]))&&(l=(31&d)<<6|63&i)>127&&(u=l);break;case 3:i=e[o+1],r=e[o+2],128==(192&i)&&128==(192&r)&&(l=(15&d)<<12|(63&i)<<6|63&r)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[o+1],r=e[o+2],s=e[o+3],128==(192&i)&&128==(192&r)&&128==(192&s)&&(l=(15&d)<<18|(63&i)<<12|(63&r)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,c=1):u>65535&&(u-=65536,a.push(u>>>10&1023|55296),u=56320|1023&u),a.push(u),o+=c}return function(e){var t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);var n="",a=0;for(;a<t;)n+=String.fromCharCode.apply(String,e.slice(a,a+=I));return n}(a)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==window.TYPED_ARRAY_SUPPORT?window.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return d(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,a){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof a?s(e,t).fill(n,a):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return c(null,e)},l.allocUnsafeSlow=function(e){return c(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,a=t.length,o=0,i=Math.min(n,a);o<i;++o)if(e[o]!==t[o]){n=e[o],a=t[o];break}return n<a?-1:a<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var a=l.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var r=e[n];if(!l.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(a,o),o+=r.length}return a},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?U(this,0,e):function(e,t,n){var a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return U(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,a,o){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===o&&(o=this.length),t<0||n>e.length||a<0||o>this.length)throw new RangeError("out of range index");if(a>=o&&t>=n)return 0;if(a>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,a>>>=0,o>>>=0,this===e)return 0;for(var i=o-a,r=n-t,s=Math.min(i,r),d=this.slice(a,o),u=e.slice(t,n),c=0;c<s;++c)if(d[c]!==u[c]){i=d[c],r=u[c];break}return i<r?-1:r<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},l.prototype.write=function(e,t,n,a){if(void 0===t)a="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)a=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===a&&(a="utf8")):(a=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var i=!1;;)switch(a){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return C(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return P(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function A(e,t,n){var a="";n=Math.min(e.length,n);for(var o=t;o<n;++o)a+=String.fromCharCode(127&e[o]);return a}function k(e,t,n){var a="";n=Math.min(e.length,n);for(var o=t;o<n;++o)a+=String.fromCharCode(e[o]);return a}function M(e,t,n){var a=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>a)&&(n=a);for(var o="",i=t;i<n;++i)o+=W(e[i]);return o}function _(e,t,n){for(var a=e.slice(t,n),o="",i=0;i<a.length;i+=2)o+=String.fromCharCode(a[i]+256*a[i+1]);return o}function S(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,a,o,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+a>e.length)throw new RangeError("Index out of range")}function O(e,t,n,a){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(a?o:1-o))>>>8*(a?o:1-o)}function R(e,t,n,a){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(a?o:3-o)&255}function D(e,t,n,a,o,i){if(n+a>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,a,i){return i||D(e,0,n,4),o.write(e,t,n,a,23,4),n+4}function N(e,t,n,a,i){return i||D(e,0,n,8),o.write(e,t,n,a,52,8),n+8}l.prototype.slice=function(e,t){var n,a=this.length;if(e=~~e,t=void 0===t?a:~~t,e<0?(e+=a)<0&&(e=0):e>a&&(e=a),t<0?(t+=a)<0&&(t=0):t>a&&(t=a),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var o=t-e;n=new l(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var a=this[e],o=1,i=0;++i<t&&(o*=256);)a+=this[e+i]*o;return a},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var a=this[e+--t],o=1;t>0&&(o*=256);)a+=this[e+--t]*o;return a},l.prototype.readUInt8=function(e,t){return t||S(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||S(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||S(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var a=this[e],o=1,i=0;++i<t&&(o*=256);)a+=this[e+i]*o;return a>=(o*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var a=t,o=1,i=this[e+--a];a>0&&(o*=256);)i+=this[e+--a]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||S(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||S(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||S(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||S(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||S(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||S(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,a){(e=+e,t|=0,n|=0,a)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,a){(e=+e,t|=0,n|=0,a)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,a){if(e=+e,t|=0,!a){var o=Math.pow(2,8*n-1);L(this,e,t,n,o-1,-o)}var i=0,r=1,s=0;for(this[t]=255&e;++i<n&&(r*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/r>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,a){if(e=+e,t|=0,!a){var o=Math.pow(2,8*n-1);L(this,e,t,n,o-1,-o)}var i=n-1,r=1,s=0;for(this[t+i]=255&e;--i>=0&&(r*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/r>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,a){if(n||(n=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<n&&(a=n),a===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);var o,i=a-n;if(this===e&&n<t&&t<a)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},l.prototype.fill=function(e,t,n,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,n=this.length):"string"==typeof n&&(a=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!l.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var r=l.isBuffer(e)?e:H(new l(e,a).toString()),s=r.length;for(i=0;i<n-t;++i)this[i+t]=r[i%s]}return this};var x=/[^+\/0-9A-Za-z-_]/g;function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var n;t=t||1/0;for(var a=e.length,o=null,i=[],r=0;r<a;++r){if((n=e.charCodeAt(r))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(r+1===a){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function J(e){return a.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(x,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,a){for(var o=0;o<a&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}},function(e,t,n){"use strict";t.byteLength=function(e){var t=d(e),n=t[0],a=t[1];return 3*(n+a)/4-a},t.toByteArray=function(e){var t,n,a=d(e),r=a[0],s=a[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,r,s)),u=0,c=s>0?r-4:r;for(n=0;n<c;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],r=0,s=n-o;r<s;r+=16383)i.push(c(e,r,r+16383>s?s:r+16383));1===o?(t=e[n-1],i.push(a[t>>2]+a[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"="));return i.join("")};for(var a=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=r.length;s<l;++s)a[s]=r[s],o[r.charCodeAt(s)]=s;function d(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e){return a[e>>18&63]+a[e>>12&63]+a[e>>6&63]+a[63&e]}function c(e,t,n){for(var a,o=[],i=t;i<n;i+=3)a=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(u(a));return o.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t,n){"use strict";
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t.read=function(e,t,n,a,o){var i,r,s=8*o-a-1,l=(1<<s)-1,d=l>>1,u=-7,c=n?o-1:0,p=n?-1:1,f=e[t+c];for(c+=p,i=f&(1<<-u)-1,f>>=-u,u+=s;u>0;i=256*i+e[t+c],c+=p,u-=8);for(r=i&(1<<-u)-1,i>>=-u,u+=a;u>0;r=256*r+e[t+c],c+=p,u-=8);if(0===i)i=1-d;else{if(i===l)return r?NaN:1/0*(f?-1:1);r+=Math.pow(2,a),i-=d}return(f?-1:1)*r*Math.pow(2,i-a)},t.write=function(e,t,n,a,o,i){var r,s,l,d=8*i-o-1,u=(1<<d)-1,c=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=a?0:i-1,g=a?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,r=u):(r=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-r))<1&&(r--,l*=2),(t+=r+c>=1?p/l:p*Math.pow(2,1-c))*l>=2&&(r++,l/=2),r+c>=u?(s=0,r=u):r+c>=1?(s=(t*l-1)*Math.pow(2,o),r+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,o),r=0));o>=8;e[n+f]=255&s,f+=g,s/=256,o-=8);for(r=r<<o|s,d+=o;d>0;e[n+f]=255&r,f+=g,r/=256,d-=8);e[n+f-g]|=128*h}},function(e,t,n){"use strict";var a={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==a.call(e)}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=c(n(0)),i=c(n(1)),r=c(n(4)),s=c(n(22)),l=c(n(14)),d=(c(n(21)),c(n(5))),u=c(n(3));function c(e){return e&&e.__esModule?e:{default:e}}n(44),n(15),n(9),n(10);var p=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addCampaignAnalyticsToEvent=function(e,t){t&&(t.variationId&&(e["exp.variation_id"]=t.variationId),t.actionBlockId&&(e["exp.action_block_id"]=t.actionBlockId),t.campaignId&&(e["exp.campaign_id"]=t.campaignId),t.responseGUID&&(e["exp.response_guid"]=t.responseGUID),t.surfaceId&&(e["exp.surface_id"]=t.surfaceId),t.containerId&&(e["exp.container_id"]=t.containerId),t.controlGroupId&&(e["exp.control_group_id"]=t.controlGroupId),t.treatmentId&&(e["exp.treatment_id"]=t.treatmentId))},this.handleButtonClick=function(e,n){e.preventDefault(),e.stopPropagation();var a={"event.workflow":"AuthoredBotPopUp","event.type":"click","event.subtype":n.key,"content.name":t.authoredBotPopupModel.analyticsInfo.analyticsId,"content.status":t.authoredBotPopupModel.analyticsInfo.otherInfo};if(t.addCampaignAnalyticsToEvent(a,t.authoredBotPopupModel.analyticsInfo.campaignAnalyticsData),d.default.sendEvent(a),"closePopUp"===n.action)s.default.hidePopUp(),r.default.renderCTAasPerPolicy();else if("openURL"===n.action){var u=n.url+"#sa_src=web-messaging";l.default.openLinkDirectly(u,"_blank")}else"openChat"===n.action&&(s.default.hidePopUp(),r.default.handleOpenMessagingWindow({appid:o.default.initJson.appid,appver:o.default.initJson.appver,componentid:i.default.getClientAppId(),componentver:i.default.getClientVersion(),sourceType:"AuthoredBotPopUp",sourceText:"button"}))},this.renderBody=function(e){var n=u.default.createElement("div","adbmsgAuthoredBotPopUpBodyPara",e);(u.default.createElement("div","adbmsgAuthoredBotPopUpBodyParaTitle",n).innerHTML=t.authoredBotPopupModel.content,t.authoredBotPopupModel.body)&&(u.default.createElement("div","adbmsgAuthoredBotPopUpBodyParaDescription",n).innerHTML=t.authoredBotPopupModel.body)},this.renderLink=function(e){if(t.authoredBotPopupModel.footer.link){var n=u.default.createElement("div","adbmsgAuthoredBotPopUpLink",e),a=t.authoredBotPopupModel.footer.link,o=u.default.createElement("u","adbmsgAuthoredBotPopupAnchor",n);o.innerHTML=a.label,o.addEventListener&&o.addEventListener("click",function(e){t.handleButtonClick(e,a)});u.default.createElement("a","adbmsgAuthoredBotDummy",n)}},this.addPopUpToDOM=function(e,n){t.authoredBotPopupModel=e,t.adbmsgAuthoredBotPopUpContent=u.default.createElement("div","adbmsgAuthoredBotPopUpContent",n);var a=u.default.createElement("div","adbmsgAuthoredBotPopUpInnerContent",t.adbmsgAuthoredBotPopUpContent);t.renderInnerContent(a),t.renderHeader(t.adbmsgAuthoredBotPopUpContent)},this.showPopUp=function(e){if(e){e.style.display="block";var n={"event.workflow":"AuthoredBotPopUp","event.type":"render","content.name":t.authoredBotPopupModel.analyticsInfo.analyticsId};if(n["env.fw.name"]="authoredbot-popup",n["content.mimetype"]=t.authoredBotPopupModel.analyticsInfo.botName,n["env.com.version"]=i.default.getClientVersion(),t.addCampaignAnalyticsToEvent(n,t.authoredBotPopupModel.analyticsInfo.campaignAnalyticsData),t.authoredBotPopupModel.controls.playAudio)new Audio(i.default.getPopupNotification()).play().then(function(){n["content.status"]="audio-played",d.default.sendEvent(n)}).catch(function(){n["content.status"]="audio-failed",d.default.sendEvent(n)});else d.default.sendEvent(n)}},this.playAudio=function(){t.authoredBotPopupModel.controls.playAudio&&new Audio(i.default.getPopupNotification()).play()},this.authoredBotPopupModel=null}return a(e,[{key:"renderHeader",value:function(e){var t=this,n=u.default.createElement("div","adbmsgAuthoredBotHeader",e),a=u.default.createElement("div","adbmsgAuthoredBotPopUpCloseDiv",n),o=u.default.createElement("button","adbmsgAuthoredBotPopUpCloseIcon",a),i=this.authoredBotPopupModel.header;u.default.createElement("div","adbmsgAuthoredBotPopUpCloseImg",o);o.addEventListener&&o.addEventListener("click",function(e){t.handleButtonClick(e,i)})}},{key:"renderInnerContent",value:function(e){var t=this,n=u.default.createElement("div","adbmsgAuthoredBotPopUpBody",e);if(this.renderBody(n),this.renderLink(e),n.addEventListener){var a={action:"openChat"};n.addEventListener("click",function(e){t.handleButtonClick(e,a)})}}},{key:"removeFromDom",value:function(){this.adbmsgAuthoredBotPopUpContent&&this.adbmsgAuthoredBotPopUpContent.parentNode.removeChild(this.adbmsgAuthoredBotPopUpContent)}}]),e}();t.default=new p},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports={serverUrl:"http://localhost:9000",wsUrl:"http://localhost:9000",callAfterUpdateAccessToken:!0}},function(e,t,n){var a={"./Lightroom.png":49,"./cc_appicon.png":50,"./sales-avatar-1.png":51,"./sales-avatar-10.png":52,"./sales-avatar-11.png":53,"./sales-avatar-12.png":54,"./sales-avatar-13.png":55,"./sales-avatar-14.png":56,"./sales-avatar-15.png":57,"./sales-avatar-2.png":58,"./sales-avatar-3.png":59,"./sales-avatar-4.png":60,"./sales-avatar-5.png":61,"./sales-avatar-6.png":62,"./sales-avatar-7.png":63,"./sales-avatar-8.png":64,"./sales-avatar-9.png":65};function o(e){return n(i(e))}function i(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}o.keys=function(){return Object.keys(a)},o.resolve=i,e.exports=o,o.id=48},function(e,t,n){e.exports=n.p+"assets/Lightroom.png"},function(e,t,n){e.exports=n.p+"assets/cc_appicon.png"},function(e,t,n){e.exports=n.p+"assets/sales-avatar-1.png"},function(e,t,n){e.exports=n.p+"assets/sales-avatar-10.png"},function(e,t,n){e.exports=n.p+"assets/sales-avatar-11.png"},function(e,t,n){e.exports=n.p+"assets/sales-avatar-12.png"},function(e,t,n){e.exports=n.p+"assets/sales-avatar-13.png"},function(e,t,n){e.exports=n.p+"assets/sales-avatar-14.png"},function(e,t,n){e.exports=n.p+"assets/sales-avatar-15.png"},function(e,t,n){e.exports=n.p+"assets/sales-avatar-2.png"},function(e,t,n){e.exports=n.p+"assets/sales-avatar-3.png"},function(e,t,n){e.exports=n.p+"assets/sales-avatar-4.png"},function(e,t,n){e.exports=n.p+"assets/sales-avatar-5.png"},function(e,t,n){e.exports=n.p+"assets/sales-avatar-6.png"},function(e,t,n){e.exports=n.p+"assets/sales-avatar-7.png"},function(e,t,n){e.exports=n.p+"assets/sales-avatar-8.png"},function(e,t,n){e.exports=n.p+"assets/sales-avatar-9.png"}])});