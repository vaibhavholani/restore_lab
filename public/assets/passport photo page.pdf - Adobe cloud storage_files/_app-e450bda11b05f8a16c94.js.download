(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{30137:function(e,t,n){"use strict";n.d(t,{b:function(){return P},t:function(){return se}});var r=n(67294),o=n(12398),i=n(93101),a=n(69429),u=n(298),c=n(65455),s=n(49313),l=n(34937),f=(0,l.defineContents)("externalworkflowpage",{headerDefault:{id:"headerDefault",type:"string",placeholderContent:"If you've made your purchase, get started now. (PH)"},messageDefault:{id:"messageDefault",type:"string",placeholderContent:"Please complete the purchase in your web browser. If you would like to purchase later, you can cancel now. (PH)"},cancelButtonDefault:{id:"cancelButtonDefault",type:"string",placeholderContent:"Cancel (PH)"},continueButtonDefault:{id:"continueButtonDefault",type:"string",placeholderContent:"Get Started (PH)"},headerChangePlan:{id:"headerChangePlan",type:"string",placeholderContent:"Switch your plan in your Adobe Account. (PH)"},messageChangePlan:{id:"messageChangePlan",type:"string",placeholderContent:"Once you are done, come back here and click Continue to proceed. If you would like to continue later, you can cancel for now. (PH)"},cancelButtonChangePlan:{id:"cancelButtonChangePlan",type:"string",placeholderContent:"Cancel (PH)"},continueButtonChangePlan:{id:"continueButtonChangePlan",type:"string",placeholderContent:"Continue (PH)"}}),p=n(8703),d=n(54536),v=n(52253),m=n(30488),O=n(12510),g=n(52007),y=n(66482),h=n(36015),E=r.createElement,P=(0,y.c)("checkout/external",f.__contentType,f)((function(e){var t=e.workflow,n=(0,l.useContentEntry)(f),y=(0,m.useCommerceAppContext)().emitMessage,P=(0,g.useTrackEvent)();(0,r.useEffect)((function(){var e=(0,u.W6)("".concat(t).concat(v.ps.COMPLETE_PURCHASE_WEB,":").concat(v.ps.MODAL),"".concat(v.ps.COMPLETE_PURCHASE_WEB));P(e)}),[P,t]);var T=function(e){switch(e){case p.q.CHANGE_PLAN:return{header:n.get(f.headerChangePlan),message:n.get(f.messageChangePlan),cancelButton:n.get(f.cancelButtonChangePlan),continueButton:n.get(f.continueButtonChangePlan)};default:return{header:n.get(f.headerDefault),message:n.get(f.messageDefault),cancelButton:n.get(f.cancelButtonDefault),continueButton:n.get(f.continueButtonDefault)}}}(t),b=T.header,S=T.message,I=T.cancelButton,C=T.continueButton,_=(0,O.useStore)(),A=(0,c.jz)(_.getState());return E("div",{className:a.Z.container},!A&&E("div",{className:a.Z.closeContainer},E(o.default,{variant:"action",quiet:!0,onClick:function(){y(m.SystemMessage.CLOSE)},icon:E(i.default,{size:"L"}),"data-testid":"closeButton"})),E("div",{className:a.Z.center},E(d.f,{size:"L","data-testid":"externalWorkflowIcon"}),E(s.X6,null,b),E("p",{className:a.Z.message},S),E("div",{className:a.Z.buttonContainer},E(o.default,{variant:"secondary","data-testid":"externalWorkflowCancelButton",onClick:function(){var e=(0,u.W6)("".concat(t).concat(v.ps.COMPLETE_PURCHASE_WEB,":").concat(v.ps.CANCEL),"".concat(v.ps.COMPLETE_PURCHASE_WEB).concat(v.ps.CANCEL));P(e),y(m.SystemMessage.CLOSE)}},I),E(o.default,{variant:"cta","data-testid":"externalWorkflowContinueButton",onClick:function(){var e=(0,u.W6)("".concat(t).concat(v.ps.COMPLETE_PURCHASE_WEB,":").concat(v.ps.GET_STARTED),"".concat(v.ps.COMPLETE_PURCHASE_WEB).concat(v.ps.GET_STARTED));P(e),y(m.SystemMessage.CLOSE,{shouldTriggerLicenseCheck:!0,status:h.WorkflowStatus.ORDER_COMPLETE})}},C))))})),T=n(26075),b=n(45800),S=n(99246),I=n(27261),C=n(76410);function _(){var e=(0,I.Z)(["\n  query UserSubscriptionChangePlanQuery($offerId: ID!, $subscriptionId: ID!) {\n    user {\n      id\n      userSubscription(subscriptionId: $subscriptionId) {\n        id\n        changePlanAllowed(offerId: $offerId)\n      }\n    }\n  }\n"]);return _=function(){return e},e}function A(){var e=(0,I.Z)(["\n  fragment IneligiblePurchaseOrderFragment on Order {\n    marketSegment\n    country\n    cart {\n      cartItems {\n        offerId\n        conflicts {\n          offerId\n          reasonCode\n          subscriptionId\n        }\n      }\n    }\n  }\n"]);return A=function(){return e},e}function w(){var e=(0,I.Z)(["\n  query getOfferForIneligiblePurchaseQuery($offerId: ID!, $country: String!) {\n    offer(id: $offerId, country: $country) {\n      ...IneligiblePurchaseOfferFragment\n    }\n  }\n  ","\n"]);return w=function(){return e},e}function R(){var e=(0,I.Z)(["\n  fragment IneligiblePurchaseOfferFragment on Offer {\n    id\n    commitment\n    term\n    productArrangement {\n      cloud\n      family\n    }\n    offerContent {\n      productName\n      productIconUrls\n    }\n  }\n"]);return R=function(){return e},e}var D=(0,C.Ps)(R()),j=(0,C.Ps)(w(),D),k=(0,C.Ps)(A()),x=(0,C.Ps)(_()),U=function(e,t,n){return e.query({query:j,variables:{offerId:t,country:n}}).then((function(e){return e.data.offer}))},N=n(62482),Z=n(36623),M=n(26265),L=n(809),F=n.n(L),q=n(92447),B=n(38347),H=n(91229),W=n(85564),G=n.n(W),V=n(37244),z=n.n(V),X=n(7585),K=n(61792),$=n(73728),Y=n(61274),Q=n(62452),J=n(85475),ee=r.createElement,te=function(e){return ee(X.a,null,(function(t){return ee(ne,(0,H.Z)({client:t},e))}))},ne=function(e){var t,n=e.client,o=e.openUrl,i=e.onFooterClicked,a=(0,B.Z)(e,["client","openUrl","onFooterClicked"]),u=(0,J.w)(),s=(0,r.useContext)(O.StoreContext),l=(0,O.useStore)(),f=s.getState(),p=(0,c.n$)(f),d=(0,O.useSelector)(Z.NO),v=(0,K.hP)(f),m=(0,K.et)(f),g=null===m||void 0===m?void 0:m.userId,y=(0,Y.d0)(),h=(0,Q.tD)(),E=h.redirect,P=h.cancelUrl,T=null!==o&&void 0!==o?o:E,S=(0,Q.Sd)(),I=n.readFragment({fragment:k,id:"Order:".concat(d),fragmentName:"IneligiblePurchaseOrderFragment"}),C=(0,r.useCallback)(function(){var e=(0,q.Z)(F().mark((function e(t,r){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(n,t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n]),_=(0,r.useCallback)((function(e,t){return function(e,t,n,r){return e.query({query:x,variables:{offerId:t,subscriptionId:n},context:r,fetchPolicy:"network-only"}).then((function(e){var t=(e.data.user||{}).userSubscription;return null===t||void 0===t?void 0:t.changePlanAllowed})).catch((function(){return!1}))}(n,e,t,v?{headers:{authorization:v}}:{})}),[n,v]),A=(0,r.useCallback)(function(){var e=(0,q.Z)(F().mark((function e(t){var r,o;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.FG)(n,t,g,p);case 2:return r=e.sent,o=r.data,e.abrupt("return",{data:o});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,p,g]),w=(0,r.useCallback)(function(){var e=(0,q.Z)(F().mark((function e(t){var n,r,o,i,a,c;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.info("Checking whether user is eligible for I2T upgrade in case of duplicate purchase"),e.next=3,A(t);case 3:if(a=e.sent,c=a.data,!((null===c||void 0===c||null===(n=c.individualToTeamUpgradeOffers)||void 0===n||null===(r=n.activeOffersResult)||void 0===r?void 0:r.filter((function(e){var t,n;return null===e||void 0===e||null===(t=e.offer)||void 0===t||null===(n=t.tags)||void 0===n?void 0:n.includes("ACTIVE_SUBSCRIPTION_I2T_UPGRADEABLE")}))).length>0&&(null===c||void 0===c||null===(o=c.individualToTeamUpgradeOffers)||void 0===o||null===(i=o.upgradeOffersResult)||void 0===i?void 0:i.offers.length)>0)){e.next=9;break}return u.info("Eligible for i2t upgrade as part of duplicate purchase from A.com"),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[A,u]),R=function(e,t,n){var r,o=null===e||void 0===e||null===(r=e.productArrangement)||void 0===r?void 0:r.family,i=n.find((function(e){return(null===e||void 0===e?void 0:e.paFamily)===o}));return t.includes(null===i||void 0===i?void 0:i.id)},D=(0,r.useCallback)(function(){var e=(0,q.Z)(F().mark((function e(t){var n,r,o,i,a,c,s,l,f,d,v,m,O,g,y,h,E;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:f=e.sent,d=f.data,v=null===d||void 0===d||null===(n=d.individualToTeamUpgradeOffers)||void 0===n?void 0:n.activeSubscriptions,m=null===d||void 0===d||null===(r=d.individualToTeamUpgradeOffers)||void 0===r||null===(o=r.activeOffersResult)||void 0===o?void 0:o.map((function(e){return{id:null===e||void 0===e?void 0:e.offer.id,paFamily:null===e||void 0===e?void 0:e.offer.productArrangement.family}})),O=null===d||void 0===d||null===(i=d.individualToTeamUpgradeOffers)||void 0===i||null===(a=i.upgradeOffersResult)||void 0===a?void 0:a.offers,g=null===I||void 0===I||null===(c=I.cart)||void 0===c||null===(s=c.cartItems)||void 0===s?void 0:s.map((function(e){var t;return null===e||void 0===e||null===(t=e.conflicts)||void 0===t?void 0:t.map((function(e){return e.offerId}))})),y=G()(g),h=null===O||void 0===O?void 0:O.map((function(e,t){var n=e.offer;if(t<v.length)return{id:n.id,q:R(n,y,m)?2:1}})).filter((function(e){return void 0!==e})),l={},(0,M.Z)(l,z().app.COUNTRY.name,t),(0,M.Z)(l,z().app.LANGUAGE.name,p),(0,M.Z)(l,z().app.CURRENT_SUBSCRIPTION_IDS.name,v),(0,M.Z)(l,z().app.ITEMS.name,h),E=l,u.info("Redirecting to i2t payment page as part of duplicate purchase from A.com"),S(E);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[A,S,p,I,u]),j=$.j$.IN_WEB,N=null===(t=l.getPersonalizedContentVariationByAEMQueryName)||void 0===t?void 0:t.call(l,"ineligible-purchase-dialogs-list"),L=N?Object.fromEntries(N.split(";").map((function(e){return e.split("=")}))):void 0;return ee($.jO,(0,H.Z)({fetchOffer:C,fetchUserSubscriptionChangeOfferAllowed:_,fetchIndividualToTeamUpgradeAllowed:w,upgradeIndividualToTeam:D,locale:"zh-hant"===p?"zh_TW":p,switchPlanSurface:j,order:I,openUrl:T,onFooterClicked:i,cancelUrl:P,promoCode:null===y||void 0===y?void 0:y[0],variation:L},a))},re=n(56),oe=n(23424),ie=n(37703),ae=r.createElement;function ue(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var se=function(e){var t=e.children,n=(0,T.x)(),o=(0,re.TZ)(),i=(0,m.useCommerceAppContext)().isInApp,a=(0,Q.nV)(),u=(0,r.useState)(!1),c=u[0],s=u[1],l=(0,r.useState)(void 0),f=l[0],d=l[1],v=(0,ie.useSelector)(Z.NO),O=(0,oe.g)([S.R.UC_REDIRECT_ROUTE]),g=(0,r.useCallback)((function(){var e,t,r=n.readFragment({fragment:k,id:"Order:".concat(v),fragmentName:"IneligiblePurchaseOrderFragment"}),o=ue(null===r||void 0===r||null===(e=r.cart)||void 0===e?void 0:e.cartItems);try{for(o.s();!(t=o.n()).done;){var i,a=ue(t.value.conflicts);try{for(a.s();!(i=a.n()).done;){var u=i.value;if(u.reasonCode)return u.reasonCode}}catch(c){a.e(c)}finally{a.f()}}}catch(c){o.e(c)}finally{o.f()}}),[v,n]);function y(e){switch(e){case b.rg.IneligibleSwitch:case b.rg.IneligibleIncluded:case b.rg.IneligibleDuplicateUpgrade:d(p.q.CHANGE_PLAN);break;default:d(void 0)}}return ae(r.Fragment,null,ae(te,{openUrl:i()?function(e){y(g()),s(!0);var t=(0,N.AK)(e,O[S.R.UC_REDIRECT_ROUTE]);a(t)}:void 0,onFooterClicked:i()?function(){y(void 0),s(!0)}:void 0,adobeLaunchAnalytics:o}),c?ae(P,{workflow:f}):t)}},47758:function(e,t,n){"use strict";n.d(t,{h:function(){return a},N:function(){return u}});var r,o=n(19291),i=n(67294);function a(e){var t=e||r||[];return(0,o.Lf)()&&!r&&(r=t),t}function u(e){return(0,i.useMemo)((function(){return a(e)}),[e])}},68370:function(e,t,n){"use strict";n.d(t,{Lh:function(){return a},GP:function(){return u}});var r=n(13311),o=n.n(r),i=n(2385);function a(e,t){var n=[];return t.forEach((function(t){var r=e("offers",t).find((function(n){var r=e("offer",n),o=e("sourceOffer",t);return r.term===(null===o||void 0===o?void 0:o.term)&&r.commitment===(null===o||void 0===o?void 0:o.commitment)}));if(r){var o=e("offer",r);n.push(o.id)}})),n}function u(e){var t=[],n=[];return e.forEach((function(e){var r=function(e){var t=e.commitment,n=e.term,r=e.pricePoint,o=e.language;return t===i.y3.Perpetual?{commitment:t,pricePoint:r,language:o}:{commitment:t,term:n,pricePoint:r,language:o}}(e.offer);o()(t,r)&&!o()(n,r)?n.push(r):t.push(r)})),n}},31549:function(e,t,n){"use strict";n.d(t,{l:function(){return p},q:function(){return d}});var r=n(27261),o=n(30480),i=n(76410);function a(){var e=(0,r.Z)(["\n  fragment CommitmentVariantsOffers on CommitmentVariantsOffersResult {\n    resolvedSourceOfferIds @client\n    result {\n      sourceOfferId\n      sourceOffer {\n        id\n        commitment\n        currency {\n          code\n          delimiterValue\n          formatString\n          precision\n          symbol\n        }\n        customerSegment\n        marketSegments\n        offerType\n        pricePoint\n        productArrangementCode\n        term\n      }\n      offers {\n        offer {\n          id\n          analytics {\n            actionBlockId\n            campaignId\n            containerId\n            controlGroupId\n            treatmentId\n            variationId\n          }\n          appliedPromotions {\n            ...AppliedPromotionFields\n            tncText(locale: $locale)\n            content(locale: $locale) {\n              tncText\n            }\n          }\n          cancellationTerm {\n            termRule {\n              etfPeriod\n              etfUnit\n            }\n          }\n          commitment\n          computedPrice {\n            perMonthWithTax\n            perMonthWithoutTax\n            perYearWithTax\n            perYearWithoutTax\n          }\n          currency {\n            code\n            delimiterValue\n            formatString\n            precision\n            symbol\n          }\n          customerSegment\n          marketSegments\n          marketSegmentAltPrice(\n            input: $offersInput\n            marketSegment: $segmentInput\n          ) {\n            offerPrice {\n              unitPriceWithoutTax\n              unitPriceWithTax\n              discountedUnitPriceWithoutTax\n              discountedUnitPriceWithTax\n              percentDiscount\n            }\n            percentDiscount {\n              percentDiscountWithTax\n              percentDiscountWithoutTax\n            }\n          }\n          materialId\n          offerContent {\n            backgroundImageUrl\n            gettingStartedTemplateUrl\n            fulfillableItems {\n              code\n              description\n              displayCategory\n              iconUrl\n              name\n            }\n            productDescription {\n              plainText\n              json\n            }\n            marketingValues\n            productIconUrl\n            productIconUrls\n            productName\n          }\n          offerPrice {\n            unitPriceWithTax\n            unitPriceWithoutTax\n            discountedUnitPriceWithTax\n            discountedUnitPriceWithoutTax\n            percentDiscount\n          }\n          offerPriceDisplay {\n            displayBaseUnitPrice\n            displayUnitPrice\n            priceDisplay\n            showTaxDisclaimer\n            taxTerm\n          }\n          offerType\n          pricePoint\n          processingInstructions {\n            trial {\n              trialReminderEnabled\n              trialReminderDays\n            }\n            checkout {\n              productArrangementPrimaryType\n            }\n          }\n          productArrangement {\n            cloud\n            code\n            family\n          }\n          productArrangementCode\n          promotion {\n            promotionTerm\n            promotionTermEndDate\n            promotionTermValue\n            promotionType\n          }\n          tags\n          term\n          tncCode\n        }\n        sourceIntent\n      }\n    }\n    sourceIntent\n  }\n  ","\n"]);return a=function(){return e},e}var u=(0,i.Ps)(a(),o.Q),c=n(2385),s=n(90376),l=n(59180);function f(){var e=(0,r.Z)(["\n  query GET_COMMITMENT_VARIANTS_OFFERS(\n    $offersInput: PersonalizedOffersInput!\n    $segmentInput: String!\n    $locale: String!\n  ) {\n    commitmentVariantsOffers(input: $offersInput) {\n      ...CommitmentVariantsOffers\n    }\n  }\n  ","\n"]);return f=function(){return e},e}var p=(0,i.Ps)(f(),u);function d(e){var t=e.country,n=e.locale,r=e.offerIds,o=e.userId,i=e.clientId,a=e.svar,u=e.promotionCodes,f=e.useTestCampaign;return{offersInput:{clientId:i,country:t,locale:n,sourceOfferIds:r,sourceIntent:void 0!==f&&f?l.ph.COMMITMENT_VARIANTS:void 0,svar:a,userId:o,processingInstructions:[s.c.CHECKOUT,s.c.TRIAL],promotionCodes:u},segmentInput:c.ii.Com,locale:n}}},24129:function(e,t,n){"use strict";n.d(t,{s:function(){return r}});var r={ADOBE_ACCESS_TOKEN:"adobeAccessToken",ADOBE_USER_PROFILE:"adobeUserProfile",ADOBE_AUTH_SOURCE:"adobeAuthSource",APP_FEATURES:"features",CLIENT_SESSION_ID:"clientSessionId"}},46576:function(e,t,n){"use strict";n.d(t,{mw:function(){return g},Vk:function(){return P}});var r=n(809),o=n.n(r),i=n(92447),a=n(27261),u=n(76410),c=n(26075),s=n(36623),l=n(61792),f=n(65455),p=n(62452),d=n(37703),v=n(67294),m=n(12510);function O(){var e=(0,a.Z)(["\n  query GET_COUNTRY_CHANGE_ALLOWED {\n    user {\n      id\n      countryChangeAllowed\n    }\n  }\n"]);return O=function(){return e},e}var g="GET_COUNTRY_CHANGE_ALLOWED",y=(0,u.Ps)(O());function h(e,t){return E.apply(this,arguments)}function E(){return(E=(0,i.Z)(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!1,e.prev=1,!n){e.next=7;break}return e.next=5,t.query({query:y,context:{headers:{Authorization:"Bearer ".concat(n)}},fetchPolicy:"no-cache"});case 5:i=e.sent,r=i.data.user.countryChangeAllowed;case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var P=function(){var e=(0,d.useDispatch)(),t=(0,p.KW)(),n=(0,m.useStore)().getState(),r=(0,l.PQ)(n),a=(0,f.mT)(n),u=(0,l.et)(n).countryCode,O=(0,l.hP)(n),g=(0,s.qr)(n),y=(0,c.x)();(0,v.useEffect)((function(){function n(){return(n=(0,i.Z)(o().mark((function n(){var r,i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=!0,i=u&&u!==a,n.t0=!g,!n.t0){n.next=7;break}return n.next=6,h(y,O);case 6:n.t0=n.sent;case 7:r=n.t0,i&&!r&&t(u),e((0,l.oY)(r));case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}r&&function(){n.apply(this,arguments)}()}),[])}},6804:function(e,t,n){"use strict";n.d(t,{Ux:function(){return p},kg:function(){return f}});n(55988);var r=n(73864),o=["Accordion","AccordionItem","Button","ButtonGroup","Card","CardBody","Dropdown","Overlay","OverlayTrigger","Portal","Provider","Search","Select","Selector","Slider","SwitchBase"],i=!1,a=["findDOMNode"],u=n(4497),c=n(19291),s={name:r.APP_NAME,level:u.zq.INFO,remote:!0,remoteUrl:r.APP_LOG_ENDPOINT,method:"POST",flushInterval:500},l=/((Script error)|webkitExitFullScreen)/i;var f=(0,u.YR)(s);function p(){(0,c.Lf)()&&(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=/strict(-| )?mode/gi,r=/Unexpected key "\w+" found in previous state received by the reducer/,u=e.error;e.error=function(c){for(var s,l,f=arguments.length,p=new Array(f>1?f-1:0),d=1;d<f;d++)p[d-1]=arguments[d];if(null!==c&&void 0!==c&&null!==(s=c.match)&&void 0!==s&&s.call(c,r)){if(!i)return i=!0,void(t&&e.warn('Suppressing "Unexpected key found warning from Redux, due to Pandora slice injection"'));if(i)return}if(null!==c&&void 0!==c&&null!==(l=c.match)&&void 0!==l&&l.call(c,n)){var v,m=(null===p||void 0===p||null===(v=p[0])||void 0===v?void 0:v.split(",").map((function(e){return e.trim()})))||[];if(m.length&&!m.filter((function(e){return!o.includes(e)})).length)return;if(a.includes(p[0])&&o.includes(null===p||void 0===p?void 0:p.find((function(e){return e!==p[0]}))))return}u.call.apply(u,[e,c].concat(p))},t&&e.warn("Workaround: Ignoring React strict-mode errors originating from spectrum v2 components. Components: ".concat(o.join(", "),". Methods: ").concat(a.join(", "),"."))}(console,!0),function(e){var t=e.onerror;e.onerror=function(e,n,r,o,i){return l.test(e)||f.error({src:n,ln:r,col:o,error:i,label:"uncaught_error"},e),"function"!==typeof t||t(e,n,r,o,i)}}(window))}},92586:function(e,t,n){"use strict";var r=n(809),o=n.n(r),i=n(92447),a=n(26265),u=n(49675),c=n(41681);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l(l({},e),{},{response:function(e){if(+(null===e||void 0===e?void 0:e.status)>=300)throw e;return e}}),n=(0,u.Z)(t),r=function(){var e=(0,i.Z)(o().mark((function e(t,r){var i,a,u,s,f,p,d=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=d.length>2&&void 0!==d[2]?d[2]:{},a=d.length>3?d[3]:void 0,u=(0,c.ft)(r),s=(0,c.qd)(),f=l(l({},t&&{Authorization:"Bearer ".concat(t)}),i),e.prev=5,e.next=8,n.get("".concat(s,"/ims/coppa/status?client_id=").concat(u.clientId),{logger:a,credentials:"include",headers:f});case 8:return p=e.sent,e.abrupt("return",p);case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}();return l(l({},n),{},{getCoppaStatus:r})}()},47130:function(e,t,n){"use strict";n.d(t,{Z:function(){return d},G:function(){return v}});var r=n(34828),o=n.n(r),i=n(8777),a=n.n(i),u=n(87835),c=n(19291),s=n(49675),l=n(34155),f={keepAlive:!0,timeout:s.L.SOCKET_TIMEOUT};l.env.APP_ENV===u.T.LOCAL&&(f.rejectUnauthorized=!1);var p=(0,c.Lf)()?void 0:new(a().Agent)(f);function d(){return p}function v(){return new(o().Agent)(f)}},92017:function(e,t,n){"use strict";n.d(t,{ON:function(){return f},Uf:function(){return p}});var r=n(59937),o=n.n(r),i=n(73864),a=n(57332),u=new RegExp("^(".concat(o().STORE,")?/?").concat(a.Z.ERROR,"(/)?$")),c=Object.values(i.APP_ENTRIES).join("|"),s=Object.values(o()).join("|"),l=new RegExp("^(".concat(s,")((/)?$|((").concat(c,")(/)?$))"));function f(e){return l.test(e)}function p(e){return u.test(e)}},24626:function(e,t,n){"use strict";n.d(t,{j:function(){return u}});var r=n(67294),o=n(34937),i=n(60718),a=r.createElement,u=function(e){var t=e.content;return a(o.ContentEntryProvider,{value:t,model:i.HQ.queryCollection},a(i.HQ,null))}},49675:function(e,t,n){"use strict";n.d(t,{L:function(){return s},Z:function(){return l}});var r,o=n(26265),i=n(73864),a=n(10982);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.GET="GET",e.POST="POST",e.PUT="PUT"}(r||(r={}));var s={DEFAULT_HTTP_TIMEOUT:i.DEFAULT_HTTP_TIMEOUT,SHORT_HTTP_TIMEOUT:i.SHORT_HTTP_TIMEOUT,SOCKET_TIMEOUT:i.DEFAULT_HTTP_TIMEOUT,IMS_HEALTH_CHECK_TIMEOUT:3e3};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=c({},e),n=(0,a.intercept)(t,a.fetch),o=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n(e,c({timeout:i.DEFAULT_HTTP_TIMEOUT},t)).then((function(e){return e.text().then((function(t){var n=t?JSON.parse(t):{};return r.includeHeaders?{data:n,headers:e.headers}:n}))}))},u=function(e,t,n){return o(e,c({method:r.GET},t),n)},s=function(e,t,n){return o(e,c({method:r.POST},t),n)},l=function(e,t,n){return o(e,c({method:r.PUT},t),n)};return{_fetch:n,get:u,post:s,put:l}}},98207:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Qr},reportWebVitals:function(){return Yr}});var r,o=n(809),i=n.n(o),a=n(26265),u=n(92447),c=n(7544),s=n(37244),l=n.n(s),f=n(67294),p=n(54589),d=n(42861),v=n(16205);!function(e){e.UC="ucv3",e.I2T="i2t"}(r||(r={}));var m,O=n(6804),g=n(24817),y=n(57606),h=n(43928),E=n(99246),P=n(42939),T=n(30223),b=n(60149);!function(e){e.DARK="dark",e.LIGHT="light"}(m||(m={}));var S=n(96029),I=n(65455),C=n(62482),_=n(19291),A=n(30137),w=n(8703),R=n(61792),D=n(92017),j=n(70721),k=n(80827),x=n(42774),U=n(78831),N=n(30488),Z=n(11426),M=n(59937),L=n.n(M),F=n(3490),q=n(46057),B=n(11367),H=(n(37005),n(10975));var W=n(77081),G=n(92586);function V(){return(V=(0,u.Z)(i().mark((function e(t,n){var r,o,a,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:{},o=u.length>3?u[3]:void 0,e.next=4,G.Z.getCoppaStatus(t,n,r,o);case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",z(!!t,a));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t){var n,r,o=null!==(n=null===t||void 0===t?void 0:t.blockCreateAccount)&&void 0!==n&&n,i=null!==(r=null===t||void 0===t?void 0:t.blockLogin)&&void 0!==r&&r;return e?i:o}var X=n(85475),K=n(55988),$=n(12510),Y=function(){var e=(0,$.useStore)(),t=(0,X.w)(),n=(0,F.vM)().setError,r=(0,K.t)().pathname;(0,f.useEffect)((function(){var o=e.getState(),i=(0,W.Gg)(o),a=(0,R.PR)(o),u=function(e){var t=e.clientSessionId,n={};return t&&(n[H.A.name.X_ADOBE_CLIENTSESSION]=t),n}(i),c=(0,S.pP)(o),s=((0,I.dm)(o)||{}).termsOfUseUrl;(0,D.ON)(L().STORE+r)&&function(e,t){return V.apply(this,arguments)}(a.accessToken,c,u,t).then((function(e){e&&n(new q.g("COPPA Error",B.N.FATAL,"COPPA:DEFAULT_FATAL_ERROR",{contentVariables:{termsOfUseUrl:s}}))}))}),[])},Q=n(23424),J=n(62452),ee=n(77974),te=n(57332);function ne(e){return![te.Z.DTM_IFRAME,te.Z.PAYPAL,te.Z.LEARN_MORE_DIALOG,te.Z.CONFIRMATION,te.Z.POST_IMS_WORKFLOW,te.Z.HEALTH,te.Z.PRELOAD,te.Z.LINK_GENERATOR,te.Z.OFFER_VALIDATOR,te.Z.DASHBOARD_IFRAME].includes(e)}var re=n(14157),oe=n(26075),ie=n(2385),ae=n(9556),ue=n(31549),ce=n(36623),se=n(61274),le=n(20236),fe=n(34155),pe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];function r(){var n=(fe.env.TEAMS_SUPPORTED_COUNTRIES||"US").replace(/\s/g,"").split(",");return"US"===t&&!!e||n.includes(t)}return n.includes(E.R.UC_FORCE_TEAMS)||r()&&n.includes(E.R.UC_TEAMS)},de=n(69355),ve=function(){var e=(0,Q.g)([E.R.UC_TEAMS,E.R.UC_FORCE_TEAMS]),t=(0,de.fP)().get(le.e.SHOW_TEAMS_COOKIE),n=(0,$.useSelector)(I.mT);return(0,f.useMemo)((function(){var r=Object.keys(e).filter((function(t){return e[t]}));return pe(t,n,r)}),[e,t,n])};function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge,ye=n(37703),he=function(){var e=(0,ye.useStore)().getState(),t=(0,K.t)().currentRoute,n=(0,S.vl)(e),r=(0,Q.g)([E.R.P_UC_PREVENT_UCV2_REDIRECTION])[E.R.P_UC_PREVENT_UCV2_REDIRECTION],o=!!n[l().app.AFF_PROMO_NAME.name],a=(0,re.k)(),c=function(){var e,t=(0,oe.x)(),n=(0,K.t)().currentRoute,r=(0,$.useSelector)(I.mT),o=(0,$.useSelector)(I.n$),a=null===(e=(0,$.useSelector)(R.et))||void 0===e?void 0:e.userId,c=(0,$.useSelector)(Z.tT),s=(0,$.useSelector)(ce.Jm),p=(0,$.useSelector)(S.wT),d=(0,$.useSelector)(S.vl)[l().app.CLIENT_ID.name],v=(0,$.useSelector)(S.vl)[l().app.SVAR.name],m=(0,Q.g)(E.R.P_UC_USE_TEST_CAMPAIGNS)[E.R.P_UC_USE_TEST_CAMPAIGNS],O=(0,se.d0)(),g=ve(),y=(0,f.useState)(!0),h=y[0],P=y[1];return(0,f.useEffect)((function(){var e=!0;function l(){return(l=(0,u.Z)(i().mark((function u(){var l,f,y,h,E,T,b,S,I,C;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(l=[],s&&l.push(s),n===te.Z.COMMITMENT&&l&&p&&!l.includes(p)&&l.push(p),!(l.length>0&&r)){i.next=11;break}return f={clientId:d,country:r,locale:o,promotionCodes:O,svar:v,userId:a,useTestCampaign:m},y=n===te.Z.BUNDLE?(0,ae.DA)(Oe(Oe({},f),{},{offerIds:c?[c]:l})):(0,ue.q)(Oe(Oe({},f),{},{offerIds:l})),h=n===te.Z.BUNDLE?ae.d7:ue.l,i.next=9,t.query({query:h,variables:y});case 9:E=i.sent,e&&(S=n===te.Z.BUNDLE?"bundleOffers":"commitmentVariantsOffers",(I=null===E||void 0===E||null===(T=E.data)||void 0===T||null===(b=T[S])||void 0===b?void 0:b.result).length||n===te.Z.BUNDLE||n===te.Z.RECOMMENDATION?(C=I.find((function(e){var t;return null===e||void 0===e||null===(t=e.offers)||void 0===t?void 0:t.find((function(e){var t,n,r,o;return(null===e||void 0===e||null===(t=e.offer)||void 0===t||null===(n=t.pricePoint)||void 0===n?void 0:n.includes("PROMO_AFFINITY"))||(null===e||void 0===e||null===(r=e.offer)||void 0===r?void 0:r.commitment)===ie.y3.Perpetual||(null===e||void 0===e||null===(o=e.offer)||void 0===o?void 0:o.customerSegment)===ie.op.Team&&!g}))})),P(!C)):P(!1));case 11:case"end":return i.stop()}}),u)})))).apply(this,arguments)}return n!==te.Z.SEGMENTATION&&ne(n)?function(){l.apply(this,arguments)}():P(!0),function(){e=!1}}),[p,t,d,r,n,g,o,O,s,c,v,a,m]),h}();return!(!ne(t)||r)&&((0,R.D7)(e)||!c&&!a||o)},Ee=n(36015),Pe=f.createElement;!function(e){e.MEDIUM="medium",e.LARGE="large"}(ge||(ge={}));var Te=function(e){var t=(0,ye.useSelector)(I.wJ),n=(0,ye.useStore)().getState(),r=(0,I._2)(n),o=(0,S.vl)(n),i=(0,I.eX)(n),a=(0,X.w)();Y();var u=(0,Q.g)([E.R.UC_FORCE_SEGMENTATION_CHALLENGER,E.R.UC_NEW_USER_IFRAME]);(0,Z.Nk)();var c=(0,ee.p)(),s=c.handleInAppRestartWorkflow,p=c.isInAppUnauth,d=(0,N.useCommerceAppContext)(),v=d.emitMessage,O=d.isInApp,g=d.isInIframe,M=(0,ye.useSelector)(R.PQ),L=(0,K.t)().currentRoute,F=!M&&g(),q=(0,J.eR)(k.N$.EXTERNAL);(0,f.useEffect)((function(){if(!p()||(0,D.Uf)(L)||i){if(F&&!(0,D.Uf)(L)&&!u[E.R.UC_NEW_USER_IFRAME]){a.info("Redirecting unauthenticated iframe user");var e=(0,C.tl)(o,L);q(e),v(N.SystemMessage.CLOSE,{status:Ee.WorkflowStatus.ORDER_INCOMPLETE})}}else s()}),[]);var B=(0,J.eR)(),H=(0,J.nV)(),W=(0,J.eR)(k.N$.SWITCH),G=he();(0,f.useEffect)((function(){if(G){var t=(0,C.XU)((0,_.$5)(o,null===e||void 0===e?void 0:e.segmentationOfferId));O()?H(t):g()?W(t):B(t)}}),[G]);var V=(0,ye.useSelector)(S.By)===l().app.LAYOUT.values.SLIM,z=(0,ye.useSelector)(S.F5)===l().app.THEME.values.CCX,$=g()&&V&&z,te=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:l().app.SPECTRUM_THEME.values.DEFAULT){case l().app.SPECTRUM_THEME.values.LIGHT:return P.r;case l().app.SPECTRUM_THEME.values.DARK:return T.r;default:return b.r}}((0,ye.useSelector)(S.Vg)),ne=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:l().app.SPECTRUM_COLOR_SCHEME.values.LIGHT)===l().app.SPECTRUM_COLOR_SCHEME.values.DARK?m.DARK:m.LIGHT}((0,ye.useSelector)(S.jG));return Pe(U.HK,null,Pe(y.default,{typekitId:t||"nil6fkt",theme:"light",scale:ge.MEDIUM,className:"".concat($?h.Z.ucv3SpectrumWrapperForCcxModal:h.Z.ucv3SpectrumWrapper)},Pe(x.Provider,{theme:te,colorScheme:ne,locale:r,scale:ge.MEDIUM},Pe(f.Fragment,null,G||(p()||F&&!u[E.R.UC_NEW_USER_IFRAME])&&!i?G&&O()?Pe(A.b,{workflow:w.q.UNSUPPORTED_COUNTRY}):Pe(j.a,{delay:300}):e.children))))},be=n(27261),Se=n(76410);function Ie(){var e=(0,be.Z)(["\n  fragment TrialConversionData on User {\n    canConvertBusinessTrial(items: $items) {\n      convertible\n      trialContractId\n      trialUsersCount\n      organizationName\n      organizationId\n    }\n  }\n"]);return Ie=function(){return e},e}function Ce(){var e=(0,be.Z)(["\n  query CHECK_TRIAL_CONVERSION($items: [CartItemInput!]!) {\n    user {\n      id\n      canConvertBusinessTrial(items: $items) {\n        convertible\n        organizationId\n        organizationName\n        trialContractId\n        trialUsersCount\n      }\n    }\n  }\n"]);return Ce=function(){return e},e}var _e=(0,Se.Ps)(Ce()),Ae=((0,Se.Ps)(Ie()),n(45800));function we(){var e=(0,be.Z)(["\n      fragment MyOffer on PersonalizedOffer {\n        offer {\n          customerSegment\n        }\n      }\n    "]);return we=function(){return e},e}var Re="serverside_redirect";function De(e,t){var n=t.readFragment({id:"PersonalizedOffer:UC_COMMITMENT_VARIANTS:".concat(e),fragment:(0,Se.Ps)(we())});return(null===n||void 0===n?void 0:n.offer.customerSegment)===Ae.op.Team}function je(e){return(0,S.yq)(e)[0]}function ke(e,t,n){return xe.apply(this,arguments)}function xe(){return(xe=(0,u.Z)(i().mark((function e(t,n,r){var o,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=n.accessToken,e.next=3,t.query({query:_e,variables:{items:{offerId:r,quantity:1}},context:{headers:(0,a.Z)({},H.A.name.AUTHORIZATION,u)}});case 3:return c=e.sent,e.abrupt("return",null===(o=c.data)||void 0===o?void 0:o.user.canConvertBusinessTrial);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e,t){null===e||void 0===e||e.writeHead(302,{Location:t}),null===e||void 0===e||e.end()}function Ne(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,u.Z)(i().mark((function e(t,n){var r,o,a,u,c,s,f,p,d,v,m,O,g,y,h,E,P,T,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.res,o=n.apolloClient,a=n.features,u=(0,I.mT)(t),!0,c={convertible:!1},!pe(true,u,a)){e.next=14;break}if(s=je(t),!De(s,o)){e.next=14;break}if(!(0,R.H0)(t)){e.next=14;break}return f=(0,R.PR)(t),e.next=12,ke(o,f,s);case 12:(c=e.sent).convertible||(m=(0,I.dm)(t),O=m.teamAdminConsoleUrl,g=m.teamAdminConsoleAddProductsUrl,y=null===f||void 0===f||null===(p=f.profile)||void 0===p||null===(d=p.roles)||void 0===d||null===(v=d.find((function(e){return e&&e.organization})))||void 0===v?void 0:v.organization,h=(0,S.vl)(t)[l().app.ITEMS.name],E=O,y&&null!==h&&void 0!==h&&h.length&&g&&(P=g.replace("{adminOrgId}",y),T=P.includes("?")?"&":"?",b=(0,C.tW)({items:h}),E="".concat(P).concat(T).concat(b)),n.logger.info({label:Re},"Team Admin redirected to Admin Console"),Ue(r,E));case 14:return e.abrupt("return",c);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Me=n(49452),Le=n(22584),Fe=n(24626),qe=n(20544);function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var He=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,W.Of)(e))},We=(n(91229),n(38347)),Ge=(n(9008),n(14255)),Ve=n(59508),ze=n(46706),Xe=n(79725),Ke=n(87835),$e=n(3810),Ye=n(46576),Qe=n(73864),Je=n(70734),et=n(10982),tt=n(47130);function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot=[$e.m,Ye.mw,Je.m],it={request:function(e,t){var n,r;if(null!==(n=t)&&void 0!==n&&n.body)try{var o,i;r=JSON.parse(t.body.toString()),ot.includes(null===(o=r)||void 0===o?void 0:o.operationName)&&(t=rt(rt({},t),{},{timeout:Qe.SHORT_HTTP_TIMEOUT})),t.logMeta={},null!==(i=r)&&void 0!==i&&i.operationName&&(t.logMeta.operationName=r.operationName)}catch(a){}return[e,t]}};var at=n(13984),ut=n(44586);function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt=function(e){var t=e.getState(),n=e;return new ze.i((function(e,r){return e.setContext((function(e){var r,o,i=e.headers;return{headers:st(st((o={},(0,a.Z)(o,H.A.name.X_REQUEST_ID,(0,ut.Z)()),(0,a.Z)(o,H.A.name.X_ADOBE_CLIENTSESSION,(0,W.Oy)(t)),(0,a.Z)(o,H.A.name.X_CONTENT_VARIATION,(null===(r=n.getPersonalizedContentVariationByAEMQueryName)||void 0===r?void 0:r.call(n,"product-content"))||""),o),(0,S.kk)(t)&&(0,a.Z)({},H.A.name.X_ADOBE_TEST_FLAG,(0,S.kk)(t))),i)}})),r(e)}))},ft=function(e,t){return(0,at.q)((function(n){var r,o=n.graphQLErrors,i=n.operation,u=i.getContext(),c=(0,a.Z)({},H.A.name.X_REQUEST_ID,null===(r=u.headers)||void 0===r?void 0:r[H.A.name.X_REQUEST_ID]);null!==o&&void 0!==o&&o.length&&o.forEach((function(n){var r=n.message,o=n.extensions;e.error(st(st({},t),{},{headers:c,operationName:i.operationName,code:null===o||void 0===o?void 0:o.code,message:r}))}))}))},pt=n(59831);function dt(e){var t=function(e){if((0,qe.D)()!==Ke.T.PRODUCTION)return(0,S.vl)(e.getState())[l().app.CHAOS.name]}(e),n=function(e){return(0,S.vl)(e.getState())[l().app.ADD_FEATURES.name]}(e),r=(0,a.Z)({},H.A.name.X_API_KEY,function(e){var t=(0,S.pP)(e.getState());return(0,pt.Pi)(t)}(e));return t&&(r[H.A.name.X_CHAOS_FOR]=t),n&&(r[H.A.name.X_ADOBE_FEATURES]=n),r}var vt,mt=n(41681),Ot=n(68370),gt={Query:{fields:{order:{keyArgs:["id"],read:function(e,t){var n=t.args;return(0,t.toReference)({__typename:"Order",id:n.id})}},validPayments:{merge:!1},commitmentVariantsOffers:function(e,t){var n=t.args.input.sourceOfferIds.map((function(e){return t.toReference("CommitmentVariantsOffers:".concat(e))}));return n.every((function(e){return t.canRead(e)}))?{result:n,sourceIntent:ie._6.UcCommitmentVariants,__typename:"CommitmentVariantsOffersResult"}:e}}},AppliedPromotion:{keyFields:!1},BundleOffersResult:{fields:{resolvedSourceOfferIds:function(e,t){var n=t.readField,r=n("result");return(0,Ot.Lh)(n,r)}}},CommitmentVariantsOffersResult:{fields:{resolvedSourceOfferIds:function(e,t){var n=t.readField,r=n("result");return(0,Ot.Lh)(n,r)}}},CommitmentVariantsOffers:{keyFields:function(e){return"CommitmentVariantsOffers:".concat(e.sourceOfferId)}},PersonalizedOffer:{keyFields:function(e){return"PersonalizedOffer:".concat(e.sourceIntent,":").concat(e.offer.id)}},Offer:{keyFields:!1},Order:{fields:{cartPrice:{merge:!1},paymentInstrument:{merge:!1}}},Mergeable:{merge:!0}},yt={Mergeable:["CommitmentVariantsOffersResult","ComputedPrice","Currency","FulfillableItem","MultiformatText","Offer","OfferContent","OfferPrice","PersonalizedOfferAnalytics","ProductArrangement","Promotion"]},ht=n(34155),Et=(f.createElement,null);var Pt=!(0,_.Lf)()&&(parseInt(ht.env.PORT,10)||3e3),Tt=(vt={localhost:"http://localhost:".concat(Pt).concat(L().STORE,"/graphql")},(0,a.Z)(vt,Ke.T.LOCAL,"https://localhost.adobe.com".concat(L().STORE,"/graphql")),(0,a.Z)(vt,Ke.T.STAGE,"https://commerce-stg.adobe.com".concat(L().STORE,"/graphql")),(0,a.Z)(vt,Ke.T.PRODUCTION,"https://commerce.adobe.com".concat(L().STORE,"/graphql")),vt),bt="apollo-client";function St(e,t){var n,r,o=!(0,_.Lf)(),i=function(e){return{apolloFetch:(0,et.intercept)(it,et.fetch),apolloFetchOptions:rt(rt({},!(0,_.Lf)()&&{agent:(0,tt.G)()}),{},{logger:e,timeout:Qe.DEFAULT_HTTP_TIMEOUT})}}(e),a=i.apolloFetch,u=i.apolloFetchOptions,c=(null!==(n=null===(r=t.getState().queryParams)||void 0===r?void 0:r.params)&&void 0!==n?n:{})[l().app.CTX.name],s=(0,mt.$M)(c),f=new Ge.u({uri:o?Tt.localhost:Tt[(0,qe.D)()],credentials:"same-origin",fetchOptions:u,fetch:a,headers:dt(t)});return new Ve.f({ssrMode:o,link:ze.i.from([lt(t),ft(e,{label:bt}),f]),name:s,version:"1.0.0",cache:new Xe.h({possibleTypes:yt,typePolicies:gt}),defaultOptions:{query:{errorPolicy:"all"},watchQuery:{errorPolicy:"all"}}})}function It(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=null!==(e=Et)&&void 0!==e?e:St(n,r);return t&&o.cache.restore(t),Et||(Et=o),o}var Ct,_t=n(28140),At=n(53309),wt=n(57663),Rt=n(298),Dt=["REMOVE_ITEM","SET_TAX_ID_SUPPORTED","UPDATE_ORDER"],jt=function(e,t){switch(t){case"REMOVE_ITEM":(0,Rt.B2)(e.getState(),!0,"REMOVE_ITEM");break;case"SET_TAX_ID_SUPPORTED":(0,Rt.B2)(e.getState(),!1,"SET_TAX_ID_SUPPORTED");break;case"UPDATE_ORDER":(0,Rt.B2)(e.getState(),!0,"UPDATE_ORDER")}},kt=function(e,t,n){return function(r){return function(o){return function(i){var a=o(i);try{var u=i.type;u.includes("/")&&(u=u.split("/")[1]),e.includes(u)&&t(r,u)}catch(q){n.error({error:q,label:"analytics"})}return a}}}},xt=n(84363),Ut=n(38676),Nt=n(80605);function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lt,Ft="paypalState",qt="SET_PAYPAL_RETURN_STATE",Bt="SET_PAYPAL_RETURN_LOADING_STATE",Ht={isPaypalReturn:!1,isPaypalReturnLoading:!1},Wt=(Ct={},(0,a.Z)(Ct,qt,(function(e,t,n){return Mt(Mt({},n),{},{isPaypalReturn:t.payload})})),(0,a.Z)(Ct,Bt,(function(e,t,n){return Mt(Mt({},n),{},{isPaypalReturnLoading:t.payload})})),Ct),Gt=(0,Nt.Db)(qt),Vt=(0,Nt.Db)(Bt),zt=function(e,t){var n=e.createSlice(Ft,Wt,t||Ht);return function(e,t){return{getPaypalReturnState:function(){return e.getState().paypalState.isPaypalReturn},getPaypalReturnLoadingState:function(){return e.getState().paypalState.isPaypalReturnLoading},setPaypalReturnState:function(e){return t(Gt(e))},setPaypalReturnLoadingState:function(e){return t(Vt(e))}}}(e,n.dispatch)},Xt=n(40705),Kt=n(20573);function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qt,Jt,en="queryParams",tn="SET_QUERY_PARAMS",nn="SET_STARTING_STEP",rn="SET_STEP_WIZARD_COOKIE",on={params:void 0},an=(Lt={},(0,a.Z)(Lt,tn,(function(e,t){return{params:Yt({},t.payload)}})),(0,a.Z)(Lt,nn,(function(e,t,n){return{params:Yt(Yt({},n.params),{},{ss:t.payload})}})),(0,a.Z)(Lt,rn,(function(e,t,n){return{params:Yt(Yt({},n.params),{},{swc:t.payload})}})),Lt),un=(0,Nt.Db)(tn),cn=(0,Nt.Db)(nn),sn=(0,Nt.Db)(rn),ln=function(e){var t;return null===(t=e.queryParams)||void 0===t?void 0:t.params},fn=(0,Kt.P1)([ln],(function(e){return Yt({},e)})),pn=(0,Kt.P1)([ln],(function(e){return(null===e||void 0===e?void 0:e[l().app.CTX.name])||""})),dn=(0,Kt.P1)([ln],(function(e){var t;return(null===e||void 0===e||null===(t=e[l().app.ITEMS.name])||void 0===t?void 0:t.map((function(e){return e.id})))||[]})),vn=(0,Kt.P1)([ln],(function(e){return null===e||void 0===e?void 0:e[l().app.ORIGINAL_OFFER_ID.name]})),mn=(0,Kt.P1)([ln],(function(e){var t;return(null===e||void 0===e||null===(t=e[l().app.RECOMMENDATION_REQUEST_ITEMS.name])||void 0===t?void 0:t.map((function(e){return e.id})))||[]})),On=(0,Kt.P1)([ln],(function(e){return null===e||void 0===e?void 0:e[l().app.STEP_WIZARD_COOKIE.name]})),gn=function(e,t){return{getQueryParams:function(){return fn(e.getState())},getApplicationContext:function(){return pn(e.getState())},getQueryParamsOfferIds:function(){return dn(e.getState())},getQueryParamsOriginalOfferId:function(){return vn(e.getState())},getQueryParamsRecommendationRequestOfferIds:function(){return mn(e.getState())},getStepWizardCookieParam:function(){return On(e.getState())},getAtfParam:function(){return function(e){var t,n;return null===(t=e.queryParams)||void 0===t||null===(n=t.params)||void 0===n?void 0:n[l().app.ADOBE_TEST_FLAGS.name]}(e.getState())},getCtxReturnUrl:function(){return function(e){var t,n;return null===(t=e.queryParams)||void 0===t||null===(n=t.params)||void 0===n?void 0:n[l().app.CTX_RETURN_URL.name]}(e.getState())},setQueryParams:function(e){return t(un(e))},setStartingStep:function(e){return t(cn(e))},setStepWizardCookieParam:function(e){return t(sn(e))}}};function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var En=(0,Ut.combineReducers)((Qt={},(0,a.Z)(Qt,ce.fu,ce.ZP),(0,a.Z)(Qt,"configurationData",I.ZP),(0,a.Z)(Qt,"fingerprint",At.ZP),(0,a.Z)(Qt,"paypalState",wt.ZP),(0,a.Z)(Qt,"queryParams",S.ZP),(0,a.Z)(Qt,W.wC,(function(e){return e||null})),(0,a.Z)(Qt,"user",R.ZP),Qt)),Pn=function(e,t){return Jt||(Jt=Tn(e,t)),Jt},Tn=function(e,t){var n=[].concat((0,_t.Z)((0,xt.Bx)({thunk:!1,immutableCheck:{ignoredPaths:["stepWizard"]}})),[kt(Dt,jt,t)]),r=(0,xt.xC)({reducer:function(e){return e},preloadedState:e,middleware:n,enhancers:[bn]});return r.reducerHub.addReducer(En),r},bn=function(e){return function(t,n){var r=n.paypalState,o=n.queryParams,i=n.personalizedContent,a=(0,We.Z)(n,["paypalState","queryParams","personalizedContent"]),u=(0,Nt.iD)(e)(t,a),c=zt(u,r),s=function(e,t){var n=e.createSlice(en,an,t||on).dispatch;return gn(e,n)}(u,o),l=(0,Xt.vZ)(u,i);return hn(hn(hn(hn({},u),l),c),s)}};var Sn=n(47758),In=n(97127),Cn=n(24166),_n=n(5764),An=f.createElement,wn=function(e){var t=e.children;return An(_n.en,{initWizardStepNames:In.Z4,children:t})},Rn=function(e){var t=e.children;return An(_n.en,{initWizardStepNames:In.fT,children:t})},Dn=n(19014),jn=n(57876),kn=n(29843);function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nn=["navigationStart","fetchStart","requestStart","responseStart","responseEnd","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],Zn="app:mounted",Mn=/TypeKitCss:wf/i,Ln="AdjustedTTDI";function Fn(e,t,n,r){var o=window.performance;if(null!==o&&void 0!==o&&o.getEntriesByType){o.mark&&o.measure&&(o.mark(Zn),o.measure("PT",void 0,"fetchStart"),o.measure("AdjustedTTI","fetchStart",Zn));var i=function i(){var u=o.getEntriesByType("mark").some((function(e){return Mn.test(e.name)}));window.removeEventListener("load",i),setTimeout((function(){var i;o.measure&&o.measure(Ln,"fetchStart","domInteractive");var u=function(e){var t,n=null===(t=e.getEntriesByType("navigation"))||void 0===t?void 0:t[0];if(n)return Nn.slice(1).reduce((function(e,t){var r;return e[t]=null!==(r=Math.round(n[t]))&&void 0!==r?r:"-",e}),{navigationStart:0});if(null!==e&&void 0!==e&&e.timing){var r=e.timing[Nn[0]];return Nn.reduce((function(t,n){return t[n]=e.timing[n]?e.timing[n]-r:"-",t}),{})}return{}}(o),c=function(e){var t=e.getEntriesByType("paint");return null===t||void 0===t?void 0:t.reduce((function(e,t){return e[t.name]=Math.round(t.startTime),e}),{})}(o),s=function(e){var t=e.getEntriesByType("mark");return null===t||void 0===t?void 0:t.reduce((function(e,t){return e[t.name]=Math.round(t.startTime),e}),{})}(o),l=function(e){var t=e.getEntriesByType("measure");return null===t||void 0===t?void 0:t.reduce((function(e,t){return e[t.name]=Math.round(t.duration),e}),{})}(o),f=s["TypeKitCss:wf-active"]||s["TypeKitCss:wf-inactive"],p=Math.round(f-function(e,t){var n,r=null===(n=e.getEntriesByType("navigation"))||void 0===n?void 0:n[0];return r?r[t]:e.timing?e.timing[t]-e.timing.navigationStart:void 0}(o,"fetchStart")),d=Math.max(p,l.AdjustedTTDI);e.info({auth:t,type:"perf",label:"timing",marks:s,timing:u,measures:Un(Un({},l),{},(i={},(0,a.Z)(i,Ln,d),(0,a.Z)(i,"TypeKitCss:ready",p),i)),paintTimes:c,realDocumentReferrer:(0,kn.H)(n),preloadUsed:!(null===r||void 0===r||!r.get(le.e.PRELOAD_COOKIE))})}),u?100:3e3)};"complete"===document.readyState?i():window.addEventListener("load",i)}}function qn(e){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(i().mark((function e(t){var n,r,o,a,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.req,r=t.res,o=t.store,a=n.configurationData||{},u=r.userDevice,c=r.userId,o.dispatch((0,I.Qo)(a)),o.dispatch((0,R.cL)(u)),c&&o.dispatch((0,R.Iv)(c));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hn,Wn=n(32292),Gn=n(27361),Vn=n.n(Gn),zn=n(69328),Xn=n.n(zn);!function(e){e.TYPE1="type1",e.TYPE2="type2",e.TYPE2E="type2e",e.TYPE3="type3"}(Hn||(Hn={}));var Kn=n(52608),$n=n(68929),Yn=n.n($n),Qn=n(51584),Jn=n.n(Qn),er=n(81763),tr=n.n(er),nr=n(47037),rr=n.n(nr);function or(e){return ir(e,Yn())}function ir(e,t){if(void 0!==e&&null!==e){var n=Array.isArray(e)?[]:{};if(rr()(e)||tr()(e)||Jn()(e))return e;for(var r in e)n[Array.isArray(e)?r:t.call(this,r)]=ir(e[r],t);return n}}var ar=n(19547),ur=n(19529),cr=function(){var e=(0,u.Z)(i().mark((function e(t,n){var r,o,a,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:{},o=u.length>3?u[3]:void 0,e.next=4,ur.Z.getImsAccessToken(t,n,r,o);case 4:return a=e.sent,e.abrupt("return",or(a));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),sr=n(93719),lr=function(){var e=(0,u.Z)(i().mark((function e(t,n){var r,o,a,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:{},o=u.length>3?u[3]:void 0,e.next=4,ur.Z.getImsProfileAndToken(t,n,r,o);case 4:return a=e.sent,e.abrupt("return",or(a));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fr=n(75295);function pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vr=function(){var e=(0,u.Z)(i().mark((function e(t,n){var r,o,a,u,c,s,l,f,p,d,v=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=v.length>2&&void 0!==v[2]?v[2]:{},o=v.length>3?v[3]:void 0,e.next=4,(0,fr.Y)(r,o);case 4:return a=e.sent,e.next=7,ur.Z.getImsProfileAndTokenFromImplicitJumpToken(t,a,n,r,o);case 7:return u=e.sent,c=u.data,s=u.headers,l=or(c),f=l.profile,p=(0,We.Z)(l,["profile"]),d=dr(dr({},p),f),e.abrupt("return",{profileAndToken:d,headers:s});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),mr=n(24129);function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var gr="IMS Authentication";function yr(e){return!!e.store.getState().user.accessToken}function hr(e){return e.store.getState().user.unsupportedAccountType}function Er(e,t,n){Pr(e,n),e.store.dispatch((0,R.Iv)(void 0))}function Pr(e,t){e.req.query&&(delete e.req.query[l().IMS.CODE],delete e.req.query[l().IMS.ERROR],delete e.req.query[l().IMS.IJT],delete e.req.query[l().IMS.STATE]),e.store.dispatch((0,S.BT)(e.req.query));var n=(0,C.tW)(e.req.query),r="".concat(t.pathname,"?").concat(n);e.req.url=r}function Tr(e){var t,n=null!==(t=e.req.socket.remoteAddress)&&void 0!==t?t:"",r=e.req.headers[H.A.name.X_FORWARDED_FOR];return n=(null!==r&&void 0!==r?r:n).split(",")[0]}function br(e,t){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,u.Z)(i().mark((function e(t,n){var r,o,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.req.logger,o=n.res[mr.s.CLIENT_SESSION_ID],u=(0,a.Z)({},H.A.name.X_ADOBE_CLIENTSESSION,o),e.next=5,lr(t,(0,g.pP)(n),u,r);case 5:Rr(e.sent,n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ir(e,t,n){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,u.Z)(i().mark((function e(t,n,r){var o,u,c,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.req.logger,u=n.res[mr.s.CLIENT_SESSION_ID],c=(0,a.Z)({},H.A.name.X_ADOBE_CLIENTSESSION,u),(0,qe.D)()!==Ke.T.LOCAL&&(c[H.A.name.X_CIP]=Tr(n)),e.next=6,vr(t,(0,g.pP)(n),c,o);case 6:s=e.sent,l=s.headers,Rr(s.profileAndToken,n,r,l);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _r(e){if(!e){throw"INVALID_AUTH_CODE"}}function Ar(e,t,n){return wr.apply(this,arguments)}function wr(){return(wr=(0,u.Z)(i().mark((function e(t,n,r){var o,u,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _r(t),u=n.req.logger,c=n.res[mr.s.CLIENT_SESSION_ID],o={},(0,a.Z)(o,H.A.name.X_ADOBE_CLIENTSESSION,c),(0,a.Z)(o,H.A.name.X_CIP,Tr(n)),s=o,e.next=6,cr(t,(0,g.pP)(n),s,u);case 6:Rr(e.sent,n,r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rr(e,t,n,r){if(e){var o=e.accessToken,i=(e.refreshToken,e.expiresIn,e.tokenType,(0,We.Z)(e,["accessToken","refreshToken","expiresIn","tokenType"]));i.accountType===Hn.TYPE1?(function(e,t,n){n.store.dispatch(or((0,R.$l)(t))),n.store.dispatch((0,R.M8)(e))}(o,i,t),function(e,t){try{if(e){var n=(0,Kn.buildCookies)(t.req,t.res),r=Xn().splitCookiesString(e.get(H.A.name.SET_COOKIE));Xn().parse(r,{map:!1}).forEach((function(e){var t=e.name,r=e.value,o=(0,We.Z)(e,["name","value"]);n.set(t,r,ar.CookieTypes.REQUIRED,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o))}))}}catch(q){t.req.logger.warn({error:q,label:gr},"Set Cookie Failed")}}(r,t)):t.store.dispatch((0,R.fK)(!0)),n&&Pr(t,n)}}function Dr(e){var t=e.req.url.split("?"),n=(0,Wn.Z)(t,2),r=n[0],o=n[1];return{pathname:r,urlParams:(0,C.rz)(o)}}function jr(e){return kr.apply(this,arguments)}function kr(){return(kr=(0,u.Z)(i().mark((function e(t){var n,r,o,a,u,c,s,f,p,d,v,m,O;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,Kn.buildCookies)(t.req,t.res),r=n.getAll(),o=Dr(t),a=r[le.e.AUX_SID_COOKIE],u=o.urlParams[l().IMS.CODE],c=void 0!==u,s=o.urlParams[l().IMS.IJT],f=!!o.urlParams[l().IMS.ERROR],p="",e.prev=9,!s){e.next=16;break}return p="ijt",e.next=14,Ir(s,t,o);case 14:e.next=35;break;case 16:if(!c){e.next=22;break}return p=u?"code":"blank",e.next=20,Ar(u,t,o);case 20:e.next=35;break;case 22:if(!f){e.next=27;break}p="error",Er(t,0,o),e.next=35;break;case 27:if(!a){e.next=33;break}return p="cookie",e.next=31,br(a,t);case 31:e.next=35;break;case 33:p="none",Er(t,0,o);case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(9),Er(t,0,o);case 40:if(Vn()(t,"req.headers.referer","").startsWith((0,mt.qE)())&&(p+="-susi"),t.store.dispatch((0,R.rZ)(p)),!hr(t)){e.next=45;break}return e.abrupt("return");case 45:yr(t)||(d=(0,sr.zl)(n),v=d.email,m=void 0===v?"":v,O=d.emailStatus,t.store.dispatch((0,R.Ux)(m)),t.store.dispatch((0,R.Or)(O)));case 46:case"end":return e.stop()}}),e,null,[[9,37]])})))).apply(this,arguments)}var xr,Ur,Nr=f.createElement,Zr=function(){return Nr("script",{type:"text/javascript",async:!0,integrity:"sha512-dV4VBuHVYjLTTLU2lI7lK7lBFIDgO0qmWB8pJMgq9HYeYv2BOhGmL4X0W4bO+zHxdHX9ZqIBnGP78feYg1EQDQ==",src:"https://cdnssl.clicktale.net/ss/4451/df7e164d-c711-4376-a4c8-8b364d648be0/14/uxa.js",crossOrigin:"anonymous",defer:!0})},Mr=n(54214),Lr=n(3168),Fr=f.createElement,qr=function(e){var t=e.apiKey,n=e.children;return Fr(Lr.vQ,{loadOptions:{apiKey:t}},n)},Br=n(56),Hr=f.createElement;function Wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,O.Ux)();var Vr=function(e){var t=e.Component,n=e.pageProps,o=e.apolloClient,i=e.features,a=e.initialApolloState,u=e.initialStoreState,c=e.logger;(0,_.Lf)()&&!c&&(c=O.kg);var s=function(e,t){return(0,f.useMemo)((function(){return Pn(e,t)}),[e,t])}(u,c),m=function(e,t,n){return(0,f.useMemo)((function(){return It(e,t,n)}),[e,t,n])}(a,c,s),g=(0,Sn.N)(i),y=(0,Br.TZ)(),h=(0,I.mT)(u),P=(0,I.n$)(u),T=(0,K.t)();xr=Ur,Ur=T.currentRoute,m=o||m;var b="local"===(0,qe.D)()?Le.S3.STAGE:(0,qe.D)(),C=(0,R.Yw)(u),w=(0,W.YL)(u),D=(0,de.fP)(),j=[te.Z.PRELOAD,te.Z.LINK_GENERATOR].includes(Ur);(0,f.useEffect)((function(){j||Fn(c,C,w,D)}),[]);var k,x=(k=T.currentRoute,(0,Cn.sr)(k)===In.CF.I2T?wn:Rn),U=g.includes(E.R.P_UC_APP_CONTEXT_LOCAL_DEV),N=g.includes(E.R.P_UC_ENABLE_PLACEHOLDER_CONTENT)||(0,qe.D)()===Le.S3.LOCAL,Z={includeStoreProvider:!0,includeAnalyticsProvider:!j,usePlaceholderContent:N},M="ucv3",L=(0,Dn.Xx)(Ur)?r.I2T:r.UC,F=g.includes(E.R.UC_TRIAL_ABUSE_FINGERPRINT);var q,B=function(){var e=(0,S.vl)(s.getState()),t=e[l().app.CLIENT_ID.name],n=e[l().app.CTX.name],r=p.F.get(n);return{appName:L,clientId:t,hostCtxId:r}}();U&&(q={openUrl:function(){}});var H=Hr(f.Fragment,null,Hr(Te,{segmentationOfferId:null===n||void 0===n?void 0:n.segmentationOfferId},Hr(d.qv,null,Hr(Mr.O,null)),Hr(d.qv,{renderOnError:function(){return Hr(Fe.j,{content:n.content})}},Hr(v.V,{error:null===n||void 0===n?void 0:n.error}),Hr(x,null,Hr(A.t,null,Hr(t,n),Hr(jn.Z,null))))),Hr(Zr,null)),G=Hr(f.Fragment,null,Hr(Te,{segmentationOfferId:null===n||void 0===n?void 0:n.segmentationOfferId},Hr(t,n)));if(F){var V=(0,I.A4)(s.getState());return Hr(f.Fragment,null,Hr(f.StrictMode,null,Hr(qr,{apiKey:V},Hr(Me.b,{analyticsClient:y,apolloClient:m,appContext:B,appContextOptions:q,country:h,env:b,featureFlags:g,store:s,language:P,logger:c,sessionCookieName:M,toggles:Z},j?G:H))))}return Hr(f.Fragment,null,Hr(f.StrictMode,null,Hr(Me.b,{analyticsClient:y,apolloClient:m,appContext:B,appContextOptions:q,country:h,env:b,featureFlags:g,store:s,language:P,logger:c,sessionCookieName:M,toggles:Z},j?G:H)))},zr=function(e,t){var n=(0,_.Lf)()?Xr(e):Kr(e);n&&t.dispatch((0,S.BT)(n))},Xr=function(e){var t,n=null===e||void 0===e||null===(t=e.ctx)||void 0===t?void 0:t.query,r=(0,C.tW)(n);return(0,C.rz)(r)},Kr=function(e){var t,n;return null===e||void 0===e||null===(t=e.ctx)||void 0===t||null===(n=t.req)||void 0===n?void 0:n.query},$r=function(e){var t=e.getState(),n=(0,S.vl)(t)[l().app.PAYPAL.name]===l().app.PAYPAL.values.ACCEPT;e.dispatch((0,wt.p6)(n))};function Yr(e){var t=e.label,n=e.name,r=e.startTime,o=e.value;if("custom"===t)switch(n){case"Next.js-render":null===O.kg||void 0===O.kg||O.kg.info({type:"perf",label:"transition",from:xr,to:Ur,duration:o,startTime:r},"transition")}}Vr.getInitialProps=function(){var e=(0,u.Z)(i().mark((function e(t){var n,r,o,a,u,s,f,p,d,v,m,y,h,E,P,T,b,S,I,C,A,w,R,D,j,k,x,U;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m=Date.now(),y=null===(n=t.ctx)||void 0===n||null===(r=n.req)||void 0===r?void 0:r.logger,(0,_.Lf)()&&!y&&(y=O.kg),t.ctx.logger=y,(h=null===(o=t.ctx)||void 0===o||null===(a=o.req)||void 0===a?void 0:a.query)&&!h[l().app.STARTING_STEP.name]&&(P=null===(E=t.ctx.pathname)||void 0===E?void 0:E.split("/")[1])&&(h[l().app.STARTING_STEP.name]=P),h&&!h[l().app.STEP_WIZARD_COOKIE.name]&&(T=Math.floor(1e3+9e3*Math.random()).toString(),h[l().app.STEP_WIZARD_COOKIE.name]=T),t.ctx.features=(0,Sn.h)(null===(u=t.ctx)||void 0===u||null===(s=u.res)||void 0===s?void 0:s.features),b=t.ctx.store=Pn(He(t.ctx),y),zr(t,b),(0,_.Lf)()){e.next=17;break}if(t.ctx.pathname.includes(te.Z.PRELOAD)){e.next=14;break}return e.next=14,jr(t.ctx);case 14:return $r(b),e.next=17,qn(t.ctx);case 17:return S=t.ctx.apolloClient=It(null,y,b),I=Date.now(),e.next=21,c.default.getInitialProps(t);case 21:if(C=e.sent,(0,_.Lf)()||((0,g.MC)(b.getState(),t.ctx,C),null!==(A=t.ctx)&&void 0!==A&&null!==(w=A.req)&&void 0!==w&&w.perf&&(t.ctx.req.perf.pagePropsInit=Date.now()-I)),R=b.getState(),(0,_.Lf)()){e.next=29;break}return e.next=27,Ne(R,t.ctx);case 27:D=e.sent,b.dispatch((0,ce.OM)({convertible:D.convertible,organizationId:D.organizationId,organizationName:D.organizationName,trialContractId:D.trialContractId,trialUsersCount:D.trialUsersCount}));case 29:R=b.getState(),j=S.cache.extract(),k=t.ctx.features,x=void 0===k?(0,Sn.h)(null===(f=t.ctx)||void 0===f||null===(p=f.res)||void 0===p?void 0:p.features):k,U=Gr(Gr({},C),{},{features:x,initialApolloState:j,initialStoreState:R,logger:(0,_.Lf)()?y:void 0}),!1,e.next=38;break;case 37:U.initialApolloState=e.sent;case 38:return!(0,_.Lf)()&&null!==(d=t.ctx)&&void 0!==d&&null!==(v=d.req)&&void 0!==v&&v.perf&&(t.ctx.req.perf.appPropsInit=Date.now()-m),e.abrupt("return",U);case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Qr=Vr},1375:function(e,t,n){"use strict";n.d(t,{Zb:function(){return f},Ib:function(){return p},B0:function(){return d}});var r=n(26265),o=n(41681),i=n(97803),a=n(24817),u=n(34155);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){return(0,a.Z0)(e)?u.env.IMS_CLT_APP_SECRET:u.env.IMS_CLT_SECRET}function f(e){return s(s({},(0,o.ft)(e)),{},{secret:l(e)})}function p(){return{domain:(0,o.Fy)(),clientId:d(),secret:u.env.IMS_SVR_SECRET,authCode:u.env.IMS_SVR_AUTH_CODE}}function d(){return i.$.UNIFIED_CHECKOUT_SERVER}},75295:function(e,t,n){"use strict";n.d(t,{Y:function(){return d}});var r=n(809),o=n.n(r),i=n(92447),a=n(19529);function u(){return{expiry:Number.MAX_SAFE_INTEGER,tokenPromise:null}}var c=u();function s(e,t){return a.Z.getImsServiceToken(e,t)}function l(){return!c.tokenPromise||Date.now()>c.expiry}function f(e){return Date.now()+1e3*e.expires_in/1.2}function p(){c=u()}function d(){return v.apply(this,arguments)}function v(){return(v=(0,i.Z)(o().mark((function e(){var t,n,r,i,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},n=a.length>1?a[1]:void 0,e.prev=2,!l()){e.next=12;break}return c.expiry=Number.MAX_SAFE_INTEGER,c.tokenPromise=s(t,n),e.next=8,c.tokenPromise;case 8:r=e.sent,c.expiry=f(r),e.next=15;break;case 12:return e.next=14,c.tokenPromise;case 14:r=e.sent;case 15:i=r.access_token,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),p();case 21:return e.abrupt("return",i);case 22:case"end":return e.stop()}}),e,null,[[2,18]])})))).apply(this,arguments)}},19529:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(809),o=n.n(r),i=n(92447),a=n(26265),u=n(49675),c=n(47130),s=n(60196);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var f,p=(0,c.Z)(),d=function(){var e=(0,i.Z)(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.clone().json();case 3:n=e.sent,r=(0,s.oY)(t.url),i=new URLSearchParams(r.params).toString(),a=i?"".concat(r.url,"?").concat(i):"".concat(r.url),n&&f.info({data:n,path:a,status:t.status}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),v={request:function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({agent:p,compress:!0},t);return f=null===t||void 0===t?void 0:t.logger,[e,n]},response:function(e){if(+(null===e||void 0===e?void 0:e.status)>=300)throw f&&d(e),e;return e}},m=n(1375),O=n(10975),g=n(80129);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(){var e=(0,u.Z)(v),t=function(){var e=(0,i.Z)(o().mark((function e(t,r){var i,a,u,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>2&&void 0!==c[2]?c[2]:{},a=c.length>3?c[3]:void 0,(u=h({},(0,m.Zb)(r))).authCode=t,e.abrupt("return",n(u,i,a));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n=function(){var t=(0,i.Z)(o().mark((function t(n){var r,i,a,u=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},i=u.length>2?u[2]:void 0,a={grant_type:"authorization_code",code:n.authCode,client_id:n.clientId,client_secret:n.secret},t.next=5,e.post("".concat(n.domain,"/ims/token/v2?").concat((0,g.stringify)(a)),{headers:h({},r),logger:i});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return h(h({},e),{},{getImsHealthCheck:function(t){var n=(0,m.Ib)();return e.get("".concat(n.domain,"/ims/healthcheck"),{headers:(0,a.Z)({},O.A.name.X_IMS_CLIENTID,n.clientId),timeout:u.L.IMS_HEALTH_CHECK_TIMEOUT,logger:t})},getImsProfileAndToken:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,i=(0,m.Zb)(n);return e.post("".concat(i.domain,"/ims/token/v3"),{body:(0,g.stringify)({grant_type:"aux_sid_exchange",client_id:i.clientId,client_secret:i.secret,aux_sid:t,scope:i.scopes,project_user_profile:!0}),headers:h({"Content-Type":"application/x-www-form-urlencoded"},r),timeout:u.L.SHORT_HTTP_TIMEOUT,logger:o})},getImsAccessToken:t,getImsProfileAndTokenFromImplicitJumpToken:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,a=(0,m.Zb)(r),c={client_id:a.clientId};return e.get("".concat(a.domain,"/ims/jump/implicit/").concat(t,"?").concat((0,g.stringify)(c)),{headers:h({Authorization:"Bearer ".concat(n)},o),timeout:u.L.SHORT_HTTP_TIMEOUT,logger:i},{includeHeaders:!0})},getImsServiceToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=(0,m.Ib)();return n(r,e,t)}})}()},76363:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(98207)}])},33719:function(e){"use strict";if(typeof dtrace-provider==="undefined"){var t=new Error("Cannot find module 'dtrace-provider'");throw t.code="MODULE_NOT_FOUND",t}e.exports=dtrace-provider},35747:function(e){"use strict";e.exports=fs},1070:function(e){"use strict";if("undefined"===typeof mv){var t=new Error("Cannot find module 'mv'");throw t.code="MODULE_NOT_FOUND",t}e.exports=mv},12087:function(e){"use strict";e.exports=os},62816:function(e){"use strict";if(typeof safe-json-stringify==="undefined"){var t=new Error("Cannot find module 'safe-json-stringify'");throw t.code="MODULE_NOT_FOUND",t}e.exports=safe-json-stringify},77748:function(e){"use strict";if(typeof source-map-support==="undefined"){var t=new Error("Cannot find module 'source-map-support'");throw t.code="MODULE_NOT_FOUND",t}e.exports=source-map-support},19917:function(){},34828:function(){},8777:function(){}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[9774,3291,3957,1549,532,6618,809,7946,3433,2484,8496,7656,6188,1721,1403,2975,4106,228,3728,4497,3168,4856,7957,1913,718],(function(){return t(76363),t(72441)}));var n=e.O();_N_E=n}]);