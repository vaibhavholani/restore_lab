(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4780],{82093:function(e,t,n){"use strict";n.d(t,{$G:function(){return Z},O0:function(){return O},sH:function(){return y}});var o=n(67294),r=n(37244),i=n.n(r),a=n(33386),l=n(54147),u=n(69927),d=n(79885),c=n(44596),s=n(96029);function f(e){var t,n;return!(null===e||void 0===e||null===(t=e.data)||void 0===t||!t.price)&&!(null===e||void 0===e||null===(n=e.data)||void 0===n||!n.formatString)}var p=n(65455),v=n(18983),m=n(34937),g=n(52148),E=n(37703),T=n(10315),C=o.createElement,b=function(e){var t=e.onSelectionChange,n=e.bundleData,r=e.addIntentDrivenProductContent,v=n.offers,T=(0,o.useState)(null===n||void 0===n?void 0:n.selectedOfferId),b=T[0],O=T[1],S=(0,E.useSelector)(s.By)===i().app.LAYOUT.values.SLIM,y=(0,l.VB)(l.yr),I=!(0,l._8)(l.S1)&&v.length>2,_=(0,E.useSelector)(p.Uh);var h={data:(0,c.tp)(v,r,_),options:{bestValueOfferId:(0,c.ef)(v),selectedOfferId:(0,c.B8)(b,v),on_selection_change:function(e){if(e.selected){var n=e.data.data.offerId;O(n),t(n)}},viewMode:y||S&&I?d.wO.MOBILE:d.wO.DESKTOP,showProductLearnMoreLink:r}},N=(0,g.Cd)(),A=N.validateOfferContent,R=N.validateContentEntry;function D(e){var t=[{name:"name"},{name:"icons",validate:function(e){return e.length>=1}},{name:"startingPrice",validate:f},{name:"strikethroughPrice",validate:function(e){return null===e||f(e)}}];e.forEach((function(e){return A("BundleSelection",t,e)}))}var P=(0,m.useContentEntry)(u.BundleContentModel);return(0,o.useEffect)((function(){D(h.data),R(P)}),[]),C("div",{className:a.Z.bundleSelectionContainer},C(d.go,h))},O=(0,T.n)("bundleContent",u.BundleContentModel)(b),S=(0,T.n)("languageWordOrder",v.LanguageWordOrderModel)((function(){return null})).queryCollection;O.queryCollection.merge(S);var y=(0,T.n)("bundleContent",u.BundleContentModel)(b),I=n(91229),_=n(26265),h=n(63905),N=n(78254),A=n(26075),R=(0,m.defineContents)("BundleDescription",{description:{id:"description",type:"object",placeholderContent:{json:[{nodeType:"paragraph",content:[{nodeType:"text",value:"Learn more about "},{nodeType:"link",value:"{product1}",data:{href:"#",class:"bundle-description-product-1-link"}},{nodeType:"text",value:" or "},{nodeType:"link",value:"{product2}",data:{href:"#",class:"bundle-description-product-2-link"}},{nodeType:"text",value:"."}]}]}},threeProductsDescription:{id:"threeProductsDescription",type:"object",placeholderContent:{json:[{nodeType:"paragraph",content:[{nodeType:"text",value:"Learn more about "},{nodeType:"link",data:{href:"#",class:"bundle-description-product-1-link"},value:"{product1}"},{nodeType:"text",value:", "},{nodeType:"link",data:{href:"#",class:"bundle-description-product-2-link"},value:"{product2}"},{nodeType:"text",value:" or "},{nodeType:"link",data:{href:"#",class:"bundle-description-product-3-link"},value:"{product3}"},{nodeType:"text",value:"."}]}]}},oneProductDescription:{id:"oneProductDescription",type:"object",placeholderContent:{json:[{nodeType:"paragraph",content:[{nodeType:"text",value:"Learn more about "},{nodeType:"link",data:{href:"#",class:"bundle-description-product-1-link"},value:"{product1}"},{nodeType:"text",value:"."}]}]}}}),D=n(298),P=n(47758),k=n(6119),L=n(52253),U=n(56),w=n(30488),M=n(12510),j=n(52007),G=n(73113),x=o.createElement;function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,_.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=(0,T.n)("bundleDescription",R)((function(e){var t=e.bundleDescriptionVariables,n=e.locale,o=e.offerContents,r=e.productArrangementCodes,i=e.productLogoUrls,a=(0,M.useStore)(),l=(0,U.TZ)(),u=(0,w.useCommerceAppContext)().hostCtxId,d=(0,A.x)(),c=(0,G.withDialog)((function(e){var t,n,c,s=e.control,f=e.onClose,p=null===s||void 0===s||null===(t=s[0])||void 0===t||null===(n=t.className)||void 0===n||null===(c=n.match(/\d/))||void 0===c?void 0:c[0],v=null===o||void 0===o?void 0:o[p],m=null===r||void 0===r?void 0:r[p],g=null===i||void 0===i?void 0:i[p];return x(k.l,{onClose:f,offerContent:v,productArrangementCode:m,productLogoUrls:g,commerceAppContext:u,errorBoundaryComponentName:"BundleDescription",store:a,apolloClient:d,adobeLaunchAnalytics:l,features:(0,P.h)()})}),{onClick:function(e){return e.className.includes("bundle-description-product-1-link")||e.className.includes("bundle-description-product-2-link")||e.className.includes("bundle-description-product-3-link")}})((function(e){var o=e.onClick,r=(0,m.useContentEntry)(R),i=r.get(R.description),a=r.get(R.threeProductsDescription),l=r.get(R.oneProductDescription),u=(0,j.useTrackEvent)(),d=function(e){var t=e.target.innerText,n=(0,D.W6)("".concat(t,":").concat(L.ps.LEARN_MORE_CLICK),L.ps.LEARN_MORE_ACTION);u(n),null===o||void 0===o||o(e.target)},c=function(e,t,n,o,r){var i=e;return 3===o.totalNumberOfBundleOffers?i=t:1===o.totalNumberOfBundleOffers&&(i=n),{data:i,json:i.json,placeHolderContext:H({},o),locale:r}}(i,a,l,t,n);return x("div",{className:h.Z.bundleDescription,role:"button",onKeyDown:function(e){13!==e.keyCode&&"Enter"!==e.key||(e.preventDefault(),d(e))},onClick:d,"data-testid":"bundle-description-box"},x(N.h,(0,I.Z)({},c,{parentComponentName:"bundleDescription"})))}));return x(c,null)}))},78254:function(e,t,n){"use strict";n.d(t,{h:function(){return v}});var o,r,i,a,l=n(26265),u=n(30403),d=n(67294);!function(e){e.PARAGRAPH="paragraph",e.HEADER="header",e.UNORDERED_LIST="unordered-list"}(o||(o={})),function(e){e.HEADING_ONE="h1",e.HEADING_TWO="h2",e.HEADING_THREE="h3"}(r||(r={})),function(e){e.TEXT="text",e.LINK="link",e.LIST_ITEM="list-item"}(i||(i={})),function(e){e.BOLD="bold",e.ITALIC="italic",e.UNDERLINE="underline"}(a||(a={}));var c,s,f=n(19291),p=d.createElement,v=function(e){var t,n,c,s,v=e.parentComponentName;function m(e){return null===e||void 0===e?void 0:e.map((function(e,t){return function(e,t){return C[e.nodeType](e,null,t)}(e,t)}))}function g(e,t){return"".concat(v,"_").concat(e,"_").concat(t)}var E=(t={},(0,l.Z)(t,o.PARAGRAPH,(function(e,t,n){return p("span",{key:g(o.PARAGRAPH,n)},t)})),(0,l.Z)(t,o.HEADER,(function(e,t,n){return T[e.style](e,t,n)})),(0,l.Z)(t,o.UNORDERED_LIST,(function(e,t,n){return p("ul",{key:g(o.UNORDERED_LIST,n)},t)})),t),T=(n={},(0,l.Z)(n,r.HEADING_ONE,(function(e,t,n){return p("h1",{key:g(r.HEADING_ONE,n)},t)})),(0,l.Z)(n,r.HEADING_TWO,(function(e,t,n){return p("h2",{key:g(r.HEADING_TWO,n)},t)})),(0,l.Z)(n,r.HEADING_THREE,(function(e,t,n){return p("h3",{key:g(r.HEADING_THREE,n)},t)})),n),C=(c={},(0,l.Z)(c,i.TEXT,(function(e,t,n){var o,r=O(e.value);return null===(o=e.format)||void 0===o||o.variants.map((function(t){return r=b[t](e,r,n)})),r})),(0,l.Z)(c,i.LINK,(function(e,t,n){var o,r,a,l,u;return O(decodeURIComponent(null===(o=e.data)||void 0===o?void 0:o.href))?p("a",{href:O(decodeURIComponent(null===(a=e.data)||void 0===a?void 0:a.href)),target:null===(l=e.data)||void 0===l?void 0:l.target,className:null===(u=e.data)||void 0===u?void 0:u.class,key:g(i.LINK,n)},O(e.value)):p("span",{key:g(i.LINK,n),className:null===(r=e.data)||void 0===r?void 0:r.class},O(e.value))})),(0,l.Z)(c,i.LIST_ITEM,(function(e,t,n){return p("li",{key:g(i.LIST_ITEM,n)},m(e.content))})),c),b=(s={},(0,l.Z)(s,a.BOLD,(function(e,t,n){return p("b",{key:g(a.BOLD,n)},t)})),(0,l.Z)(s,a.ITALIC,(function(e,t,n){return p("i",{key:g(a.ITALIC,n)},t)})),(0,l.Z)(s,a.UNDERLINE,(function(e,t,n){return p("u",{key:g(a.UNDERLINE,n)},t)})),s);function O(t){var n=new u.default(t,e.locale||"en-US").format(e.placeHolderContext);return(0,f.Xv)(n)}return p(d.Fragment,null," ",null!==e&&void 0!==e&&e.json?e.json.map((function(e,t){return function(e,t){return E[e.nodeType](e,m(e.content),t)}(e,t)})):e.plaintext," ")},m=(n(96168),n(44159),n(34937));!function(e){e.PARAGRAPH="paragraph",e.HEADING_ONE="heading-one",e.HEADING_TWO="heading-two"}(c||(c={})),function(e){e.BOLD="bold",e.ITALIC="italic",e.UNDERLINE="underline",e.HYPERLINK="hyperlink"}(s||(s={}));var g=(0,m.defineContents)("RichTextChild",{text:{id:"text",type:"string"},bold:{id:"bold",type:"string"},italic:{id:"italic",type:"string"},underline:{id:"underline",type:"string"},hyperlink:{id:"hyperlink",type:"string"},class:{id:"class",type:"string"},link:{id:"link",type:"string"},tooltip:{id:"tooltip",type:"string"}});(0,m.defineContents)("RichText",{type:{id:"type",type:"string"},children:{id:"children",type:g,isArray:!0}}),d.createElement},67281:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Je}});var o=n(809),r=n.n(o),i=n(26265),a=n(92447),l=n(67294),u=n(37244),d=n.n(u),c=n(19291),s=n(99246),f=n(84054),p=n(65455),v=n(36902),m=n(94797),g=n(49644),E=n(90325),T=n(58886),C=n(47565),b=n(96029),O=n(61792),S=n(57332),y="SegmentationChallenger__bundleSelector__wibtQ",I=n(14834),_=n(65625),h=n(7655),N=n(42861),A=n(82093),R=n(1025),D=n(23996),P=n(2385),k=n(37629),L=n(52253),U=n(41681),w=n(298),M=n(11426),j=n(62482),G=n(34937),x=(0,G.defineContents)("SegmentationChallengerPageContentType",{pageTitle:{id:"pageTitle",type:"string",placeholderContent:"{ type, select,\n        DAY {Pick a plan - your first {trialTerm, plural, =1 {day is} other {# days are}} free.}\n        WEEK {Pick a plan - your first {trialTerm, plural, =1 {week is} other {# weeks are}} free.}\n        MONTH {Pick a plan - your first {trialTerm, plural, =1 {month is} other {# months are}} free.}\n        other {Pick a plan.}\n      }"},buttonContinue:{id:"buttonContinue",type:"string",placeholderContent:"Continue"},redirectingText:{id:"redirectingText",type:"string",placeholderContent:"Redirecting..."}});function B(e,t){var n,o,r=(null===e||void 0===e||null===(n=e.promotion)||void 0===n?void 0:n.promotionTerm)||"",i=(null===e||void 0===e||null===(o=e.promotion)||void 0===o?void 0:o.promotionTermValue)||0;return t.format(x.pageTitle,{type:r,trialTerm:i})}var H,Z,V,q=n(40705),K=n(30137),F=n(8703),W=n(44596),Y=n(36623),$=n(70721),Q=n(80827),X=n(84248),J="SegmentationTabs__tabsContainer__MCgjz",z=n(54147),ee=n(32292);!function(e){e.COM="COM",e.EDU="EDU",e.GOV="GOV"}(H||(H={})),function(e){e.TEAM="TEAM",e.INDIVIDUAL="INDIVIDUAL",e.ENTERPRISE="ENTERPRISE"}(Z||(Z={})),function(e){e.DEFAULT="DEFAULT",e.PERPETUAL="PERPETUAL",e.TRIAL="TRIAL",e.BASE="BASE",e.PROMOTION="PROMOTION"}(V||(V={}));var te=(0,G.defineContents)("ImageContentType",{publishUrl:{id:"_publishUrl",type:"string"},authorUrl:{id:"_authorUrl",type:"string"}}),ne=(0,G.defineContents)("SegmentationTab",{title:{id:"title",type:"string"},defaultIcon:{id:"defaultIcon",type:te},selectedIcon:{id:"selectedIcon",type:te},marketSegment:{id:"marketSegment",type:"string"},customerSegment:{id:"customerSegment",type:"string"},offerType:{id:"offerType",type:"string"}}),oe=(0,G.defineContents)("SegmentationTabs",{pickerLabel:{id:"pickerLabel",type:"string",placeholderContent:"Show me plans for:"},segmentations:{id:"segmentations",type:ne,isArray:!0,placeholderContent:[{title:"Individuals",defaultIcon:{_publishUrl:"https://odin.adobe.com/content/dam/checkout/images/segmentation/segmentation-tabs/individuals-default.svg"},selectedIcon:{_publishUrl:"https://odin.adobe.com/content/dam/checkout/images/segmentation/segmentation-tabs/individuals-selected.svg"},customerSegment:Z.INDIVIDUAL,marketSegment:H.COM},{title:"Students and teachers",defaultIcon:{_publishUrl:"https://odin.adobe.com/content/dam/checkout/images/segmentation/segmentation-tabs/students-and-teachers-default.svg"},selectedIcon:{_publishUrl:"https://odin.adobe.com/content/dam/checkout/images/segmentation/segmentation-tabs/students-and-teachers-selected.svg"},customerSegment:Z.INDIVIDUAL,marketSegment:H.EDU},{title:"Business",defaultIcon:{_publishUrl:"https://odin.adobe.com/content/dam/checkout/images/segmentation/segmentation-tabs/teams-default.svg"},selectedIcon:{_publishUrl:"https://odin.adobe.com/content/dam/checkout/images/segmentation/segmentation-tabs/teams-selected.svg"},customerSegment:Z.TEAM,marketSegment:H.COM},{title:"Schools and universities",defaultIcon:{_publishUrl:"https://odin.adobe.com/content/dam/checkout/images/segmentation/segmentation-tabs/schools-and-universities-default.svg"},selectedIcon:{_publishUrl:"https://odin.adobe.com/content/dam/checkout/images/segmentation/segmentation-tabs/schools-and-universities-selected.svg"},customerSegment:Z.TEAM,marketSegment:H.EDU}]}}),re=n(11168),ie=n(71263),ae=n(17182),le="SegmentationTab__tabContainer__7dHlg",ue="SegmentationTab__tabIcon__Cx15d",de="SegmentationTab__tabLabel__S2G22",ce=l.createElement,se=function(e){var t=e.id,n=e.isSelected,o=e.label,r=e.defaultIcon,i=e.selectedIcon;return ce("div",{className:le,"data-testid":"segmentation-tab-item-".concat(t)},function(e,t,n){return ce("div",{className:ue},e?n:t)}(n,r,i),ce("span",{className:de,"data-testid":"segmentation-tab-label"},o))},fe=n(52007),pe=n(10315),ve=l.createElement;function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ge(e,t){var n=e._publishUrl;return ve("img",{src:n,role:"presentation",alt:"","aria-labelledby":t})}var Ee=(0,pe.n)("segmentationTabs",oe)((function(e){var t=e.onSelect,n=e.segmentations,o=e.selectedTabId,r=(0,z.VB)(z.yr),a=(0,G.useContentEntry)(oe),u=a.get(oe.pickerLabel),d=(0,fe.useTrackEvent)(),c=function(e,t){var n=e.get("segmentations");return Array.isArray(n)&&t.map((function(e){var t=e||{},o=t.id,r=t.customerSegment,i=t.marketSegments,a=t.offerType,l=i||[""],u=(0,ee.Z)(l,1)[0],d=n.find((function(e){return e.marketSegment===u&&e.customerSegment===r&&(!e.offerType||e.offerType===a)}))||{},c=d.title,s=void 0===c?"":c,f=d.defaultIcon,p=void 0===f?"":f,v=d.selectedIcon;return{id:o,title:s,defaultIcon:p,selectedIcon:void 0===v?"":v,customerSegment:r,marketSegment:u,offerType:a}}))}(a,(0,l.useMemo)((function(){return n.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.offer)}))}),[n])),s=function(e){var n=c.find((function(t){return t.id===e})),r=n.customerSegment,i=n.marketSegment;n.id!==o&&f(r,i),t&&t(e)},f=function(e,t){var n;n=e===P.op.Individual?t===P.ii.Com?L.ps.SEGMENTATION_TAB_INDIVIDUAL:L.ps.SEGMENTATION_TAB_STUDENTS_TEACHERS:t===P.ii.Edu?L.ps.SEGMENTATION_TAB_SCHOOL_UNIVERSITY:L.ps.SEGMENTATION_TAB_TEAM;var o="".concat(n,":").concat(L.ps.SEGMENTATION_TAB_CLICK),r="".concat(n).concat(L.ps.SEGMENTATION_TAB),i=(0,w.W6)(o,r);d(i)};return ve("div",{className:J,"data-testid":"segmentation-tabs-container"},r?ve(re.cW,{isQuiet:!0,onSelectionChange:s,selectedKey:o,"data-testid":"segmentation-picker","aria-label":"Show me plans for",label:u},c.map((function(e){var t=e||{},n=t.id,o=t.title;return ve(ie.ck,{key:n},o)}))):ve(ae.mQ,{selectedKey:o,onSelectionChange:s,"data-testid":"segmentation-tabs","aria-label":"Show me plans for"},ve(ae.td,null,c.map((function(e){var t=e||{},n=t.id,r=t.title,i=t.defaultIcon,a=t.selectedIcon;return ve(ie.ck,{key:n},ve(se,{id:n,isSelected:o===n,label:r,defaultIcon:ge(i,r),selectedIcon:ge(a,r)}))})))))})),Te=n(22246),Ce=n(15257),be=n(46839),Oe=n(69047),Se=n(30488),ye=n(37703),Ie=n(52905),_e=n(23424),he=n(61274),Ne=n(62452),Ae=n(57876),Re=n(93633),De=n(96909),Pe=n(5764),ke=n(12510),Le=n(21346),Ue=n(60718),we=l.createElement;function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge=(0,pe.n)("segmentationChallengerPage",x)((function(){var e,t,n,o=(0,G.useContentEntry)(x),r=(0,Pe.R_)(),a=r.goToNextStep,u=r.hasPreviousStep,c=(0,Ne.eR)(Q.N$.EXTERNAL),v=(0,Ne.nV)(),m=(0,Ne.nV)(U.ki.BUSINESS_TRIAL),g=(0,ye.useDispatch)(),T=(0,ke.useStore)().getState(),C=(0,ye.useSelector)(p.mT),S=(0,ye.useSelector)(O.H0),_=(0,ye.useSelector)(p.n$),H=(0,ye.useSelector)(O.et).userId,Z=(0,ye.useSelector)(b.vl),V=d().app,J=V.PA_CODE,z=V.OFFER_TYPE,ee=V.ORIGINAL_OFFER_ID,te=V.CLIENT_ID,ne=V.SVAR,oe=V.ITEMS,re=Z[J.name],ie=Z[z.name],ae=Z[te.name],le=Z[ne.name],ue=(0,ye.useSelector)(b.By)===d().app.LAYOUT.values.SLIM,de=(0,M.Nk)(),ce=de.setBundleSourceOffer,se=de.setIsBundleOfferSelected,pe=(0,ye.useSelector)(M.tT),ve=(0,ye.useSelector)(M.x0),me=(0,De.W)(),ge=me.showApplePay,Me=me.showGooglePay,Ge=(0,l.useState)(!1),xe=Ge[0],Be=Ge[1],He=(0,l.useState)(!1),Ze=He[0],Ve=He[1],qe=(0,l.useState)(!1),Ke=qe[0],Fe=qe[1],We=(0,Se.useCommerceAppContext)().isInApp,Ye=(0,ye.useSelector)(p.dm),$e=Ye.teamAdminConsoleUrl,Qe=Ye.teamCCPlansUrl,Xe=Ye.teamCCEduPlansUrl,Je=Ye.teamDocumentPlansUrl,ze=(0,ye.useSelector)(Y.HU),et=(0,he.d0)(),tt=(0,he.Af)(),nt=(0,_e.g)([s.R.UC_SHOW_JARVIS_CHAT_SEG_BUND_REC_COMT_PAGES])[s.R.UC_SHOW_JARVIS_CHAT_SEG_BUND_REC_COMT_PAGES],ot=(0,Ae._)(),rt=ot.setIsJarvisChatEnabled,it=ot.setChatMode;(0,l.useEffect)((function(){(nt||ze)&&(rt(!0),it(""))}),[ze]);var at=(0,Le.z)(),lt=(0,fe.useTrackEvent)(),ut=L.ps.PLAN_PICK_ROUTE,dt=(0,_e.g)([s.R.P_UC_USE_TEST_CAMPAIGNS,s.R.UC_INTENT_DRIVEN_PRODUCT_CONTENT,s.R.UC_REDIRECT_ROUTE]),ct=dt[s.R.P_UC_USE_TEST_CAMPAIGNS],st=(0,q.nh)(T,dt),ft=(0,Re.a)(f.VQ,{variables:(0,f.tH)(C,re,_,ie,H,ae,le,et,ct)}),pt=ft.error,vt=ft.loading,mt=ft.data,gt=ft.previousData,Et=vt?gt:mt,Tt=(null===Et||void 0===Et?void 0:Et.segmentationBundleOffers)||[],Ct=Tt.map((function(e){return e.segmentationOffer}))||[],bt=(0,E.V$)(Z,Ct),Ot=(0,l.useState)(bt),St=Ot[0],yt=Ot[1],It=(0,Ie.T)(),_t=Tt.reduce((function(e,t){var n,o,r=null===t||void 0===t||null===(n=t.segmentationOffer)||void 0===n?void 0:n.offer,i=null===r||void 0===r||null===(o=r.productArrangement)||void 0===o?void 0:o.family;return(null===r||void 0===r?void 0:r.id)===St&&r.customerSegment===P.op.Individual&&r.marketSegments.includes(P.ii.Com)&&0===(e=t.bundleOffers.map((function(e){var t=e.offer,n=e.comparedWithSourcePrice;return je(je({},t),{},{productArrangement:t.productArrangement,comparedWithSourcePrice:n,targetOfferFamily:i,productName:ve,parentAnalytics:null===r||void 0===r?void 0:r.analytics})}))).length?[r]:e}),[]),ht=(0,ye.useSelector)(b.yq),Nt=_t.filter((function(e){return e.id===(null===ht||void 0===ht?void 0:ht[0])})).length>0,At=Nt&&null!==(e=null===ht||void 0===ht?void 0:ht[0])&&void 0!==e?e:bt,Rt=(0,l.useState)(At),Dt=Rt[0],Pt=Rt[1],kt=Z[oe.name]&&Nt?Z:je(je({},Z),{},(0,i.Z)({},oe.name,[{id:bt}])),Lt=(0,l.useState)(kt),Ut=Lt[0],wt=Lt[1],Mt={offers:_t,selectedOfferId:Dt};(0,l.useEffect)((function(){var e=(null===ht||void 0===ht?void 0:ht[0])||At;if(!pt&&!vt&&Mt.offers.length>0&&!pe){var t,n=Mt.offers.find((function(t){return(null===t||void 0===t?void 0:t.id)===e}));ce(e,null===n||void 0===n||null===(t=n.offerContent)||void 0===t?void 0:t.productName)}}),[Mt.offers.length,ht,pe,Mt.offers,ce,pt,vt,At]);var jt=(0,l.useRef)({isDefaultSegmentSelected:!0}),Gt=(0,l.useRef)({isDefaultSelected:!0});(0,l.useEffect)((function(){if(St){if(jt.current.isDefaultSegmentSelected){It(k.P.PAGE_LOAD,{offers:Ct,selectedOfferId:St});var e=(0,Ce.SQ)(Ct,St,!0),t=e.offer,n=e.selectedPodEvent,o=e.flowTypeAttributes,r=(0,w.Nf)(t,o,T,L.RC.EVENT_STATE_TYPE,n,ut,ge,Me);at(r)}else{It(k.P.SEGMENT_SELECTED,{offers:Ct,selectedOfferId:St});var i=(0,Ce.SQ)(Ct,St,!1),a=i.offer,l=i.selectedPodEvent,u=i.flowTypeAttributes,d=(0,w.Nf)(a,u,T,L.RC.EVENT_LINK_TYPE,l,ut);at(d)}jt.current.isDefaultSegmentSelected=!1,Mt.offers.length>0&&Wt(Dt)}}),[St]);var xt=null===_t||void 0===_t?void 0:_t.reduce((function(e,t,n){var o,r=null===t||void 0===t?void 0:t.offerContent,a=null===r||void 0===r?void 0:r.productName,l=n+1;return{content:je(je({},e.content),{},(0,i.Z)({},l,r)),productArrangementCodes:je(je({},e.productArrangementCodes),{},(0,i.Z)({},l,t.productArrangementCode)),productLogoUrls:je(je({},e.productLogoUrls),{},(0,i.Z)({},l,r.productIconUrls)),descriptionVariables:je(je({},e.descriptionVariables),{},(o={},(0,i.Z)(o,"product".concat(n+1),a),(0,i.Z)(o,"totalNumberOfBundleOffers",l),o))}}),{}),Bt=(0,G.useContentEntry)(void 0,!0);!function(){if((0,W.$D)(_t)){var e=Bt.get("bundleContentList"),t=Bt.get("bestValueList");if(t&&e){var n=e.items[0].bestValue,o=t.items[0];n.label=o.label,n.variant=o.variant}}}();var Ht=null===_t||void 0===_t?void 0:_t.find((function(e){return(null===e||void 0===e?void 0:e.id)===Dt})),Zt=null===Ht||void 0===Ht?void 0:Ht.offerContent,Vt=null===Ht||void 0===Ht||null===(t=Ht.productArrangement)||void 0===t?void 0:t.cloud,qt=X.R[null===Ht||void 0===Ht?void 0:Ht.offerType],Kt=null===Ht||void 0===Ht?void 0:Ht.productArrangementCode,Ft=null===Ht||void 0===Ht||null===(n=Ht.offerContent)||void 0===n?void 0:n.productIconUrls;function Wt(e){var t=Z[d().app.ITEMS.name],n=Object.assign({},null===t||void 0===t?void 0:t[0]);n&&(n.id=e);var o=je(je({},Z),{},(0,i.Z)({},d().app.ITEMS.name,[n]));Pt(e),wt(o),function(e){var t=(0,Ce.xy)(Mt.offers,e,Gt.current.isDefaultSelected),n=t.offer,o=t.selectedPodEvent,r=t.flowTypeAttributes,i=(0,w.Nf)(n,r,T,Gt.current.isDefaultSelected?L.RC.EVENT_STATE_TYPE:L.RC.EVENT_LINK_TYPE,o,ut,ge,Me);at(i),Gt.current.isDefaultSelected=!1}(e)}function Yt(e){return Ct.find((function(t){return(null===t||void 0===t?void 0:t.offer.id)===e}))}function $t(){var e;Qt()&&(Ut[ee.name]=null===(e=Xt(P.op.Individual,P.ii.Com))||void 0===e?void 0:e.id);se(pe!==Dt);var t=(0,w.W6)("".concat(L.ps.PLAN_PICK_ROUTE,":").concat(L.ps.CONTINUE,":").concat(L.ps.CLICK),L.ps.CONTINUE);lt(t),a(function(){var e,t=je({},Ut),n=null===Mt||void 0===Mt||null===(e=Mt.offers)||void 0===e?void 0:e.find((function(e){return(null===e||void 0===e?void 0:e.id)===Dt}));return(0,Te.m)(t,n,tt),t}())}(0,l.useEffect)((function(){Ze&&$t(),Ve(!1)}),[Ze]);var Qt=function(){var e=Xt(P.op.Individual,P.ii.Com),t=Xt(P.op.Individual,P.ii.Edu);return e&&t&&e.productArrangement.family!==t.productArrangement.family&&t.id===Dt},Xt=function(e,t){var n;return null===(n=Ct.find((function(n){return(null===n||void 0===n?void 0:n.offer.customerSegment)===e&&(null===n||void 0===n?void 0:n.offer.marketSegments.includes(t))})))||void 0===n?void 0:n.offer};return we(l.Fragment,null,Ke?we(K.b,{workflow:S?F.q.TEAM_ADMIN:F.q.BUSINESS_TRIAL}):we(Ue.Ru,{showOneColumnOnDesktop:!ue},we(Ue.uN,null,we(N.qv,{logMeta:{componentName:"Bundle",errorLoadingComponent:"StepHeader"}},we(be.l,{title:B(Ht,o)})),we(Ee,{onSelect:function(e){var t,n;yt(e),Pt(e),g((0,Y.$C)(e));var o=null!==(t=null===(n=Yt(e))||void 0===n?void 0:n.offer)&&void 0!==t?t:{},r=o.customerSegment,i=o.marketSegments,a=o.offerType;r===P.op.Individual&&i.includes(P.ii.Edu)&&(Wt(e),Ve(!0)),r===P.op.Team&&(Be(!0),setTimeout((function(){Pt(At),yt(bt),Be(!1)}),10),setTimeout((function(){!function(e,t){if(S)We()?(Fe(!0),v((0,j.AK)($e,dt[s.R.UC_REDIRECT_ROUTE]))):c($e);else if(e===X.R.TRIAL){var n,o,r,i=null===(n=Ct.find((function(e){return e.offer.id===bt})))||void 0===n||null===(o=n.offer)||void 0===o||null===(r=o.productArrangement)||void 0===r?void 0:r.family,a=(0,j.dy)(t,C,_,i);We()?(Fe(!0),m(a)):c(a)}else{var l,u,d,f,p=(null===(l=Yt(t))||void 0===l?void 0:l.offer)||{};d=(null===p||void 0===p||null===(u=p.productArrangement)||void 0===u?void 0:u.cloud)===D.e.DOCUMENT?Je:null!==p&&void 0!==p&&null!==(f=p.marketSegments)&&void 0!==f&&f.includes(P.ii.Com)?Qe:Xe,We()?(Fe(!0),v((0,j.AK)(d,dt[s.R.UC_REDIRECT_ROUTE]))):c(d)}}(a,e)}),15))},code:re,segmentations:Ct,selectedTabId:St}),_t.length>0?we("div",{className:y},!st&&xt&&we(A.$G,{bundleDescriptionVariables:xt.descriptionVariables,locale:_,offerContents:xt.content,productArrangementCodes:xt.productArrangementCodes,productLogoUrls:xt.productLogoUrls}),Ht&&we(Oe.o,{offer:Ht}),we(A.O0,{onSelectionChange:Wt,bundleData:Mt,addIntentDrivenProductContent:st})):xe&&we($.a,{message:o.get(x.redirectingText),showRedirect:!0}),_t.length>0&&we(I.s,{ctaLabel:o.get(x.buttonContinue),onCtaClick:$t,showBackButton:u()})),we(Ue.Wh,{showOneColumnOnDesktop:!ue},we(N.qv,{logMeta:{componentName:"SegmentationChallenger",errorLoadingComponent:"AllPlansInclude"}},we(h.R,{cloud:Vt,offerType:qt,offerContent:Zt,productArrangementCode:Kt,productLogoUrls:Ft})),we(N.qv,{logMeta:{componentName:"Segmentation",errorLoadingComponent:"ClarityTerms"}},we(R.J,{offer:Ht,isInOneColumn:!ue})))))})),xe=(0,pe.n)("allFulfillableItemLists",_.AllFulfillableItemListsContentModel)((function(){return null})).queryCollection,Be=Ge.queryCollection;Be.merge(h.R.queryCollection),Be.merge(A.$G.queryCollection),Be.merge(Oe.o.queryCollection),Be.merge(A.sH.queryCollection),Be.merge(R.J.queryCollection),Be.merge(Ee.queryCollection),Be.merge(xe);var He=n(59276),Ze=n(46576),Ve=n(59205),qe=l.createElement;function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var We=["/pcs/compare"],Ye=function(){var e=(0,ke.useStore)(),t=(0,_e.g)([s.R.UC_FORCE_SEGMENTATION_CHALLENGER]),n=e.getShouldRenderSegmentationChallenger(t);return(0,Ze.Vk)(),qe(n?Ge:f.vI,null)},$e=function(){var e=(0,a.Z)(r().mark((function e(t){var n,o,a,l,u,y,I,_,h,N,A,R,D,P,k,L,U,w,M,j,G,x,B,H,Z,V,q;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y=t.apolloClient,I=t.features,_=t.res,h=t.store,N=t.logger,A=h.getState(),R=(0,p.mT)(A),D=(0,p.n$)(A),P=(0,b.vl)(A)[d().app.PA_CODE.name],k=(0,b.vl)(A)[d().app.OFFER_TYPE.name],L=null===(n=(0,O.et)(A))||void 0===n?void 0:n.userId,U=(0,b.vl)(A)[d().app.CLIENT_ID.name],w=(0,b.vl)(A)[d().app.SVAR.name],M=(0,C.jD)(A,I.includes(s.R.UC_FLEXIBLE_PROMOTIONS)),null===_||void 0===_||!_.writableEnded){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,(0,T.C)(A,t.logger);case 14:return j=e.sent,(0,c._H)(j,null===(o=t.req)||void 0===o||null===(a=o.headers)||void 0===a?void 0:a.cookie),e.next=18,y.query({query:f.VQ,variables:(0,f.tH)(R,P,D,k,L,U,w,M,I.includes(s.R.P_UC_USE_TEST_CAMPAIGNS)),context:Fe({},j)});case 18:if(G=e.sent,A=h.getState(),null===G||void 0===G||!G.errors||(r=null===G||void 0===G?void 0:G.errors,(0,v.yC)(r).every((function(e){return We.includes(null===e||void 0===e?void 0:e.path)})))){e.next=25;break}if(x={currentRoute:S.Z.SEGMENTATION},!(B=(0,m.S2)(G.errors,y,h,x))){e.next=25;break}return e.abrupt("return",{error:B});case 25:if(null!==(H=null===G||void 0===G||null===(l=G.data)||void 0===l?void 0:l.segmentationBundleOffers)&&void 0!==H&&H.length){e.next=28;break}throw(0,g.n)();case 28:return N.info((0,E.qj)(H),"Segmentation Bundle Offers Response"),Z=(0,E.IG)(null===(u=H[0].segmentationOffer)||void 0===u?void 0:u.offer),h.dispatch((0,Y.fC)(Z)),V=H[0].id,q=Fe(Fe({},(0,b.vl)(A)),{},(0,i.Z)({},d().app.ITEMS.name,[{id:V}])),(0,Pe.OK)(t,S.Z.SEGMENTATION,{features:I,newQueryParams:q}),e.abrupt("return",{segmentationOfferId:V});case 35:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}();function Qe(e,t){e.info((0,E.W1)(t),"Segmentation Offers Response")}Ye.getInitialProps=function(){var e=(0,a.Z)(r().mark((function e(t){var n,o,a,l,u,v,m,E,y,I,_,h,N,A,R,D,P,k,L,U,w,M,j,G,x,B,H,Z;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I=t.apolloClient,_=t.features,h=t.res,N=t.store,A=t.logger,!N.getShouldRenderSegmentationChallenger((0,i.Z)({},s.R.UC_FORCE_SEGMENTATION_CHALLENGER,null===_||void 0===_?void 0:_.includes(s.R.UC_FORCE_SEGMENTATION_CHALLENGER)))){e.next=4;break}return e.abrupt("return",$e(t));case 4:return R=N.getState(),D=(0,p.mT)(R),P=(0,p.n$)(R),k=(0,b.vl)(R)[d().app.PA_CODE.name],L=(0,b.vl)(R)[d().app.OFFER_TYPE.name],U=null===(n=(0,O.et)(R))||void 0===n?void 0:n.userId,w=(0,b.vl)(R)[d().app.CLIENT_ID.name],M=(0,b.vl)(R)[d().app.SVAR.name],j=(0,C.jD)(R,_.includes(s.R.UC_FLEXIBLE_PROMOTIONS)),e.next=15,(0,T.C)(R,t.logger);case 15:if(G=e.sent,null===h||void 0===h||!h.writableEnded){e.next=18;break}return e.abrupt("return");case 18:return(0,c._H)(G,null===(o=t.req)||void 0===o||null===(a=o.headers)||void 0===a?void 0:a.cookie),e.next=21,I.query({query:f.j_,variables:(0,f.WC)(D,k,P,L,U,w,M,j,null===_||void 0===_?void 0:_.includes(s.R.P_UC_USE_TEST_CAMPAIGNS)),context:Fe({},G)});case 21:if(x=e.sent,R=N.getState(),null!==(B=null===x||void 0===x||null===(l=x.data)||void 0===l||null===(u=l.segmentationOffers)||void 0===u||null===(v=u.result[0])||void 0===v?void 0:v.offers)&&void 0!==B&&B.length){e.next=26;break}throw(0,g.n)();case 26:return Qe(A,null===x||void 0===x||null===(m=x.data)||void 0===m?void 0:m.segmentationOffers),H=null===(E=B[0])||void 0===E||null===(y=E.offer)||void 0===y?void 0:y.id,Z=Fe(Fe({},(0,b.vl)(R)),{},(0,i.Z)({},d().app.ITEMS.name,[{id:H}])),(0,Pe.OK)(t,S.Z.SEGMENTATION,{features:_,newQueryParams:Z}),e.abrupt("return",{segmentationOfferId:H});case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Xe=He.G.queryCollection;Xe.merge(Ge.queryCollection);var Je=(0,Ve.O)(Xe,S.Z.SEGMENTATION)(Ye)},17775:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/segmentation",function(){return n(67281)}])}},function(e){e.O(0,[9774,3291,3957,1549,532,6618,809,7946,3433,2484,8496,7656,6188,1721,1403,2975,4106,228,5339,6148,4088,898,9174,7779,3728,7284,5454,4528,7957,1913,718,9205,2084,4054,3390],(function(){return t=17775,e(e.s=t);var t}));var t=e.O();_N_E=t}]);